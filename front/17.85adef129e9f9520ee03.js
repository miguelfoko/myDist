(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"1IOM":function(t,n){t.exports="<router-outlet></router-outlet> \n"},"49B6":function(t,n){t.exports='<div class="row admin-communaute">\n  <div class="col">\n    <nb-card>\n      <nb-card-body>        \n        <nb-tabset fullWidth>\n\n          \x3c!-- Cr\xe9er une communaut\xe9 --\x3e\n          <nb-tab tabTitle="Cr\xe9er une communaut\xe9" tabIcon="nb-plus">\n            <form [formGroup]="form" (ngSubmit)="onSubmit()">\n              \n              <div class="row mt-1 create-communaute-container">\n                <nb-alert class="bottom col-md-12" status="{{ status }}" *ngIf="isSend" fullWidth closable (close)="onClose()">\n                  {{ messageCreation }}\n                </nb-alert>\n\n                <div class="field col-md-12">\n                  <label>Nom de la communaut\xe9</label>\n                  <div class="control">\n                    <input type="text" formControlName="nom" fullWidth placeholder="Saisir le nom de la communaut\xe9 conventionn\xe9e" nbInput>\n                  </div>\n                </div>\n\n                \x3c!-- <div class="field col-md-5" >\n                  <label>Op\xe9rateur Microcap</label>\n                  <div class="control">\n                    <nb-select formControlName="operateurMicrocap" outline status="success">\n                      <nb-option *ngFor="let user of microcapOperators" [value]="user" class="text-capitalize">\n                        {{ user.prenomUtilisateur }} {{ user.nomUtilisateur }}\n                      </nb-option>\n                    </nb-select>\n                  </div>\n                </div> --\x3e\n\n              </div>\n              <button status="success" type="submit" fullWidth nbButton>\n                Valider\n              </button>\n\n            </form>\n          </nb-tab>\n\n          <nb-tab tabTitle="Communaut\xe9s" tabIcon="nb-list">\n            <div class="consult-wrapper mt-4 px-4">\n            \n              <div class="options d-flex align-center mb-4">\n\n                <div class="filter p-2">\n                  <span class="mr-2">Filtrer mes communaut\xe9s</span>\n                  <nb-checkbox status="success"\n                   (change)="filter($event)">\n                  </nb-checkbox>\n                </div>\n\n                <div class="filter p-2" *ngIf=" !showMyCommunities " title="Revenir">\n                  <nb-actions size="medium" class="sidebar-toggle mr-2">\n                    <nb-action icon="nb-angle-double-left" class="px-0"\n                    (click)="goBackToCommunaute()">\n                    </nb-action>\n                  </nb-actions>\n                </div>\n                             \n                \n              </div>\n              \x3c!-- affiche les communautes d\'un utilisateur --\x3e\n              <div class="data table-responsive" *ngIf=" showMyCommunities ">\n                <table class="table table-hover table-bordered">\n                  \n                  <thead>\n                    <tr>\n                      <th scope="col" class="text-center">#</th>\n                      <th scope="col">Nom de communaut\xe9</th>\n                      <th scope="col">Cr\xe9ateur</th>\n                      <th scope="col">Date de cr\xe9ation</th>\n                      <th scope="col">Type de communaut\xe9</th>\n                      <th scope="col">Actions</th>\n                    </tr>\n                  </thead>\n\n                  <tbody>\n                      <ng-container *ngFor="let community of allCommunities">\n                        <tr *ngIf="!showCommunities && isMine(community)">\n                          <th class="text-center" scope="row">{{ community.idCommunaute }}</th>\n                          <td class="">{{ community.nom }}</td>\n                          <td class="">{{ community.utilisateur.nomUtilisateur }} {{ community.utilisateur.prenomUtilisateur }}</td>\n                          <td class="">{{ formatDate(community.dateCreation) }}</td>\n                          <td class="">{{ community.type == \'NON CONVENTIONNEE\' ?  \'Non conventionn\xe9e\' : \'Conventionn\xe9e\'}}</td>\n                          <td class="actions text-center">\n                            <button nbButton size="xsmall" (click)="openContrats(community)"\n                             *ngIf="isMine(community)" status="success" class="px-3">\n                             Contrats\n                            </button>\n                            <button nbButton size="xsmall" (click)="openNetworks(community)"\n                             *ngIf="isMine(community)" status="warning" class="px-3">\n                             R\xe9seaux\n                            </button>\n                            <button nbButton size="xsmall" (click)="deleteCommunity(community)"\n                             *ngIf="isMine(community)" status="danger" class="px-3">\n                             Supprimer\n                            </button>\n                        </td>\n                     </tr>\n                    </ng-container>\n\n                    <ng-container *ngFor="let community of allCommunities">\n\n                      <tr  *ngIf=" showCommunities ">\n                        <th class="text-center" scope="row">{{ community.idCommunaute }}</th>\n                        <td class="">{{ community.nom }}</td>\n                        <td class="">{{ community.utilisateur.nomUtilisateur }} {{ community.utilisateur.prenomUtilisateur }}</td>\n                        <td class="">{{ formatDate(community.dateCreation) }}</td>\n                        <td class="">{{ community.type == \'NON CONVENTIONNEE\' ?  \'Non conventionn\xe9e\' : \'Conventionn\xe9e\'}}</td>\n\n                        <td class="actions text-center d-flex justify-content-around">\n                          <button nbButton size="xsmall" (click)="openContrats(community)"\n                           *ngIf="isMine(community)" status="success" class="px-3">\n                            <span class="text">Contrats</span>\n                          </button>\n                          <button nbButton size="xsmall" (click)="openNetworks(community)" \n                           *ngIf="isMine(community)" status="warning" class="px-3">\n                            <span class="text">R\xe9seaux</span>\n                          </button>\n                          <button nbButton size="xsmall" *ngIf="!isMine(community)" status="success" class="px-3">\n                            <span class="text">Connecter</span>\n                          </button>\n                          <button nbButton size="xsmall" *ngIf="!isMine(community)" status="danger" class="px-3">\n                            <span class="text">Quitter</span>\n                          </button>\n                          <a nbButton size="xsmall" *ngIf="community.type == \'CONVENTIONNEE\' && isAdmin()" href="" [routerLink]="[\'../access\', community.idCommunaute]" status="primary" class="px-3">\n                            <span class="text">Cl\xe9s d\'acces</span>\n                          </a>\n                        </td>\n\n                      </tr>\n                      \n                    </ng-container>\n                  </tbody>\n                </table>\n              </div>\n              \x3c!-- fin de l\'affiche les communautes d\'un utilisateur --\x3e\n\n\n              \x3c!-- affiche les contrats d\'un utilisateur avec les autres --\x3e\n              <div class="data table-responsive" *ngIf=" showMyContrats ">\n                <span>Membres de la communaut\xe9</span>\n                <table class="table table-hover table-bordered">\n                  \n                  <thead>\n                    <tr>\n                      <th scope="col">#</th>\n                      <th scope="col">Nom complet</th>\n                      <th scope="col">Date de cr\xe9ation du contrat</th>\n                      <th scope="col">Actions</th>\n                    </tr>\n                  </thead>\n\n                  <tbody>\n                    <ng-container *ngFor="let contrat of contratsSigners">\n\n                      <tr>\n                        <th class="text-center" scope="row">{{ contrat.idContratSigner }}</th>\n                        <td class="text-center">{{ contrat.utilisateur.nomUtilisateur }} {{ contrat.utilisateur.prenomUtilisateur }}</td>\n                        <td class="text-center">{{ formatDate(contrat.dateCreation) }}</td>\n\n                        <td class="actions text-center">\n                          <button nbButton size="xsmall" (click)="openContratDetails(contrat)" status="warning" style="width: 50%">\n                            <span class="text mr-1">D\xe9tails</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                          </button>\n                          <button nbButton size="xsmall" (click)="breakContratSigner(contrat)" status="danger" style="width: 100%">\n                            <span class="text mr-1">Rompre</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                          </button>\n                        </td>\n                      </tr>\n                    </ng-container>\n                  </tbody>\n                </table>\n              </div>\n              \x3c!-- find de l\'affiche les contrats d\'un utilisateur avec les autres --\x3e\n\n\n\n              \x3c!-- affiche les r\xe9seaux d\'une communaut\xe9 d\'un utilisateur avec les autres --\x3e\n              <div class="data table-responsive" *ngIf=" showMyNetworks ">\n                  <span>Mon R\xe9seaux avec les communaut\xe9s</span>\n                  <table class="table table-hover table-bordered">\n                    <thead>\n                      <tr>\n                        <th scope="col">#</th>\n                        <th scope="col">Nom de la communaut\xe9</th>\n                        <th scope="col">Type</th>\n                        <th scope="col">Cr\xe9ateur</th>\n                        <th scope="col">Date de cr\xe9ation</th>\n                        <th scope="col">Actions</th>\n                      </tr>\n                    </thead>\n  \n                    <tbody>\n                      <ng-container *ngFor="let community of networkCommunities">\n  \n                        <tr>\n                          <th class="text-center" scope="row">{{ community.idCommunaute }}</th>\n                          <td class="text-center">{{ community.nom }}</td>\n                          <td class="text-center">{{ community.type }}</td>\n                          <td class="text-center">{{ community.utilisateur.nomUtilisateur }} {{ community.utilisateur.prenomUtilisateur }}</td>\n                          <td class="text-center">{{ formatDate(community.dateCreation) }}</td>\n  \n                          <td class="actions text-center">\n                            <button nbButton size="xsmall" (click)="openContratDetails(community)" status="warning" style="width: 50%">\n                              <span class="text mr-1">D\xe9tails</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                            </button>\n                            <button nbButton size="xsmall" (click)="breakContratSigner(community)" status="danger" style="width: 100%">\n                              <span class="text mr-1">Rompre</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                            </button>\n                          </td>\n                        </tr>\n                      </ng-container>\n                    </tbody>\n                  </table>\n                </div>\n              \x3c!-- find de l\'affiche les r\xe9seaux d\'une communaut\xe9 d\'un utilisateur avec les autres --\x3e\n\n  \n            </div>\n          </nb-tab>\n\n          <nb-tab tabTitle="Signer un contrat" tabIcon="nb-shuffle">\n            <div class="consult-wrapper mt-4 px-4">\n            \n              <div class="options d-flex align-center mb-4">       \n                <nb-alert class="bottom col-md-12" status="{{ status }}" *ngIf="hasSendSignerContrat" fullWidth closable (close)="onClose()">\n                  {{ messageCreation }}\n                </nb-alert>\n              </div>\n\n              <div class="data table-responsive" >\n                <table class="table table-hover table-bordered">\n                  \n                  <thead>\n                    <tr>\n                      <th scope="col">#</th>\n                      <th scope="col">Nom de communaut\xe9</th>\n                      <th scope="col">Cr\xe9ateur</th>\n                      <th scope="col">Date de cr\xe9ation</th>\n                      <th scope="col">Type de communaut\xe9</th>\n                      <th scope="col">D\xe9tails</th>\n                    </tr>\n                  </thead>\n\n                  <tbody>\n                    <ng-container *ngFor="let community of allCommunities">\n\n                      <tr *ngIf=" showWithContratSigner(community) ">\n                        <th class="text-center" scope="row">{{ community.idCommunaute }}</th>\n                        <td class="text-center">{{ community.nom }}</td>\n                        <td class="text-center">{{ community.utilisateur.nomUtilisateur }} {{ community.utilisateur.prenomUtilisateur }}</td>\n                        <td class="text-center">{{ formatDate(community.dateCreation) }}</td>\n                        <td class="text-center">{{ community.type == \'NON CONVENTIONNEE\' ?  \'Non conventionn\xe9e\' : \'Conventionn\xe9e\'}}</td>\n\n                        <td class="actions text-center">\n                          <button nbButton size="xsmall" status="success" (click)="signerContrat(community)">\n                            <span class="text mr-1">Signer un contrat</span>\n                          </button>\n                        </td>\n\n                      </tr>\n                      \n                    </ng-container>\n                  </tbody>\n                </table>\n              </div>\n  \n            </div>\n          </nb-tab>\n\n        </nb-tabset>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n    \n\n      '},"4GRg":function(t,n){t.exports=""},"57Uh":function(t,n){t.exports='<nb-alert status="success">\n    <h5 style="color: white"> Inserer de nouveaux membres!</h5>\n  </nb-alert>\n\n<div class="row justify-content-md-center">\n    <div class="col-md-7">\n  \n      <nb-card>\n        <nb-card-body>\n          <nb-tabset fullWidth>\n            <nb-tab tabTitle="Personne physique">\n              <div class="row justify-content-md-center">\n                <div class="col-md-10">\n                  <form #formPageOne="ngForm">\n                    <nb-alert status="success" class="text-center">\n                      <h1 style="color: #fff; font-weight: bold;"><i class="nb-person"></i></h1>\n                      <strong>Inscrivez-vous en tant que personne physique en deux petites \xe9tapes !</strong>\n                    </nb-alert>\n                    <nb-card>\n                      <nb-card-body>\n                        <nb-stepper #stepper>\n                          <nb-step [stepControl]="personFirstForm" label="">\n                            <form [formGroup]="personFirstForm" (ngSubmit)="onPersonFirstSubmit()" class="step-container">\n                              <p class="lorem">\n                                <i>Les champs marqu\xe9s <span class="text-danger">*</span> sont obligatoires.</i>\n                              </p>\n                              <div class="input-group">\n                                <label>Nom <span class="text-danger"> *</span></label>\n                                <input type="text" name="personFirstname" nbInput fullWidth placeholder="Nom"\n                                  formControlName="personFirstname">\n                              </div>\n                              <div class="input-group">\n                                <label>Pr\xe9nom </label>\n                                <input type="text" name="personLastname" nbInput fullWidth placeholder="Pr\xe9nom"\n                                  formControlName="personLastname">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Email <span class="text-danger"> *</span></label>\n                                <input type="email" name="personEmail" nbInput fullWidth placeholder="Adresse mail"\n                                  formControlName="personEmail">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Nom d\'utilisateur <span class="text-danger"> *</span></label>\n                                <input type="text" name="personUsername" nbInput fullWidth placeholder="Login"\n                                  formControlName="personUsername">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Mot de passe <span class="text-danger"> *</span></label>\n                                <input type="password" name="personPassword" nbInput fullWidth placeholder="Mot de passe"\n                                  formControlName="personPassword">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Confirmer le mot de passe <span class="text-danger"> *</span></label>\n                                <input type="password" name="personPasswordConfirmation" nbInput fullWidth placeholder="Confirmer le mot de passe"\n                                  formControlName="personPasswordConfirmation">\n                              </div>\n  \n                              <button nbButton status="success" nbStepperNext [disabled]="personFirstForm.invalid">suivant</button>\n                            </form>\n                          </nb-step>\n                          <nb-step [stepControl]="personSecondForm" label="">\n                            <form [formGroup]="personSecondForm" (ngSubmit)="onPersonSecondSubmit()" class="step-container">\n  \n                              <div class="input-group">\n                                <label>Pays de r\xe9sidence </label>\n                                <input type="text" name="personResidence" nbInput fullWidth placeholder="R\xe9sidence"\n                                  formControlName="personResidence">\n                              </div>\n                              <div class="input-group">\n                                <label>Nationalit\xe9 </label>\n                                <input type="text" name="personNationalite" nbInput fullWidth placeholder="Nationalit\xe9"\n                                  formControlName="personNationalite">\n                              </div>\n  \n                              <div class="input-group">\n                                <select name="personPieceIdentite" outline status="success" formControlName="personPieceIdentite">\n                                  <option value="" disabled selected hidden>Type de la pi\xe8ce d\'identit\xe9</option>\n                                  <option *ngFor="let typePiece of typePieceIdentites" [value]="typePiece.description">{{typePiece.description}}</option>\n                                </select>\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Num\xe9ro d\'identit\xe9 </label>\n                                <input type="text" name="personNumeroIdentite" nbInput fullWidth placeholder="Num\xe9ro d\'identit\xe9"\n                                  formControlName="personNumeroIdentite">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>D\xe9but de validit\xe9</label>\n                                <input type="date" name="personDebutValidite" nbInput fullWidth placeholder="D\xe9but de la validit\xe9"\n                                  formControlName="personDebutValidite">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Fin de validit\xe9</label>\n                                <input type="date" name="personFinValidite" nbInput fullWidth placeholder="Fin de validit\xe9 de la pi\xe8ce d\'identit\xe9"\n                                  formControlName="personFinValidite">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Date de naissance</label>\n                                <input type="date" name="personDateNaissance" nbInput fullWidth placeholder="Date de naissance"\n                                  formControlName="personDateNaissance">\n                              </div>\n  \n                              <nb-checkbox id="personAcceptContract" name="personAcceptContract" formControlName="personAcceptContract"\n                                required> J\'accepte le contrat d\'adh\xe9sion \xe0 la plateforme Microcap\n                              </nb-checkbox><br><br>\n  \n                              <button nbButton outline status="success" nbStepperPrevious>pr\xe9d\xe9dent</button>\n                              <button nbButton status="success" type="submit" (click)="enrollPersonPhysique()" [disabled]="personSecondForm.invalid"\n                                [nbSpinner]="loadinPersongFlag" nbSpinnerStatus="success" nbSpinnerSize="large"\n                                nbSpinnerMessage="">Valider</button>\n                            </form>\n                          </nb-step>\n                        </nb-stepper>\n                      </nb-card-body>\n                    </nb-card>\n                    <hr>\n                    <p style="clear: both;" class="text-center">\n                      Vous avez d\xe9j\xe0 un compte ? <br><a [routerLink]="[\'/auth/login\']">Connectez-vous</a>\n                    </p>\n                  </form>\n                </div>\n              </div>\n            </nb-tab>\n  \n            <nb-tab tabTitle="Personne morale">\n              <div class="row justify-content-md-center">\n                <div class="col-md-10">\n                  <form #formPageTwo="ngForm">\n                    <nb-alert status="success" class="text-center">\n                      <h1 style="color: #fff; font-weight: bold;"><i class="nb-home"></i></h1>\n                      <strong>Inscrivez-vous en tant que personne morale en trois petites \xe9tapes !</strong>\n                    </nb-alert>\n                    <nb-card>\n                      <nb-card-body>\n                        <nb-stepper #stepper>\n                          <nb-step [stepControl]="organisationFirstForm" label="">\n                            <form [formGroup]="organisationFirstForm" (ngSubmit)="onOrganisationFirstSubmit()" class="step-container">\n                              <h6>Etape 1: Information g\xe9n\xe9rale de la personne morale</h6>\n                              <hr>\n                              <p class="lorem">\n                                <i>Les champs marqu\xe9s <span class="text-danger">*</span> sont obligatoires.</i>\n                              </p>\n                              <div class="input-group">\n                                <label>Raison sociale <span class="text-danger"> *</span></label>\n                                <input type="text" name="raisonSociale" nbInput fullWidth placeholder="Raison sociale"\n                                  formControlName="raisonSociale">\n                              </div>\n                              <div class="input-group">\n                                <label>Nom commercial <span class="text-danger"> *</span></label>\n                                <input type="text" name="nomCommercial" nbInput fullWidth placeholder="Nom commercial"\n                                  formControlName="nomCommercial">\n                              </div>\n                              <div class="input-group">\n                                <select name="typeOrganisation" outline status="success" formControlName="typeOrganisation">\n                                  <option value="" disabled selected hidden>Type de l\'organisation *</option>\n                                  <option *ngFor="let typeOrganisation of typeOrganisations" [value]="typeOrganisation.codeValue">{{typeOrganisation.codeValue}}</option>\n                                </select>\n                              </div>\n                              <button nbButton status="success" nbStepperNext [disabled]="organisationFirstForm.invalid">suivant</button>\n                            </form>\n                          </nb-step>\n                          <nb-step [stepControl]="personExistForm.value[\'personExist\']? personExistInputForm: organisationSecondForm"\n                            label="">\n                            <form [formGroup]="personExistForm" class="step-container">\n                              <h6>Etape 2: Configuration du compte administrateur</h6>\n                              <hr>\n                              <nb-alert *ngIf="personNotFoundInBd && personExistForm.value[\'personExist\']" status="warning">Ce num\xe9ro d\'adh\xe9sion ne correspond \xe0 aucun utilisateur sur Microcap. Veuillez sp\xe9cifier un autre ou cr\xe9ez un administrateur.</nb-alert>\n                              \n                                <nb-checkbox status="success" formControlName="personExist">L\'administrateur est-il d\xe9j\xe0 inscrit sur Microcap ? </nb-checkbox> \n                            </form>\n                            <br>\n                            <form [formGroup]="personExistInputForm" class="step-container" *ngIf="personExistForm.value[\'personExist\']">\n                              <label>Si oui entrez son num\xe9ro d\'adh\xe9sion <span class="text-danger"> *</span></label>\n                              <br>\n                              <input type="text" nbInput fullWidth placeholder="Num\xe9ro d\'adh\xe9sion" formControlName="numero_adhesion">\n                              <br>\n                              <nb-alert *ngIf="personFoundInBd" outline="success">\n                                  Membre retrouv\xe9 sur Microcap avec succ\xe8s ! <br>\n                                <table>\n                                  <tr>\n                                    <td>Nom</td>\n                                    <td><strong>: {{person.firstName}}</strong></td>\n                                  </tr>\n                                  <tr>\n                                    <td>Pr\xe9nom</td>\n                                    <td><strong>: {{person.lastName}}</strong></td>\n                                  </tr>\n                                  <tr>\n                                      <td>Adresse mail</td>\n                                      <td><strong>: {{person.email}}</strong></td>\n                                    </tr>\n                                </table>\n                              </nb-alert>\n                              <button nbButton outline status="success" nbStepperPrevious>pr\xe9d\xe9dent</button>\n                              <button nbButton *ngIf="!personFoundInBd" status="success" [disabled]="personExistInputForm.invalid" (click)="getDataOfExistingPfm()" [nbSpinner]="loadingCheckExistingPersonFlag"\n                              nbSpinnerStatus="success" nbSpinnerSize="large" nbSpinnerMessage="" >Verifier</button>\n                              <button nbButton *ngIf="personFoundInBd" status="success" nbStepperNext [disabled]="personExistInputForm.invalid">suivant</button>\n                            </form>\n  \n                            <form [formGroup]="organisationSecondForm" (ngSubmit)="onOrganisationSecondSubmit()" class="step-container"\n                              *ngIf="!personExistForm.value[\'personExist\']">\n                              <h6>Etape 2: Entrez les informations de l\'administrateur</h6>\n                              <p class="lorem">\n                                <i>Les champs marqu\xe9s <span class="text-danger">*</span> sont obligatoires.</i>\n                              </p>\n                              <div class="input-group">\n                                <label>Email <span class="text-danger"> *</span></label>\n                                <input type="email" name="organisationEmail" nbInput fullWidth placeholder="Adresse mail"\n                                  formControlName="organisationEmail">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Nom d\'utilisateur <span class="text-danger"> *</span></label>\n                                <input type="text" name="organisationUsername" nbInput fullWidth placeholder="Login"\n                                  formControlName="organisationUsername">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Mot de passe <span class="text-danger"> *</span></label>\n                                <input type="password" name="organisationPassword" nbInput fullWidth placeholder="Mot de passe"\n                                  formControlName="organisationPassword">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Confirmer le mot de passe <span class="text-danger"> *</span></label>\n                                <input type="password" name="organisationPasswordConfirmation" nbInput fullWidth\n                                  placeholder="Confirmer le mot de passe" formControlName="organisationPasswordConfirmation">\n                              </div>\n                              <button nbButton status="success" nbStepperNext [disabled]="organisationSecondForm.invalid">suivant</button>\n                            </form>\n                          </nb-step>\n  \n                          <nb-step [stepControl]="organisationThirdForm" label="">\n                            <form [formGroup]="organisationThirdForm" (ngSubmit)="onOrganisationThirdSubmit()" class="step-container">\n                                <h6>Etape 3: Informations compl\xe9mentaires de la personne morale</h6>\n                                <hr>\n                              <div class="input-group">\n                                <label>Implantation </label>\n                                <input type="text" name="implantation" nbInput fullWidth placeholder="Implantation"\n                                  formControlName="implantation">\n                              </div>\n                              <div class="input-group">\n                                <label>Pays d\'immatriculation </label>\n                                <input type="text" name="paysImmatriculation" nbInput fullWidth placeholder="Pays d\'immatriculation"\n                                  formControlName="paysImmatriculation">\n                              </div>\n  \n                              <div class="input-group">\n                                <select name="immatriculation" outline status="success" formControlName="immatriculation">\n                                  <option value="" disabled selected hidden>Type d\'immatriculation</option>\n                                  <option *ngFor="let immatriculation of typeImmatriculations" [value]="immatriculation.codeValue">{{immatriculation.codeValue}}</option>\n                                </select>\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Num\xe9ro d\'immatriculation <span class="text-danger"> *</span></label>\n                                <input type="text" name="numeroImmatriculation" nbInput fullWidth placeholder="Num\xe9ro d\'immatriculation"\n                                  formControlName="numeroImmatriculation">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>D\xe9but d\'immatriculation</label>\n                                <input type="date" name="dateImmatriculation" nbInput fullWidth placeholder="Date d\'immatriculation"\n                                  formControlName="dateImmatriculation">\n                              </div>\n  \n                              <nb-checkbox id="organisationAcceptContract" name="organisationAcceptContract"\n                                formControlName="organisationAcceptContract" required> J\'accepte le contrat d\'adh\xe9sion \xe0\n                                la plateforme Microcap\n                              </nb-checkbox> <br><br>\n  \n                              <button nbButton outline status="success" nbStepperPrevious>pr\xe9d\xe9dent</button>\n                              <button nbButton status="success" nbStepperNext (click)="personFoundInBd? enrollOrganisationWithExistantPfm() : enrollOrganisation()" [disabled]="organisationThirdForm.invalid"\n                                [nbSpinner]="loadinOrganisationgFlag" nbSpinnerStatus="success" nbSpinnerSize="large"\n                                nbSpinnerMessage="">Valider</button>\n                            </form>\n                          </nb-step>\n                        </nb-stepper>\n                      </nb-card-body>\n                    </nb-card>\n                    <hr>\n                    <p style="clear: both;" class="text-center">\n                      Vous avez d\xe9j\xe0 un compte ? <br><a [routerLink]="[\'/auth/login\']">Connectez-vous</a>\n                    </p>\n                  </form>\n                </div>\n              </div>\n            </nb-tab>\n          </nb-tabset>\n        </nb-card-body>\n      </nb-card>\n  \n    </div>\n  </div>\n  \n'},E49E:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var o=e("mrSG"),i=e("CcnG"),r=e("t/Na"),s=e("AytR"),a=e("67Y/"),c=e("vubp"),u={headers:new r.e({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})},l=function(){function t(t){this.http=t,this.group_url=s.a.serverEndpoint+"auth/sn/user/groups",this.group_group_type_url=s.a.serverEndpoint+"auth/sn/user/group_types",this.group_detail_url=s.a.serverEndpoint+"auth/sn/user/groupdetail",this.group_type_detail_url=s.a.serverEndpoint+"auth/sn/user/group_type_details",this.group_state_url=s.a.serverEndpoint+"auth/sn/user/groups/status/",this.group_person_url=s.a.serverEndpoint+"auth/sn/user/groups/validator",this.get_plateform_code_url=s.a.serverEndpoint+"auth/sn/user/platform_members/membership_code/type/",this.join_group_url=s.a.serverEndpoint+"auth/sn/user/platform_members/becomeMember",this.authenticated_token=window.sessionStorage.getItem("AuthToken"),this.authenticated_username=window.sessionStorage.getItem("AuthUsername"),this.authenticated_info={AuthToken:this.authenticated_token,AuthUsername:this.authenticated_username}}return t.prototype.getGroups=function(){return this.http.get(this.group_url,u)},t.prototype.getGroupsForPfm=function(t){return this.http.get(this.group_url+"/"+t,u)},t.prototype.load=function(t,n,e){var o=(t-1)%3*n;return this.http.get(this.group_state_url+e,u).pipe(Object(a.a)(function(t){return t.splice(o,n)}),Object(c.a)(1500))},t.prototype.addGroup=function(t){return this.http.post(this.group_url+"/create",t,u)},t.prototype.addGroupAdmin=function(t){return this.http.post(this.group_url+"/admin/create",t,u)},t.prototype.validateGroup=function(t){return this.http.put(this.group_url+"/activate",t,u)},t.prototype.inValidateGroup=function(t){return this.http.put(this.group_url+"/desactivate",t,u)},t.prototype.addGroupDetail=function(t){return this.http.post(this.group_detail_url+"/create",t,u)},t.prototype.getGroupTypes=function(){return this.http.get(this.group_group_type_url,u)},t.prototype.addGroupType=function(t){return this.http.post(this.group_group_type_url+"/create",t,u)},t.prototype.getGroupTypeDetails=function(){return this.http.get(this.group_type_detail_url,u)},t.prototype.addGroupTypeDetail=function(t){return this.http.post(this.group_type_detail_url+"/create",t,u)},t.prototype.getStateGroups=function(t){return this.http.get(this.group_state_url+t,u)},t.prototype.getGroupsInitiator=function(t){return this.http.post(this.group_person_url,t,u)},t.prototype.becomeMember=function(t){return this.http.post(this.join_group_url,t,u)},t.prototype.getPlatFormMember=function(t){return this.http.get(this.get_plateform_code_url+t,u)},t.ctorParameters=function(){return[{type:r.b}]},t=o.c([Object(i.D)({providedIn:"root"}),o.f("design:paramtypes",[r.b])],t)}()},Epq5:function(t,n){t.exports="nb-select,\ninput {\n  margin-right: 0.75rem;\n  margin-bottom: 1rem; }\n\nnb-select {\n  width: 50%; }\n\nbutton {\n  margin-right: 1em;\n  margin-top: 0.5em; }\n\n.detail-info {\n  color: #40dc7e;\n  font-weight: bold;\n  font-size: 1.2em;\n  padding-left: 20px;\n  padding-right: 10px; }\n\n/* Select */\n\nselect {\n  width: 100%;\n  border: 2px #66e398 solid;\n  border-radius: 5px;\n  height: 45px;\n  background-color: transparent;\n  margin-bottom: 1em; }\n\nselect:invalid {\n  color: gray; }\n\nselect:hover {\n  background-color: #40dc7e;\n  color: floralwhite; }\n"},FKvY:function(t,n){t.exports='<nb-card>\n  <nb-card-body>\n    R\xe9seau social <i class="nb-arrow-right"></i> <a [routerLink]="[\'/admin/social-network/partenaires\']">Partenaires</a>\n    <i class="nb-arrow-right"></i> <a [routerLink]="[\'/admin/social-network/partenaires/list-partenaires\']">Liste des\n      partenaires</a>\n    <i class="nb-arrow-right"></i> <strong>Nouveau</strong>\n  </nb-card-body>\n</nb-card>\n<nb-card>\n  <nb-card-body>\n    <nb-stepper #stepper>\n      <nb-step [stepControl]="firstForm">\n        <form [formGroup]="firstForm" (ngSubmit)="onFirstSubmit()" class="step-container">\n\n          <nb-alert status="success">\n            <h6>Etape 1: Identification</h6>\n          </nb-alert>\n\n          <div style="vertical-align: middle;">\n            <label>Identifiant r\xe9seau du partenaire</label><br>\n            <input type="text" style="width:50%;" nbInput placeholder="Identifiant du r\xe9seau" formControlName="identifiant_reseau"\n              [ngClass]="{\'form-control-danger\': firstForm.invalid && (firstForm.dirty || firstForm.touched)}">\n          </div>\n          <hr>\n          <button nbButton size="small" status="success" nbStepperNext (click)="getOrganisationById()" [nbSpinner]="loadingCheckExistingOrganisationFlag"\n            nbSpinnerStatus="success" nbSpinnerSize="large" nbSpinnerMessage="">Suivant <i class="fa fa-angle-right"></i></button>\n        </form>\n      </nb-step>\n\n      <nb-step>\n        <nb-alert status="success">\n          <h6>Etape 2: V\xe9rification de l\'identification</h6>\n        </nb-alert>\n        <nb-card>\n          <div class="row" style="margin-left: 1em;">\n            <div class="col-md-8">\n\n              <nb-card-body>\n                <table *ngIf="organisationFoundInBd">\n                  <tr>\n                    <td>Identifiant r\xe9seau : </td>\n                    <td class="detail-info">{{organisation.id}}</td>\n                  </tr>\n                  <tr>\n                    <td>Raison sociale : </td>\n                    <td class="detail-info">{{organisation.corporateName}}</td>\n                  </tr>\n                  <tr>\n                    <td>Immatriculation : </td>\n                    <td class="detail-info">{{organisation.immatriculationValue}}</td>\n                  </tr>\n                  <tr>\n                    <td>Activit\xe9 princiaple : </td>\n                    <td class="detail-info"></td>\n                  </tr>\n                </table>\n                <nb-alert *ngIf="!organisationFoundInBd" status="danger"> <strong>Il n\'existe aucune personne morale\n                    avec cet identifiant r\xe9seau !</strong> </nb-alert>\n              </nb-card-body>\n\n            </div>\n            <div class="col-md-4" style="text-align: right">\n              <button nbButton size="small" status="success"> <i class="fa fa-plus"></i> Infos</button>\n            </div>\n          </div>\n        </nb-card>\n        <hr>\n        <button nbButton size="small" outline status="success" nbStepperPrevious> Annuler</button>\n        <button nbButton size="small" outline status="success" nbStepperPrevious> <i class="fa fa-angle-left"></i>\n          Retrour</button>\n        <button nbButton size="small" status="success" nbStepperNext>COntinuer <i class="fa fa-angle-right"></i></button>\n      </nb-step>\n\n      <nb-step [stepControl]="secondForm">\n        <form [formGroup]="secondForm" (ngSubmit)="onSecondSubmit()" class="step-container">\n          <nb-alert status="success">\n            <h6>Etape 3: Profil du partenariat</h6>\n          </nb-alert>\n\n          <div class="row">\n            <div class="col-md-12">\n              <nb-card>\n                <nb-card-body>\n                  <label>Type de profil *</label><br>\n                  <div class="input-group">\n                    <select outline status="success" formControlName="type_profil">\n                      <option value="" disabled selected hidden>Type de profil du contrat</option>\n                      <option *ngFor="let groupType of groupTypes ; let i = index" [value]="i">{{groupType.description}}</option>\n                    </select>\n                  </div>\n                  <div class="input-group">\n                    <label>Nom commercial *</label>\n                    <input type="text" formControlName="nom_commercial" nbInput fullWidth placeholder="Nom commercial du partenariat">\n                  </div>\n                  <label>Partenaire parent *</label><br>\n                  <div class="input-group">\n                    <select outline fullWidth status="success" formControlName="partenaire_parent">\n                      <option value="" disabled selected hidden>Slectionner un partenaire parent</option>\n                      <option *ngFor="let parent of parent_groups ; let j = index" [value]="j">{{parent.designation}}</option>\n                    </select>\n                  </div>\n\n                  <div class="input-group">\n                    <nb-checkbox status="success" formControlName="identifiant_externe" style="margin-bottom: 1em;">Identifiant externe</nb-checkbox>\n                  </div>\n                  <label>Identifiant de l\'administrateur *</label><br>\n\n                  <div class="input-group">\n                    <select outline fullWidth status="success" formControlName="identifiant_admin">\n                      <option value="" disabled selected hidden>Slectionner le partenaire parent</option>\n                      <option *ngFor="let platformMember of platformMembers ; let k = index" [value]="k">\n                        {{platformMember.person.firstName + \' \' + platformMember.person.lastName}}\n                      </option>\n                    </select>\n                  </div>\n                </nb-card-body>\n              </nb-card>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-md-5">\n              <nb-card>\n                <nb-card-header>Propri\xe9t\xe9s du profil du partenariat</nb-card-header>\n                <nb-card-body>\n                  <br>\n                  <nb-list>\n                    <nb-list-item *ngFor="let detail of groupDetails">\n                      {{ detail.label }}\n                    </nb-list-item>\n                  </nb-list>\n                </nb-card-body>\n              </nb-card>\n            </div>\n            <div class="col-md-1">\n              <button (click)="openPropertyModal()" nbButton size="xsmall" outline status="success" style="margin-bottom: 5px;"\n                title="Ajouter une propri\xe9t\xe9"> <i class="fa fa-plus"></i> </button>\n              <button nbButton size="xsmall" outline status="success" style="margin-bottom: 5px;" title="Modifier la propri\xe9t\xe9 s\xe9lectionn\xe9e">\n                <i class="fa fa-pencil"></i> </button>\n              <button nbButton size="xsmall" outline status="success" title="Supprimer la propri\xe9t\xe9 s\xe9lectionn\xe9e"> <i\n                  class="fa fa-trash"></i> </button>\n            </div>\n            <div class="col-md-6">\n              <nb-card>\n                <nb-card-header>Description de la propri\xe9t\xe9</nb-card-header>\n                <nb-card-body>\n                  ........\n                </nb-card-body>\n              </nb-card>\n            </div>\n          </div>\n          <hr>\n          <button nbButton size="small" outline status="success">Annuler</button>\n          <button nbButton size="small" outline status="success" nbStepperPrevious> <i class="fa fa-angle-left"></i>\n            Retour</button>\n          <button nbButton size="small" status="success" (click)="addGroupe()">Terminer</button>\n        </form>\n      </nb-step>\n\n    </nb-stepper>\n  </nb-card-body>\n</nb-card>\n'},Fxfs:function(t,n){t.exports=".data {\n  font-size: 85%;\n  margin-top: 50px; }\n  .data tr:hover {\n    background-color: #f8fafd; }\n  .data thead tr:hover {\n    background-color: transparent; }\n  .data th, .data td {\n    vertical-align: middle; }\n  .data .pagination-wrapper .page-item .page-link:hover {\n    background-color: #f8fafd; }\n  .data .pagination-wrapper .page-item.active .page-link {\n    border-color: #3dcc6d;\n    background-color: #3dcc6d; }\n  .options .btn-secondary, .data .actions .btn-secondary {\n  cursor: pointer; }\n  .options .btn-secondary:hover, .data .actions .btn-secondary:hover {\n    color: #ffffff;\n    background-color: #40dc7e; }\n"},JvLX:function(t,n){t.exports="<p>\n  R\xe9alisations  (comming soon !)\n</p>\n"},S4eW:function(t,n){t.exports="button {\n  margin-right: 10px; }\n\ninput {\n  margin-bottom: 10px; }\n\n.dialog-box {\n  width: 500px !important; }\n"},VAJn:function(t,n){t.exports="nb-list-item:hover {\n  background-color: #f7f7f7;\n  font-weight: bold;\n  color: #333;\n  cursor: pointer; }\n\n.selected-item {\n  background-color: #fece00;\n  font-weight: bold;\n  color: #333; }\n"},VaMN:function(t,n){t.exports='<nb-card status="success" class="dialog-box">\n    <nb-card-header>Ajout d\'un d\xe9tail de partenariat</nb-card-header>\n    <nb-card-body>\n      <div class="row">\n          <div class="col-md-12">\n            <div class="input-group">\n              <label>Propri\xe9t\xe9 *</label>\n              <input #label nbInput fullWidth placeholder="Propri\xe9t\xe9">\n            </div>\n            <div class="input-group">\n                <label>Code </label>\n              <input #name nbInput fullWidth placeholder="Code (facultatif)">\n            </div>\n            <div class="input-group">\n              <label>Valeur *</label>\n              <input #valeur nbInput fullWidth placeholder="Valeur de la propri\xe9t\xe9">\n            </div>    \n          </div>\n      </div>\n    </nb-card-body>\n    <nb-card-footer class="card-footer">\n      <button (click)="submit(label.value, name.value, valeur.value)" nbButton size="xsmall" status="success"> Valider</button>\n      <button (click)="cancel()" nbButton size="xsmall" outline status="success"> Annuler</button>\n    </nb-card-footer>\n  </nb-card>'},ZGd5:function(t,n){t.exports=""},avBf:function(t,n){t.exports="input, select {\n  margin-bottom: 1em; }\n\n.bottom-1 {\n  margin-bottom: 1em; }\n\nbutton {\n  margin-right: 10px; }\n\na {\n  text-decoration: none; }\n\n:host nb-tab {\n  padding: 1.25rem; }\n\n.error {\n  color: red; }\n\n.form-control-danger {\n  border: 2px #ff0000 solid;\n  border-radius: 3px; }\n\n/* Select */\n\nselect {\n  width: 100%;\n  border: 2px #dadfe6 solid;\n  border-radius: 5px;\n  height: 45px;\n  background-color: transparent; }\n\nselect:invalid {\n  color: gray; }\n"},bC2o:function(t,n){t.exports=":host nb-tab {\n  padding: 1.25rem; }\n\na {\n  text-decoration: none; }\n"},fnJZ:function(t,n){t.exports='<nb-card>\n  <nb-card-body>\n    R\xe9seau social <i class="nb-arrow-right"></i> <strong>Partenaires</strong>\n  </nb-card-body>\n</nb-card>\n\n<nb-tabset>\n  <nb-tab tabTitle="Gestion" responsive>\n    <div class="row">\n\n      <div class="col-md-4">\n        <nb-card status="success">\n          <nb-card-header>Partenaires</nb-card-header>\n          <nb-card-body>\n            Ce module permet de cr\xe9er et manager les partenaires Microcap.\n          </nb-card-body>\n          <nb-card-footer>\n            <a [routerLink]="[\'list-partenaires\']" nbButton outline size="xsmall" status="warning">G\xe9rer<i\n                class="nb-arrow-right"></i></a>\n          </nb-card-footer>\n        </nb-card>\n      </div>\n      \n    </div>\n  </nb-tab>\n</nb-tabset>\n'},i9ZP:function(t,n,e){"use strict";e.d(n,"a",function(){return u});var o=e("mrSG"),i=e("t/Na"),r=e("CcnG"),s=e("AytR"),a=e("sE5F"),c={headers:new i.e({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})},u=function(){function t(t,n){this.http=t,this.http2=n,this.url=s.a.serverEndpoint+"sn/user/code_values",this.urlCodeValue=s.a.serverEndpoint+"/commun/code-values"}return t.prototype.getGroupeType=function(){return this.http.get(this.url+"/group/type",c)},t.prototype.getGroupNature=function(){return this.http.get(this.url+"/group/nature",c)},t.prototype.getIdentityType=function(){return this.http.get(this.url+"/identity/type",c)},t.prototype.getImmatriculationType=function(){return this.http.get(this.url+"/immatriculation/type",c)},t.prototype.getOrganisationType=function(){return this.http.get(this.url+"/organisation/type",c)},t.prototype.getCodeValues=function(){return this.http.get(this.url,c)},t.prototype.addCodeValue=function(t){return this.http.post(this.url+"/create",t,c)},t.prototype.getIdentityTypeNew=function(){var t=s.a.serverEndpointWithoutAuth+"/sn/user/code_values/code/identifier/TYPE_PIECES";return this.http2.get(t).map(function(t){return t.json()})},t.prototype.getTypeUnite=function(){var t=s.a.serverEndpointWithoutAuth+"/sn/user/code_values/code/identifier/TYPE_UNITE";return this.http.get(t,c).toPromise()},t.prototype.getIdentityTypeNew2=function(){new i.e({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"});var t=s.a.serverEndpointWithoutAuth+"/sn/user/code_values/code/identifier/TYPE_PIECES";return this.http.get(t).toPromise()},t.prototype.addCodeValueT=function(t){return this.http.post(this.urlCodeValue,t,c)},t.prototype.updateCodeValueT=function(t){return this.http.put(this.urlCodeValue,t,c)},t.prototype.getCodeValueT=function(t){return this.http.get(this.urlCodeValue+"/"+t,c).toPromise()},t.prototype.getCodeValueUsingCode=function(t){return this.http.get(this.urlCodeValue+"/"+t.id+"/code",c).toPromise()},t.prototype.deleteCodeValueT=function(t){return this.http.delete(this.urlCodeValue+"/"+t.id,c).toPromise()},t.ctorParameters=function(){return[{type:i.b},{type:a.c}]},t=o.c([Object(r.D)({providedIn:"root"}),o.f("design:paramtypes",[i.b,a.c])],t)}()},kYhl:function(t,n){t.exports='<nb-card>\n  <nb-card-body>\n    R\xe9seau social <i class="nb-arrow-right"></i> <a [routerLink]="[\'/admin/social-network/partenaires\']">Partenaires</a>\n    <i class="nb-arrow-right"></i> <strong>Gestion des partenaires</strong>\n  </nb-card-body>\n</nb-card>\n\n<div class="row">\n  <div class="col-md-8">\n    <nb-card size="medium">\n      <nb-card-header>\n        Les partenaires de Microcap\n      </nb-card-header>\n      <nb-list>\n        <nb-list-item *ngFor="let partenaire of partenaires" (click)="selectPartenaire(partenaire)" [ngClass]="{\'selected-item\': partenaire.selected}">\n          <i class="fa fa-chevron-right"></i> {{ partenaire.appGroup.designation }}\n        </nb-list-item>\n      </nb-list>\n    </nb-card>\n  </div>\n  <div class="col-md-2">\n    <a [routerLink]="[\'/admin/social-network/partenaires/add-partenaire\']" nbButton fullWidth size="xsmall" status="success">Ajouter</a>\n    <br><br>\n    <button nbButton fullWidth size="xsmall" outline status="success" [disabled]="disableEdit">Modifier</button> <br><br>\n    <button nbButton fullWidth size="xsmall" outline status="success" [disabled]="disableShow">Visualiser</button> <br><br>\n    <button nbButton fullWidth size="xsmall" outline status="success" [disabled]="disableDelete">Supprimer</button> <br>\n  </div>\n</div>\n'},q4qu:function(t,n,e){"use strict";e.d(n,"a",function(){return c});var o=e("mrSG"),i=e("t/Na"),r=e("CcnG"),s=e("AytR"),a={headers:new i.e({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})},c=function(){function t(t){this.http=t,this.url=s.a.serverEndpoint+"auth/sn/user/platform_members",this.join_group_url=s.a.serverEndpoint+"auth/sn/user/platform_members/add/to/groups",this.organisation_url=s.a.serverEndpoint+"auth/sn/user/organisations/"}return t.prototype.getPlatformMembers=function(){return this.http.get(this.url)},t.prototype.joinGroup=function(t){return this.http.post(this.join_group_url,t,a)},t.prototype.getOrganisationById=function(t){return this.http.get(this.organisation_url+t,a)},t.ctorParameters=function(){return[{type:i.b}]},t=o.c([Object(r.D)({providedIn:"root"}),o.f("design:paramtypes",[i.b])],t)}()},rcd4:function(t,n){t.exports='<div class="row">\n    <div class="col">\n      <nb-card>\n        <nb-card-body>        \n          <nb-tabset fullWidth>\n  \n            \x3c!-- Cr\xe9er une communaut\xe9 --\x3e\n            <nb-tab tabTitle="Cl\xe9s d\'acc\xe8s nomade" tabIcon="nb-loop">\n\n              <nb-alert class="bottom col-md-12" style="margin-top: 50px" status="{{ status }}" *ngIf="isSend" fullWidth closable (close)="onClose()">\n                {{ message }}\n              </nb-alert>\n\n              <div class="data table-responsive" *ngIf="accesses">\n                <table class="table table-hover table-bordered">\n                  <thead>\n                    <tr>\n                      <th scope="col" class="text-center">#</th>\n                      <th scope="col" class="text-center">Date creation</th>\n                      <th scope="col" class="text-center">Emetteur</th>\n                      <th scope="col" class="text-center">Utilisateur</th>\n                      <th scope="col" class="text-center">Fin validite</th>\n                      <th scope="col" class="text-center">Statut</th>\n                      <th scope="col" class="text-center">Action</th>\n                    </tr>\n                  </thead>\n\n                  <tbody >\n                    <ng-container *ngFor="let access of accesses">\n                      <tr *ngIf="access.dateActivation">\n                        <th scope="row" class="text-center">{{ access.idAcces }}</th>\n                        <td class="text-center">{{ formatDate(access.dateCreation) }}</td>\n                        <td class="text-center">{{ access.emetteur.prenomUtilisateur }}  {{ access.emetteur.nomUtilisateur }}</td>\n                        <td class="text-center">{{ access.utilisateur.prenomUtilisateur }}  {{ access.utilisateur.nomUtilisateur }}</td>\n                        <td class="text-center">{{ formatDate(access.finValidite) }}</td>\n                        <td class="text-center" *ngIf="isExpired(access.finValidite)">Obselete</td>\n                        <td class="text-center" *ngIf="!isExpired(access.finValidite)">Actif</td>\n\n                        <td class="actions text-center">\n                          <a nbButton class="btn-danger" size="xsmall" status="danger" (click)="detruire(access)">\n                            Detruire\n                          </a>\n                          <a nbButton class="btn-warning" *ngIf="isExpired(access.finValidite)" (click)="desactivate(access)" size="xsmall" status="warning">\n                            Desactiver\n                          </a>\n                          <a nbButton (click)="openModalUpdate(UpdateAccessKey, access)" class="btn-primary" *ngIf="!isExpired(access.finValidite)" size="xsmall" status="success" >\n                            Reactiver\n                          </a>\n                        </td>\n                      </tr>\n                    </ng-container>\n                  </tbody>\n                </table>\n\n              </div>\n              <button (click)="openModal(accessKey)" status="success" nbButton style="margin-top: 20px;">\n                  G\xe9n\xe9rer une nouvelle cl\xe9\n              </button>\n            </nb-tab>\n  \n          </nb-tabset>\n        </nb-card-body>\n      </nb-card>\n    </div>\n  </div>\n      \n<ng-template #accessKey let-modal style="width: 70%;">\n    <div class="modal-header">\n        <h4 class="modal-title" id="modal-basic-title">Nouvelle cle d\'access</h4>\n        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss(\'Cross click\')">\n        <span aria-hidden="true">&times;</span>\n        </button>\n    </div>\n    <div class="modal-body" style="min-height: 300px; max-height: 600px; overflow-y: auto;">\n        <h2 class="bottom">Parametres de la cle</h2>\n        <form [formGroup]="accessForm">\n            <nb-alert class="bottom col-md-12" status="{{ status }}" *ngIf="isSend" fullWidth closable (close)="onClose()">\n                {{ message }}\n            </nb-alert>\n            <div class="row">\n                <div class="field col-md-12">\n                  <label>Utilisateur </label>\n                  <div class="control">\n                      <select class="form-control" name ="utilisateur" formControlName="utilisateur" fullWidth outline status="success" size="large" style="width: 100%">\n                          <option></option>\n                          <option *ngFor="let user of users" [value]="user.idUtilisateur" >{{ user.nomUtilisateur }} {{ user.prenomUtilisateur }}</option>\n                      </select>\n                  </div>\n                </div>\n              <div class="field col-md-12" style="margin-top: 20px">\n                <label>Role </label>\n                <div class="control">\n                    <select class="form-control" name ="role" formControlName="role" fullWidth outline status="success" size="large" style="width: 100%">\n                        <option></option>\n                        <option value="Agent Microcap" >Agent Microcap</option>\n                        <option value="Operateur Microcap" >Operateur Microcap</option>\n                    </select>\n                </div>\n              </div>\n              <div class="field col-md-12" style="margin-top: 20px">\n                <label>Fin de validit\xe9 </label>\n                <div class="control">\n                    <input type="date" name="finValidite" nbInput fullWidth placeholder="Fin de la validit\xe9" formControlName="finValidite">\n                </div>\n              </div>\n            </div>\n          </form>\n\n          <button status="success" (click)="onSubmit()" fullWidth nbButton style="margin-top: 20px">\n            Valider\n          </button>\n\n    </div>\n</ng-template>\n        \n<ng-template #UpdateAccessKey let-modal style="width: 70%;">\n  <div class="modal-header">\n      <h4 class="modal-title" id="modal-basic-title">Reactiver la cle d\'access</h4>\n      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss(\'Cross click\')">\n      <span aria-hidden="true">&times;</span>\n      </button>\n  </div>\n  <div class="modal-body" style="min-height: 300px; max-height: 600px; overflow-y: auto;">\n      \n      <div class="row">\n        <div class="field col-md-12" style="margin-top: 20px">\n          <label>Fin de validit\xe9 </label>\n          <div class="control">\n              <input type="date" (change)="updateFinValidite($event)" nbInput fullWidth placeholder="Fin de la validit\xe9">\n          </div>\n        </div>\n      </div>\n\n    <button status="success" (click)="reactivate()" fullWidth nbButton style="margin-top: 20px">\n      Valider\n    </button>\n\n  </div>\n</ng-template>\n'},xyFQ:function(t,n,e){"use strict";e.r(n);var o=e("mrSG"),i=e("CcnG"),r=e("Ip0R"),s=e("ZYCi"),a=function(){function t(){}return t.prototype.ngOnInit=function(){},t=o.c([Object(i.n)({selector:"app-social-network",template:e("1IOM"),styles:[e("ZGd5")]}),o.f("design:paramtypes",[])],t)}(),c=e("gIcY"),u=e("i9ZP"),l=e("Xk95"),p=e("eQmz"),d=function(){function t(t,n,e,o,i){this.firstname=t,this.lastname=n,this.email=e,this.username=o,this.password=i}return t.prototype.getRoles=function(){return this.roles},t.prototype.getDetails=function(){return this.details},t.prototype.setDetails=function(t){this.details=t},t.ctorParameters=function(){return[{type:String},{type:String},{type:String},{type:String},{type:String}]},t}(),m=e("LRBj"),h=e("h2xV"),b=e("wUrw"),f=function(){function t(t,n,e,o,i){this.router=t,this.authService=n,this.formBuilder=e,this.codeValueService=o,this.dialogService=i,this.person={},this.existingAdmin={},this.isSignedUp=!1,this.isSignUpFailed=!1,this.errorMessage="",this.organisation={},this.loadinPersongFlag=!1,this.loadingCheckExistingPersonFlag=!1,this.loadinOrganisationgFlag=!1,this.errorFlag=!1,this.personFoundInBd=!1,this.personNotFoundInBd=!1}return t.prototype.ngOnInit=function(){var t=this;this.codeValueService.getIdentityType().subscribe(function(n){t.typePieceIdentites=n}),this.codeValueService.getImmatriculationType().subscribe(function(n){t.typeImmatriculations=n}),this.codeValueService.getOrganisationType().subscribe(function(n){t.typeOrganisations=n}),this.initFormulairePersonPhysique(),this.iniFormulairetPersonMorale()},t.prototype.initFormulairePersonPhysique=function(){this.personFirstForm=this.formBuilder.group({personFirstname:["",[c.m.required]],personLastname:["",[c.m.required]],personEmail:["",[c.m.required,c.m.email]],personUsername:["",[c.m.required]],personPassword:["",[c.m.required]],personPasswordConfirmation:["",[c.m.required]]},{validator:Object(h.a)("personPassword","personPasswordConfirmation")}),this.personSecondForm=this.formBuilder.group({personResidence:[""],personNationalite:[""],personPieceIdentite:[""],personNumeroIdentite:[""],personDebutValidite:[""],personFinValidite:[""],personDateNaissance:[""],personAcceptContract:["",[c.m.required]]})},t.prototype.iniFormulairetPersonMorale=function(){this.organisationFirstForm=this.formBuilder.group({raisonSociale:["",[c.m.required]],nomCommercial:["",[c.m.required]],typeOrganisation:["",[c.m.required]]}),this.personExistForm=this.formBuilder.group({personExist:[!0,[]]}),this.personExistInputForm=this.formBuilder.group({numero_adhesion:["",[c.m.required]]}),this.organisationSecondForm=this.formBuilder.group({organisationEmail:["",[c.m.required,c.m.email]],organisationUsername:["",[c.m.required]],organisationPassword:["",[c.m.required]],organisationPasswordConfirmation:["",[c.m.required]]},{validator:Object(h.a)("organisationPassword","organisationPasswordConfirmation")}),this.organisationThirdForm=this.formBuilder.group({implantation:[""],paysImmatriculation:[""],immatriculation:[""],numeroImmatriculation:["",[c.m.required]],dateImmatriculation:[""],organisationAcceptContract:["",[c.m.required]]})},t.prototype.enrollPersonPhysique=function(){var t=this;this.loadinPersongFlag=!0,this.errorFlag=!1,this.person.firstname=this.personFirstForm.value.personFirstname,this.person.lastname=this.personFirstForm.value.personLastname,this.person.email=this.personFirstForm.value.personEmail,this.person.username=this.personFirstForm.value.personUsername,this.person.password=this.personFirstForm.value.personPassword,this.personDetails=[new m.a("Pays de r\xe9sidence","ox",this.personSecondForm.value.personResidence,""),new m.a("Nationalit\xe9","ox",this.personSecondForm.value.personNationalite,""),new m.a("Num\xe9ro d'identit\xe9","ox",this.personSecondForm.value.personNumeroIdentite,""),new m.a("D\xe9but de validit\xe9","ox",this.personSecondForm.value.personDebutValidite,""),new m.a("Fin de validit\xe9","ox",this.personSecondForm.value.personFinValidite,""),new m.a("Date de naissance","ox",this.personSecondForm.value.personDateNaissance,"")],this.signupInfo=new d(this.person.firstname,this.person.lastname,this.person.email,this.person.username,this.person.password),this.signupInfo.setDetails(this.personDetails.slice()),this.authService.signUpPerson(this.signupInfo).subscribe(function(n){t.isSignedUp=!0,t.isSignUpFailed=!1,t.loadinPersongFlag=!1,t.router.navigate(["/auth/login"])},function(n){t.errorFlag=!0,t.loadinPersongFlag=!1,t.errorMessage=n.error.message,t.isSignUpFailed=!0})},t.prototype.enrollOrganisation=function(){var t=this;this.loadinOrganisationgFlag=!0,this.personMoralDetails=[new m.a("Implantation","ox",this.organisationThirdForm.value.implantation,""),new m.a("Pays d'immatriculation","ox",this.organisationThirdForm.value.paysImmatriculation,""),new m.a("type d'imatriculation","ox",this.organisationThirdForm.value.immatriculation,""),new m.a("Num\xe9ro d'immatriculation","ox",this.organisationThirdForm.value.numeroImmatriculation,""),new m.a("D\xe9but d'immatriculation","ox",this.organisationThirdForm.value.dateImmatriculation,"")],this.signupInfoMoral=new p.a(this.organisationFirstForm.value.raisonSociale,this.organisationFirstForm.value.nomCommercial,this.organisationFirstForm.value.typeOrganisation,this.organisationSecondForm.value.organisationUsername,this.organisationSecondForm.value.organisationPassword,this.organisationSecondForm.value.organisationEmail,this.organisationThirdForm.value.numeroImmatriculation),this.signupInfoMoral.setDetails(this.personMoralDetails.slice()),this.authService.signUpMoral(this.signupInfoMoral).subscribe(function(n){t.loadinOrganisationgFlag=!1,t.router.navigate(["/auth/login"])},function(n){t.loadinOrganisationgFlag=!1})},t.prototype.enrollOrganisationWithExistantPfm=function(){var t=this;this.loadinOrganisationgFlag=!0,this.personMoralDetails=[new m.a("Implantation","ox",this.organisationThirdForm.value.implantation,""),new m.a("Pays d'immatriculation","ox",this.organisationThirdForm.value.paysImmatriculation,""),new m.a("type d'imatriculation","ox",this.organisationThirdForm.value.immatriculation,""),new m.a("Num\xe9ro d'immatriculation","ox",this.organisationThirdForm.value.numeroImmatriculation,""),new m.a("D\xe9but d'immatriculation","ox",this.organisationThirdForm.value.dateImmatriculation,"")],this.signupInfoMoral=new p.a(this.organisationFirstForm.value.raisonSociale,this.organisationFirstForm.value.nomCommercial,this.organisationFirstForm.value.typeOrganisation,this.person.username,this.person.password,this.person.email,this.organisationThirdForm.value.numeroImmatriculation),this.signupInfoMoral.setDetails(this.personMoralDetails.slice()),this.authService.signUpMoral(this.signupInfoMoral).subscribe(function(n){t.loadinOrganisationgFlag=!1,t.router.navigate(["/auth/login"])},function(n){t.loadinOrganisationgFlag=!1})},t.prototype.getDataOfExistingPfm=function(){var t=this;this.loadingCheckExistingPersonFlag=!0,this.authService.getDataOfExistingPersonByNumeroAdhesion(this.personExistInputForm.value.numero_adhesion).subscribe(function(n){t.person=n.person,t.personFoundInBd=!0,t.personNotFoundInBd=!1,t.loadingCheckExistingPersonFlag=!1},function(n){t.loadingCheckExistingPersonFlag=!1,t.personFoundInBd=!1,t.personNotFoundInBd=!0})},t.prototype.onPersonFirstSubmit=function(){},t.prototype.onPersonSecondSubmit=function(){},t.prototype.onOrganisationFirstSubmit=function(){},t.prototype.onOrganisationSecondSubmit=function(){},t.prototype.onOrganisationThirdSubmit=function(){},t.ctorParameters=function(){return[{type:s.c},{type:b.a},{type:c.c},{type:u.a},{type:l.r}]},t=o.c([Object(i.n)({selector:"app-membres",template:e("57Uh"),styles:[e("avBf")]}),o.f("design:paramtypes",[s.c,b.a,c.c,u.a,l.r])],t)}(),g=function(){function t(){}return t.prototype.ngOnInit=function(){},t=o.c([Object(i.n)({selector:"app-partenaires",template:e("fnJZ"),styles:[e("bC2o")]}),o.f("design:paramtypes",[])],t)}(),v=function(){function t(){}return t.prototype.ngOnInit=function(){},t=o.c([Object(i.n)({selector:"app-realisations",template:e("JvLX"),styles:[e("4GRg")]}),o.f("design:paramtypes",[])],t)}(),y=e("sSZT"),C=e("XZLI"),x=e("4GxJ"),S=function(){function t(t){return Object.assign(this,t)}return t.ctorParameters=function(){return[{type:void 0}]},t}(),w=e("Tj/N"),F=e("qfBg"),I=e("uIXG"),N=function(){function t(t,n,e,o,i,r,s){this.route=t,this.router=n,this.formBuilder=e,this.clientAccessService=o,this.userService=i,this.communauteService=r,this.modalService=s,this.isSend=!1,this.message="",this.status="success",this.loading=!1,this.modalOptions={backdrop:"static",backdropClass:"customBackdrop",size:"lg"}}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(n){t.commId=n.id,t.getAccess(t.commId+"")}),this.initForm(),this.getUsers(),this.getUser()},t.prototype.getUser=function(){return o.b(this,void 0,void 0,function(){var t=this;return o.e(this,function(n){switch(n.label){case 0:return[4,this.userService.getCurrentUser().then(function(n){t.user=n}).catch(function(t){console.log(t)})];case 1:return n.sent(),[2]}})})},t.prototype.getUsers=function(){return o.b(this,void 0,void 0,function(){var t=this;return o.e(this,function(n){switch(n.label){case 0:return[4,this.userService.getUsers().then(function(n){t.users=n.content}).catch(function(t){console.error(t)})];case 1:return n.sent(),[2]}})})},t.prototype.initForm=function(){this.accessForm=this.formBuilder.group({role:["",c.m.required],finValidite:["",c.m.required],utilisateur:["",c.m.required]})},Object.defineProperty(t.prototype,"form",{get:function(){return this.accessForm.controls},enumerable:!0,configurable:!0}),t.prototype.getAccess=function(t){var n=this;this.clientAccessService.getClientAccess(t).then(function(t){n.accesses=t}).catch(function(t){console.log(t)})},t.prototype.onSubmit=function(){return o.b(this,void 0,void 0,function(){var t,n=this;return o.e(this,function(e){return this.isSend=!0,this.accessForm.invalid?(this.status="danger",this.message="Tout les champs sont requis !",[2]):(t=new S({idAcces:null,cle:this.keyGenerator("microcap"+this.form.utilisateur.value),finValidite:this.form.finValidite.value,dateCreation:new Date,dateActivation:null,statut:!1,role:this.form.role.value,utilisateur:new w.a({idUtilisateur:this.form.utilisateur.value}),emetteur:this.user,communaute:new y.a({idCommunaute:this.commId})}),this.clientAccessService.addClientAccess(t).then(function(t){n.status="success",n.message="Creation reussie",n.getAccess(n.commId+"")}).catch(function(t){n.status="danger",n.message="Une erreur est survenue lors de l'enregistrement",console.log(t)}),[2])})})},t.prototype.onClose=function(){this.isSend=!1},t.prototype.updateFinValidite=function(t){this.finValidite=t.target.value},t.prototype.openModal=function(t){return o.b(this,void 0,void 0,function(){var n=this;return o.e(this,function(e){return this.modalService.open(t,this.modalOptions).result.then(function(t){n.closeResult="Closed with: "+t},function(t){n.closeResult="Dismissed "+n.getDismissReason(t)}),[2]})})},t.prototype.openModalUpdate=function(t,n){return o.b(this,void 0,void 0,function(){var e=this;return o.e(this,function(o){return this.accessToUpdate=n,this.modalService.open(t,this.modalOptions).result.then(function(t){e.closeResult="Closed with: "+t},function(t){e.closeResult="Dismissed "+e.getDismissReason(t)}),[2]})})},t.prototype.getDismissReason=function(t){return t===x.a.ESC?"by pressing ESC":t===x.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+t},t.prototype.desactivate=function(t){var n=this;t.finValidite=-2208989616e3,this.isSend=!0,this.clientAccessService.updateClientAccess(t).then(function(t){n.status="success",n.message="Desactivation reussie",n.getAccess(n.commId+"")}).catch(function(t){n.status="danger",n.message="Une erreur est survenue lors de la desactivation",console.log(t)})},t.prototype.formatDate=function(t){return new Date(t).toLocaleString()},t.prototype.isExpired=function(t){return(new Date).getTime()<t},t.prototype.detruire=function(t){var n=this;this.isSend=!0,this.clientAccessService.deleteAccess(t).then(function(t){n.status="success",n.message="Suppression reussie",n.getAccess(n.commId+"")}).catch(function(t){n.status="danger",n.message="Une erreur est survenue lors de la suppression",console.log(t)})},t.prototype.reactivate=function(){var t=this;this.accessToUpdate.finValidite=this.finValidite,this.isSend=!0,this.clientAccessService.updateClientAccess(this.accessToUpdate).then(function(n){t.status="success",t.message="Reactivation reussie",t.getAccess(t.commId+"")}).catch(function(n){t.status="danger",t.message="Une erreur est survenue lors de la reactivation",console.log(n)})},t.prototype.keyGenerator=function(t){function n(t,n,e,o,i,r){return s(function(t,n){return t<<n|t>>>32-n}(s(s(n,t),s(o,r)),i),e)}function e(t,e,o,i,r,s,a){return n(e&o|~e&i,t,e,r,s,a)}function o(t,e,o,i,r,s,a){return n(e&i|o&~i,t,e,r,s,a)}function i(t,e,o,i,r,s,a){return n(e^o^i,t,e,r,s,a)}function r(t,e,o,i,r,s,a){return n(o^(e|~i),t,e,r,s,a)}function s(t,n){var e=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(e>>16)<<16|65535&e}var a,c=(c=function(t){for(var n,e="0123456789ABCDEF",o="",i=0;i<t.length;i++)n=t.charCodeAt(i),o+=e.charAt(n>>>4&15)+e.charAt(15&n);return o}(function(t){for(var n="",e=0;e<32*t.length;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}(function(t,n){t[n>>5]|=128<<n%32,t[14+(n+64>>>9<<4)]=n;for(var a=1732584193,c=-271733879,u=-1732584194,l=271733878,p=0;p<t.length;p+=16){var d=a,m=c,h=u,b=l;c=r(c=r(c=r(c=r(c=i(c=i(c=i(c=i(c=o(c=o(c=o(c=o(c=e(c=e(c=e(c=e(c,u=e(u,l=e(l,a=e(a,c,u,l,t[p+0],7,-680876936),c,u,t[p+1],12,-389564586),a,c,t[p+2],17,606105819),l,a,t[p+3],22,-1044525330),u=e(u,l=e(l,a=e(a,c,u,l,t[p+4],7,-176418897),c,u,t[p+5],12,1200080426),a,c,t[p+6],17,-1473231341),l,a,t[p+7],22,-45705983),u=e(u,l=e(l,a=e(a,c,u,l,t[p+8],7,1770035416),c,u,t[p+9],12,-1958414417),a,c,t[p+10],17,-42063),l,a,t[p+11],22,-1990404162),u=e(u,l=e(l,a=e(a,c,u,l,t[p+12],7,1804603682),c,u,t[p+13],12,-40341101),a,c,t[p+14],17,-1502002290),l,a,t[p+15],22,1236535329),u=o(u,l=o(l,a=o(a,c,u,l,t[p+1],5,-165796510),c,u,t[p+6],9,-1069501632),a,c,t[p+11],14,643717713),l,a,t[p+0],20,-373897302),u=o(u,l=o(l,a=o(a,c,u,l,t[p+5],5,-701558691),c,u,t[p+10],9,38016083),a,c,t[p+15],14,-660478335),l,a,t[p+4],20,-405537848),u=o(u,l=o(l,a=o(a,c,u,l,t[p+9],5,568446438),c,u,t[p+14],9,-1019803690),a,c,t[p+3],14,-187363961),l,a,t[p+8],20,1163531501),u=o(u,l=o(l,a=o(a,c,u,l,t[p+13],5,-1444681467),c,u,t[p+2],9,-51403784),a,c,t[p+7],14,1735328473),l,a,t[p+12],20,-1926607734),u=i(u,l=i(l,a=i(a,c,u,l,t[p+5],4,-378558),c,u,t[p+8],11,-2022574463),a,c,t[p+11],16,1839030562),l,a,t[p+14],23,-35309556),u=i(u,l=i(l,a=i(a,c,u,l,t[p+1],4,-1530992060),c,u,t[p+4],11,1272893353),a,c,t[p+7],16,-155497632),l,a,t[p+10],23,-1094730640),u=i(u,l=i(l,a=i(a,c,u,l,t[p+13],4,681279174),c,u,t[p+0],11,-358537222),a,c,t[p+3],16,-722521979),l,a,t[p+6],23,76029189),u=i(u,l=i(l,a=i(a,c,u,l,t[p+9],4,-640364487),c,u,t[p+12],11,-421815835),a,c,t[p+15],16,530742520),l,a,t[p+2],23,-995338651),u=r(u,l=r(l,a=r(a,c,u,l,t[p+0],6,-198630844),c,u,t[p+7],10,1126891415),a,c,t[p+14],15,-1416354905),l,a,t[p+5],21,-57434055),u=r(u,l=r(l,a=r(a,c,u,l,t[p+12],6,1700485571),c,u,t[p+3],10,-1894986606),a,c,t[p+10],15,-1051523),l,a,t[p+1],21,-2054922799),u=r(u,l=r(l,a=r(a,c,u,l,t[p+8],6,1873313359),c,u,t[p+15],10,-30611744),a,c,t[p+6],15,-1560198380),l,a,t[p+13],21,1309151649),u=r(u,l=r(l,a=r(a,c,u,l,t[p+4],6,-145523070),c,u,t[p+11],10,-1120210379),a,c,t[p+2],15,718787259),l,a,t[p+9],21,-343485551),a=s(a,d),c=s(c,m),u=s(u,h),l=s(l,b)}return Array(a,c,u,l)}(function(t){for(var n=Array(t.length>>2),e=0;e<n.length;e++)n[e]=0;for(e=0;e<8*t.length;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}(a=t),8*a.length)))).toLowerCase();return c},t.ctorParameters=function(){return[{type:s.a},{type:s.c},{type:c.c},{type:C.a},{type:F.a},{type:I.a},{type:x.b}]},t=o.c([Object(i.n)({selector:"app-access",template:e("rcd4"),styles:[e("Fxfs")]}),o.f("design:paramtypes",[s.a,s.c,c.c,C.a,F.a,I.a,x.b])],t)}(),P=e("t/Na"),k=e("AytR"),O={headers:new P.e({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})},E=function(){function t(t){this.http=t,this.url=k.a.serverEndpoint+"/social-network/contrat-signes/",this.urlCommunaute=k.a.serverEndpoint+"/social-network/communautes/"}return t.prototype.fetchUserContratSigner=function(t){return this.http.get(this.url+t.idUtilisateur+"/utilisateurs",O).toPromise()},t.prototype.newContratSigner=function(t){return this.http.post(this.url,t,O).toPromise()},t.prototype.fetchCommunityContratSigner=function(t){return this.http.get(this.url+t.idCommunaute+"/communautes",O).toPromise()},t.prototype.fetchCommunityWithNoContratSigner=function(t){return this.http.get(this.url+t.idUtilisateur+"/utilisateurs/non-contrat-signer",O).toPromise()},t.prototype.deleteContratSigner=function(t){return this.http.delete(this.url+"/"+t.idContratSigner,O).toPromise()},t.ctorParameters=function(){return[{type:P.b}]},t=o.c([Object(i.D)({providedIn:"root"}),o.f("design:paramtypes",[P.b])],t)}(),_={headers:new P.e({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})},A=function(){function t(t){this.http=t,this.url=k.a.serverEndpoint+"/social-network/connexion-communautes/"}return t.prototype.fetchConnexionCommunautes=function(t){return this.http.get(this.url+t.idCommunaute+"/communautes",_).toPromise()},t.prototype.newConnexionCommunaute=function(t){return this.http.post(this.url,t,_).toPromise()},t.prototype.deleteConnexion=function(t){return this.http.delete(this.url+"/"+t.idConnexionCommunaute,_).toPromise()},t.ctorParameters=function(){return[{type:P.b}]},t=o.c([Object(i.D)({providedIn:"root"}),o.f("design:paramtypes",[P.b])],t)}(),T=function(){function t(t){return Object.assign(this,t)}return t.ctorParameters=function(){return[{type:void 0}]},t}(),B={headers:new P.e({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})},D=function(){function t(t){this.http=t,this.url=k.a.serverEndpoint+"/social-network/communaute-associes"}return t.prototype.communitiesWithoutMe=function(t){return this.http.get(this.url+"/"+t.idUtilisateur+"/utilisateurs/abscent",B).toPromise()},t.ctorParameters=function(){return[{type:P.b}]},t=o.c([Object(i.D)({providedIn:"root"}),o.f("design:paramtypes",[P.b])],t)}(),M=e("nEDP"),U=function(){function t(t,n,e,o,i,r,s){this.formBuilder=t,this.userService=n,this.router=e,this.communauteService=o,this.communauteAssocieService=i,this.contratSignerService=r,this.connexionCommunauteService=s,this.user=null,this.showCommunities=!0,this.showMyCommunities=!0,this.showMyContrats=!1,this.showMyNetworks=!1,this.isSend=!1,this.hasSendSignerContrat=!1,this.status="success",this.messageCreation=""}return t.prototype.ngOnInit=function(){this.initForm(),this.getUser(),this.fetchMicrocapOperators(),this.getAllCommunities()},t.prototype.initForm=function(){this.form=this.formBuilder.group({nom:"",operateurMicrocap:""})},t.prototype.onSubmit=function(){return o.b(this,void 0,void 0,function(){var t,n,e=this;return o.e(this,function(o){return null===this.user?[2]:(t=new y.a({idCommunaute:null,nom:this.form.value.nom,type:"CONVENTIONNEE",dateCreation:this.dateToTimestamp(new Date),dateModification:this.dateToTimestamp(new Date),utilisateur:this.user,kId:null}),n=this.form.value.nom.replace(/[^a-zA-Z0-9]/g,"_").toLowerCase(),this.userService.createKeycloackGroup(n+"-group",M.a.getAdminToken()).then(function(o){e.userService.createKeycloackRole(n+"-role",M.a.getAdminToken()).then(function(o){e.userService.getKeycloackGroup(n+"-group",M.a.getAdminToken()).then(function(n){t.kId=n[0].id,e.communauteService.newCommunaute(t).then(function(t){return e.isSend=!0,e.status="success",e.messageCreation='La communaut\xe9 "'+e.form.value.nom+'" a \xe9t\xe9 cr\xe9\xe9e avec succ\xe8s !',e.initForm(),e.getCommunauteWithContratSigner(e.user),e.getAllCommunities(),!0}).catch(function(t){return e.isSend=!0,e.status="danger",e.messageCreation=t.error.message,alert("Probl\xe8me pour soumettre une communaut\xe9"+JSON.stringify(t)),!1})}).catch(function(t){return e.isSend=!0,e.status="danger",e.messageCreation=t.error.message,!1})}).catch(function(t){return console.log(t),e.isSend=!0,e.status="danger",e.messageCreation=t.error.message,!1})}),[2])})})},t.prototype.onClose=function(){this.isSend=!1,this.hasSendSignerContrat=!1},t.prototype.getAllCommunities=function(){return o.b(this,void 0,void 0,function(){var t=this;return o.e(this,function(n){switch(n.label){case 0:return[4,this.communauteService.allCommunities().then(function(n){return t.allCommunities=n.content,!0}).catch(function(t){return!1})];case 1:return n.sent(),[2]}})})},t.prototype.getMyCommunities=function(){return o.b(this,void 0,void 0,function(){var t=this;return o.e(this,function(n){switch(n.label){case 0:return[4,this.communauteService.myCommunities(this.user.idUtilisateur).then(function(n){return t.communities=n,!0}).catch(function(t){return!1})];case 1:return n.sent(),[2]}})})},t.prototype.isAdmin=function(){return M.a.hasAnyRole(["admin"])},t.prototype.accessKey=function(t){this.router.navigate(["../access",t.idCommunaute])},t.prototype.openContrats=function(t){return o.b(this,void 0,void 0,function(){var n=this;return o.e(this,function(e){switch(e.label){case 0:return this.onOneList(!1,!0,!1),[4,this.contratSignerService.fetchCommunityContratSigner(t).then(function(t){return n.contratsSigners=t,!0}).catch(function(t){return!1})];case 1:return e.sent(),[2]}})})},t.prototype.openNetworks=function(t){return o.b(this,void 0,void 0,function(){var n=this;return o.e(this,function(e){switch(e.label){case 0:return this.onOneList(!1,!1,!0),[4,this.connexionCommunauteService.fetchConnexionCommunautes(t).then(function(t){return n.networkCommunities=t,!0}).catch(function(t){return!1})];case 1:return e.sent(),[2]}})})},t.prototype.signerContrat=function(t){return o.b(this,void 0,void 0,function(){var n,e=this;return o.e(this,function(o){switch(o.label){case 0:return this.hasSendSignerContrat=!1,n=new T({idContratSigner:null,dateCreation:this.dateToTimestamp(new Date),utilisateur:this.user,communaute:t}),[4,this.contratSignerService.newContratSigner(n).then(function(n){return e.hasSendSignerContrat=!0,e.messageCreation="Signature avec la communaut\xe9 '"+t.nom+"' prise en compte",e.getAllCommunities(),e.getCommunauteWithContratSigner(e.user),!0}).catch(function(t){return!1})];case 1:return o.sent(),[2]}})})},t.prototype.getCommunauteWithContratSigner=function(t){return o.b(this,void 0,void 0,function(){var n=this;return o.e(this,function(e){switch(e.label){case 0:return[4,this.contratSignerService.fetchCommunityWithNoContratSigner(t).then(function(t){return n.communauteWithContratSigner=t,!0}).catch(function(t){return!1})];case 1:return e.sent(),[2]}})})},t.prototype.showWithContratSigner=function(t){for(var n=0,e=this.communauteWithContratSigner;n<e.length;n++){if(e[n].idCommunaute===t.idCommunaute)return!1}return!this.isMine(t)},t.prototype.breakContratSigner=function(t){return o.b(this,void 0,void 0,function(){var n=this;return o.e(this,function(e){switch(e.label){case 0:return[4,this.contratSignerService.deleteContratSigner(t).then(function(t){return n.hasSendSignerContrat=!0,!0}).catch(function(t){return!1})];case 1:return e.sent(),[2]}})})},t.prototype.openContratDetails=function(t){},t.prototype.deleteCommunity=function(t){return o.b(this,void 0,void 0,function(){var n=this;return o.e(this,function(e){switch(e.label){case 0:return[4,this.communauteService.deleteCommunaute(t).then(function(t){return n.getAllCommunities(),!0}).catch(function(t){return!1})];case 1:return e.sent(),[2]}})})},t.prototype.goBackToCommunaute=function(){this.onOneList(!0,!1,!1)},t.prototype.onOneList=function(t,n,e){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===e&&(e=!1),this.showMyCommunities=t,this.showMyContrats=n,this.showMyNetworks=e},t.prototype.isMine=function(t){return t.utilisateur.idUtilisateur===this.user.idUtilisateur},t.prototype.filter=function(t){this.showCommunities=!this.showCommunities},t.prototype.getUser=function(){return o.b(this,void 0,void 0,function(){var t=this;return o.e(this,function(n){switch(n.label){case 0:return[4,this.userService.getCurrentUser().then(function(n){return t.user=n,t.getMyCommunities(),t.getCommunauteWithContratSigner(t.user),!0}).catch(function(t){return alert("Problem to get User from database "+JSON.stringify(t)),!1})];case 1:return n.sent(),[2]}})})},t.prototype.fetchMicrocapOperators=function(){return o.b(this,void 0,void 0,function(){var t=this;return o.e(this,function(n){switch(n.label){case 0:return[4,this.userService.getUsers().then(function(n){t.microcapOperators=n.content}).catch(function(t){console.error(t)})];case 1:return n.sent(),[2]}})})},t.prototype.dateToTimestamp=function(t){return t.getTime()},t.prototype.formatDate=function(t){return new Date(t).toLocaleString()},t.ctorParameters=function(){return[{type:c.c},{type:F.a},{type:s.c},{type:I.a},{type:D},{type:E},{type:A}]},t=o.c([Object(i.n)({selector:"app-communautes",template:e("49B6"),styles:[e("zwH2")]}),o.f("design:paramtypes",[c.c,F.a,s.c,I.a,D,E,A])],t)}(),V=e("q4qu"),G=e("E49E"),W=e("Yqwa"),z=e("VcDs"),j=function(){function t(t){this.ref=t}return t.prototype.ngOnInit=function(){},t.prototype.cancel=function(){this.ref.close()},t.prototype.submit=function(t,n,e){this.detail=new z.a(t,n,e),this.ref.close(this.detail)},t.ctorParameters=function(){return[{type:l.q}]},t=o.c([Object(i.n)({selector:"app-add-detail-partenaire",template:e("VaMN"),styles:[e("S4eW")]}),o.f("design:paramtypes",[l.q])],t)}(),R=function(){function t(t,n,e,o,i,r){this.formBuilder=t,this.toastrService=n,this.pfmService=e,this.groupService=o,this.dialogService=i,this.router=r,this.index=0,this.organisationFoundInBd=!1,this.loadingCheckExistingOrganisationFlag=!1,this.loadingFlag=!1,this.isGroupAdded=!1,this.errorFlag=!1,this.groupDetail={}}return t.prototype.ngOnInit=function(){var t=this;this.firstForm=this.formBuilder.group({identifiant_reseau:["",[c.m.required]]}),this.groupService.getGroupTypes().subscribe(function(n){t.groupTypes=n}),this.pfmService.getPlatformMembers().subscribe(function(n){t.platformMembers=n}),this.groupDetails=[],this.secondForm=this.formBuilder.group({numero_contrat:["",[]],date_creation:["",[]],type_profil:["",[]],nom_commercial:["",[]],partenaire_parent:["",[]],identifiant_admin:["",[]],identifiant_externe:["",[]]}),this.thirdForm=this.formBuilder.group({thirdCtrl:["",c.m.required]})},t.prototype.onFirstSubmit=function(){this.firstForm.markAsDirty()},t.prototype.onSecondSubmit=function(){this.secondForm.markAsDirty()},t.prototype.onThirdSubmit=function(){this.thirdForm.markAsDirty(),this.showToast("info")},t.prototype.showToast=function(t){this.toastrService.show(t,"Un partenaire a \xe9t\xe9 cr\xe9e.",{status:t})},t.prototype.getOrganisationById=function(){var t=this,n=this.firstForm.value.identifiant_reseau;this.loadingCheckExistingOrganisationFlag=!0,this.pfmService.getOrganisationById(n).subscribe(function(n){t.organisation=n,t.getInitiatorOfGroupBYId(),t.organisationFoundInBd=!0,t.loadingCheckExistingOrganisationFlag=!1},function(n){t.loadingCheckExistingOrganisationFlag=!1,t.organisationFoundInBd=!1})},t.prototype.getInitiatorOfGroupBYId=function(){var t=this;this.groupService.getGroupsInitiator(this.organisation).subscribe(function(n){t.parent_groups=n},function(t){})},t.prototype.addGroupe=function(){var t=this;this.loadingFlag=!0,this.errorFlag=!1;var n=this.groupTypes[+this.secondForm.value.type_profil],e=this.platformMembers[+this.secondForm.value.identifiant_admin],o=this.parent_groups[+this.secondForm.value.partenaire_parent];this.group=new W.a(this.secondForm.value.nom_commercial,this.secondForm.value.identifiant_externe,n,e),this.group.setParent(o);var i=e.person;this.group.setvalidator(i),this.group.setInitiator(i),this.group.setAsPrivate(!0),this.group.setAsVisible(!0),this.groupService.addGroupAdmin(this.group).subscribe(function(n){t.createdGroup=n,0!=t.groupDetails.length&&t.groupDetails.forEach(function(n){n.appGroup=t.createdGroup,t.addGroupDetail(n)}),t.loadingFlag=!1,t.isGroupAdded=!0,t.groupDetail={},t.groupDetails=[],t.router.navigate(["/admin/social-network/partenaires/list-partenaires"])},function(n){t.errorFlag=!0,t.loadingFlag=!1})},t.prototype.addGroupDetail=function(t){this.groupService.addGroupDetail(t).subscribe()},t.prototype.openPropertyModal=function(){var t=this;this.dialogService.open(j).onClose.subscribe(function(n){return n&&t.groupDetails.push(n)})},t.prototype.onCreatePetenariat=function(){this.addGroupe()},t.ctorParameters=function(){return[{type:c.c},{type:l.R},{type:V.a},{type:G.a},{type:l.r},{type:s.c}]},t=o.c([Object(i.n)({selector:"app-add-partenaire",template:e("FKvY"),styles:[e("Epq5")]}),o.f("design:paramtypes",[c.c,l.R,V.a,G.a,l.r,s.c])],t)}(),q={headers:new P.e({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})},L=function(){function t(t){this.http=t,this.contracts_url=k.a.serverEndpoint+"auth/sn/user/contracts",this.contracts_type_url=k.a.serverEndpoint+"auth/sn/user/contracts/pfm-contracts/"}return t.prototype.getContracts=function(){return this.http.get(this.contracts_url,q)},t.prototype.addContrat=function(t){return this.http.post(this.contracts_url+"/create",t,q)},t.prototype.getPlatformMemberContracts=function(t){return this.http.get(this.contracts_type_url+t,q)},t.prototype.getContractsByType=function(t){return this.http.get(this.contracts_url+"/"+t,q)},t.ctorParameters=function(){return[{type:P.b}]},t=o.c([Object(i.D)({providedIn:"root"}),o.f("design:paramtypes",[P.b])],t)}(),J=function(){function t(t){this.contractService=t,this.disableEdit=!0,this.disableShow=!0,this.disableDelete=!0}return t.prototype.ngOnInit=function(){var t=this;this.contractService.getContractsByType("partnership_contract").subscribe(function(n){t.partenaires=n})},t.prototype.selectPartenaire=function(t){this.partenaires.forEach(function(t){t.selected=!1}),t.selected=!0,this.disableEdit=!1,this.disableShow=!1,this.disableDelete=!1},t.ctorParameters=function(){return[{type:L}]},t=o.c([Object(i.n)({selector:"app-list-partenaires",template:e("kYhl"),styles:[e("VAJn")]}),o.f("design:paramtypes",[L])],t)}(),K=[{path:"",component:a,children:[{path:"communautes",component:U},{path:"access/:id",component:N},{path:"membres",component:f},{path:"partenaires",component:g},{path:"partenaires/add-partenaire",component:R},{path:"realisations",component:v},{path:"partenaires/list-partenaires",component:J},{path:"partenaires/add-partenaire/add-detail-partenaire",component:j}]}],Y=function(){function t(){}return t=o.c([Object(i.M)({imports:[s.e.forChild(K)],exports:[s.e]})],t)}();e.d(n,"SocialNetworkModule",function(){return Z});var Z=function(){function t(){}return t=o.c([Object(i.M)({declarations:[a,g,U,f,N,v,R,J,j],imports:[Y,r.b,c.l,l.N,l.j,l.L,l.h,l.y,l.u,c.f,s.e,l.x,l.H,l.l,l.f,l.A,l.g,l.m,l.D,l.G,l.C,l.n,l.F,l.W,l.K,l.i,l.Q.forRoot(),l.o.forRoot(),l.p.forRoot(),x.c.forRoot(),l.X.forChild()],providers:[l.I]})],t)}()},zwH2:function(t,n){t.exports="form {\n  padding-top: 2rem;\n  padding-bottom: 1rem;\n  max-width: 700px;\n  margin: auto; }\n  form .field {\n    margin-bottom: 2rem; }\n  form .field label {\n      display: block; }\n  form .field .control, form .field .control input {\n      width: 100%; }\n  form .field nb-select ::ng-deep [nbButton] {\n      height: 46px;\n      border-color: #dadfe6;\n      text-transform: capitalize; }\n  .consult-wrapper .options .filter {\n  font-size: 90%;\n  border-radius: 5px;\n  border: 1px solid #ebeff5; }\n  .consult-wrapper .options .filter, .consult-wrapper .options .filter * {\n    display: flex;\n    align-items: center; }\n  .consult-wrapper .options .filter nb-checkbox ::ng-deep label {\n    padding: 0; }\n  .consult-wrapper .options .filter nb-checkbox ::ng-deep .customised-control-description {\n    display: none; }\n  .consult-wrapper .data {\n  font-size: 85%; }\n  .consult-wrapper .data tr:hover {\n    background-color: #f8fafd; }\n  .consult-wrapper .data thead tr:hover {\n    background-color: transparent; }\n  .consult-wrapper .data th, .consult-wrapper .data td {\n    vertical-align: middle; }\n  .consult-wrapper .data .pagination-wrapper .page-item .page-link:hover {\n    background-color: #f8fafd; }\n  .consult-wrapper .data .pagination-wrapper .page-item.active .page-link {\n    border-color: #3dcc6d;\n    background-color: #3dcc6d; }\n  .consult-wrapper .options .btn-secondary, .consult-wrapper .data .actions .btn-secondary {\n  cursor: pointer; }\n  .consult-wrapper .options .btn-secondary:hover, .consult-wrapper .data .actions .btn-secondary:hover {\n    color: #ffffff;\n    background-color: #40dc7e; }\n"}}]);