(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"1UJ+":function(t,e,n){"use strict";n.r(e);var r=n("mrSG"),i=n("CcnG"),a=n("Ip0R"),o=n("gIcY"),s=n("Xk95"),c=n("ZYCi"),l=n("NT7v"),p=n("HBUA"),u=function(){function t(t,e){this.route=t,this.pfmComp=e}return t.prototype.ngOnInit=function(){var t=this;this.route.data.subscribe(function(e){return t.data=e}),this.data.activateMenu&&(this.pfmComp.menu=p.a)},t.ctorParameters=function(){return[{type:c.a},{type:l.a}]},t=r.c([Object(i.n)({selector:"app-bourse-financements-pfm",template:n("FSED"),styles:[n("pLvb")]}),r.f("design:paramtypes",[c.a,l.a])],t)}(),d=n("ZtdT"),f=n("7NUU"),h=n("qfBg"),g=function(){function t(t,e,n){this.userService=t,this.windowService=e,this.activeFundsService=n,this.activeFunds=[],this.pagingNonUserActiveFunds={currentPage:0,totalPages:0,defaultPageSize:10}}return t.prototype.ngOnInit=function(){var t=this;this.fetchUser();var e=setInterval(function(){t.user&&(t.fetchActiveFunds(),clearInterval(e))},300);this.bootEvaIcons()},t.prototype.bootEvaIcons=function(){var t=!1,e=0,n=setInterval(function(){document.querySelector("[data-eva]")?(d.replace(),t=!0):(t||e>7)&&clearInterval(n),e++},700);document.querySelector(".tabset").addEventListener("click",this.bootEvaIcons)},t.prototype.fetchUser=function(){return r.b(this,void 0,void 0,function(){var t=this;return r.e(this,function(e){switch(e.label){case 0:return[4,this.userService.getCurrentUser().then(function(e){t.user=e}).catch(function(t){console.error(t)})];case 1:return e.sent(),[2]}})})},t.prototype.fetchActiveFunds=function(){return r.b(this,void 0,void 0,function(){var t=this;return r.e(this,function(e){switch(e.label){case 0:return[4,this.activeFundsService.fetchAllActiveFunds().then(function(e){t.activeFunds=e.content,t.pagingNonUserActiveFunds.totalPages=Math.ceil(t.nonUserActiveFunds().length/t.pagingNonUserActiveFunds.defaultPageSize)}).catch(function(t){console.error(t)})];case 1:return e.sent(),[2]}})})},t.prototype.userHasActiveFunds=function(){if(this.activeFunds)for(var t=0,e=this.activeFunds;t<e.length;t++){if(e[t].utilisateur.idUtilisateur===this.user.idUtilisateur)return!0}return!1},t.prototype.userActiveFunds=function(){var t=this;return this.activeFunds.filter(function(e){return e.utilisateur.idUtilisateur===t.user.idUtilisateur})},t.prototype.nonUserActiveFunds=function(){var t=this;return this.activeFunds.filter(function(e){return e.utilisateur.idUtilisateur!==t.user.idUtilisateur})},t.prototype.loadNonUserActiveFundsPage=function(t){this.pagingNonUserActiveFunds.currentPage=t},t.prototype.refreshActiveFunds=function(){this.loadNonUserActiveFundsPage(0),this.fetchActiveFunds()},t.prototype.openAddActiveFundWindow=function(){},t.prototype.formatDate=function(t){return new Date(t).toLocaleString()},t.prototype.arrayRange=function(t){return Array.from(Array(t).keys())},t.prototype.currentUserId=function(){return this.user.idUtilisateur},t.ctorParameters=function(){return[{type:h.a},{type:s.Y},{type:f.a}]},t=r.c([Object(i.n)({selector:"app-artefacts",template:n("GjXy"),styles:[n("iRsu")]}),r.f("design:paramtypes",[h.a,s.Y,f.a])],t)}(),b=n("AytR"),m=n("t/Na"),v={headers:new m.e({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})},y=function(){function t(t){this.http=t,this.urlActifFA=b.a.serverEndpoint+"/funding/actifs",this.urlUserFA=b.a.serverEndpoint+"/funding/utilisateurs"}return t.prototype.fetchUserActifs=function(t){return this.http.get(this.urlUserFA+"/"+t.idUtilisateur+"/actifs",v).toPromise()},t.prototype.fetchOffersOfActif=function(t){return this.http.get(this.urlActifFA+"/"+t.id+"/offres",v).toPromise()},t.prototype.fetchUserAccount=function(t){return this.http.get(this.urlUserFA+"/"+t.idUtilisateur+"/compte",v).toPromise()},t.ctorParameters=function(){return[{type:m.b}]},t=r.c([Object(i.D)({providedIn:"root"}),r.f("design:paramtypes",[m.b])],t)}(),w=function(){function t(t,e){this.userService=t,this.financialActivity=e,this.showActifTable=!0,this.showOffresTable=!1,this.showReturnButton=!1,this.showMouvementButton=!1}return t.prototype.ngOnInit=function(){this.fetchUser()},t.prototype.fetchUser=function(){return r.b(this,void 0,void 0,function(){var t=this;return r.e(this,function(e){switch(e.label){case 0:return[4,this.userService.getCurrentUser().then(function(e){t.user=e,t.fetchUserActifs(t.user),t.fetchUserAccount(t.user)}).catch(function(t){console.error(t)})];case 1:return e.sent(),[2]}})})},t.prototype.fetchUserActifs=function(t){return r.b(this,void 0,void 0,function(){var e=this;return r.e(this,function(n){switch(n.label){case 0:return[4,this.financialActivity.fetchUserActifs(t).then(function(t){e.actifs=t}).catch(function(t){console.log("Une erreur estr survenu")})];case 1:return n.sent(),[2]}})})},t.prototype.fetchActifOffers=function(t){return r.b(this,void 0,void 0,function(){var e=this;return r.e(this,function(n){switch(n.label){case 0:return[4,this.financialActivity.fetchOffersOfActif(t).then(function(t){e.offers=t,e.onOneList(!1,!0,!0,!1)}).catch(function(t){console.log("Une erreur est survenu")})];case 1:return n.sent(),[2]}})})},t.prototype.fetchUserAccount=function(t){return r.b(this,void 0,void 0,function(){var e=this;return r.e(this,function(n){switch(n.label){case 0:return[4,this.financialActivity.fetchUserAccount(t).then(function(t){e.account=t,e.mouvements=t.mouvements}).catch(function(t){console.log("Une erreur est survenue")})];case 1:return n.sent(),[2]}})})},t.prototype.onOneList=function(t,e,n,r){void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===n&&(n=!0),void 0===r&&(r=!1),this.showActifTable=t,this.showOffresTable=e,this.showReturnButton=n,this.showMouvementButton=r},t.prototype.formatDate=function(t){return new Date(t).toLocaleString()},t.prototype.arrayRange=function(t){return Array.from(Array(t).keys())},t.prototype.currentUserId=function(){return this.user.idUtilisateur},t.ctorParameters=function(){return[{type:h.a},{type:y}]},t=r.c([Object(i.n)({selector:"app-financial-activities",template:n("xrp+"),styles:[n("PHg/")]}),r.f("design:paramtypes",[h.a,y])],t)}(),x=function(){function t(){}return t.prototype.ngOnInit=function(){},t=r.c([Object(i.n)({selector:"app-autres",template:n("mbkk"),styles:[n("BHxV")]}),r.f("design:paramtypes",[])],t)}(),P=n("Tj/N"),A=n("lSt7"),I=function(){function t(t,e,n,r,i,a,o){void 0===i&&(i=null),this.idTransaction=i,this.amount=t,this.currency=e,this.date=n,this.token=r,this.utilisateur=a,this.compte=o}return t.ctorParameters=function(){return[{type:Number},{type:String},{type:Number},{type:String},null,{type:P.a},{type:A.a}]},t}(),B=function(){function t(t,e){this.formBuilder=t,this.userService=e,this.isSend=!1,this.message="",this.status="success",this.isSendBG=!1,this.messageBG="",this.statusBG="success",this.loading=!1}return t.prototype.ngOnInit=function(){this.initForm(),this.initFormBG(),this.getUser(),this.loadStripe()},t.prototype.initForm=function(){this.depositForm=this.formBuilder.group({cardNumber:["",o.m.required],expMonth:["",o.m.required],expYear:["",o.m.required],cvc:["",o.m.required],amount:["",o.m.required]})},t.prototype.initFormBG=function(){this.bgForm=this.formBuilder.group({numberBG:["",o.m.required],cost:[""]})},Object.defineProperty(t.prototype,"form",{get:function(){return this.depositForm.controls},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formBG",{get:function(){return this.bgForm.controls},enumerable:!0,configurable:!0}),t.prototype.onClose=function(){this.isSend=!1,this.isSendBG=!1},t.prototype.getUser=function(){return r.b(this,void 0,void 0,function(){var t=this;return r.e(this,function(e){switch(e.label){case 0:return[4,this.userService.getCurrentUser().then(function(e){return t.user=e,t.getAccount(),!0}).catch(function(t){return alert("Problem to get User from database "),!1})];case 1:return e.sent(),[2]}})})},t.prototype.getAccount=function(){return r.b(this,void 0,void 0,function(){var t=this;return r.e(this,function(e){switch(e.label){case 0:return[4,this.userService.getCurrentAccount(this.user.idUtilisateur).then(function(e){return t.compte=e,!0}).catch(function(t){return alert("Problem to get compte from database "),!1})];case 1:return e.sent(),[2]}})})},t.prototype.onChange=function(t){this.formBG.cost.setValue(2e3*parseInt(this.formBG.numberBG.value+0)+" Euro")},t.prototype.onSubmitBG=function(){var t=this,e=parseInt(this.formBG.numberBG.value+0);if(this.loading=!0,e<1)return this.isSendBG=!0,this.statusBG="danger",this.messageBG="Le nombre de BG doit etre superieure a 0",void(this.loading=!1);if(2e3*parseInt(this.formBG.numberBG.value+0)>this.compte.solde)return this.isSendBG=!0,this.statusBG="danger",this.messageBG="Le solde de votre compte est insuffisant pour cette operation",void(this.loading=!1);var n=new I(2e3*parseInt(this.formBG.numberBG.value+0),"XAF",this.dateToTimestamp(new Date),e+"",null,this.user,this.compte);this.userService.achatBG(n).subscribe(function(n){t.isSendBG=!0,t.statusBG="success",t.messageBG="L'achat de "+e+" BG s'est deroule avec succes",t.compte=n,t.loading=!1},function(e){t.isSendBG=!0,t.statusBG="danger",t.messageBG="Une erreur s'est produite, veuillez reesayer",t.loading=!1})},t.prototype.onSubmit=function(){var t=this;return this.loading=!0,window.Stripe?this.depositForm.invalid?(this.isSend=!0,this.status="danger",this.message="Veuillez bien remplir le formulaire",void(this.loading=!1)):window.Stripe?void window.Stripe.card.createToken({number:this.form.cardNumber.value,exp_month:this.form.expMonth.value,exp_year:this.form.expYear.value,cvc:this.form.cvc.value},function(e,n){if(200===e){var r=new I(t.form.amount.value,"EUR",t.dateToTimestamp(new Date),n.id,null,t.user,t.compte);t.userService.rechargeCompte(r).subscribe(function(e){t.isSend=!0,t.status="success",t.message="La recharge s'est deroulee avec succes",t.compte=e,t.loading=!1},function(e){t.isSend=!0,t.status="danger",t.message="Une erreur s'est produite, veuillez reesayer",t.loading=!1})}else t.isSend=!0,t.status="danger",t.message=n.error.message,t.loading=!1}):(alert("Oops! Stripe did not initialize properly."),void(this.loading=!1)):(alert("Oops! Stripe did not initialize properly."),void(this.loading=!1))},t.prototype.loadStripe=function(){if(!window.document.getElementById("stripe-custom-form-script")){var t=window.document.createElement("script");t.id="stripe-custom-form-script",t.type="text/javascript",t.src="https://js.stripe.com/v2/",t.onload=function(){window.Stripe.setPublishableKey("pk_test_zdiMBJWM4BEHKUooRvv0Hsb100Py1VniNT")},window.document.body.appendChild(t)}},t.prototype.dateToTimestamp=function(t){return t.getTime()},t.prototype.formatDate=function(t){return new Date(t).toLocaleString()},t.ctorParameters=function(){return[{type:o.c},{type:h.a}]},t=r.c([Object(i.n)({selector:"app-recharge",template:n("hcRY"),styles:[n("B1Ho")]}),r.f("design:paramtypes",[o.c,h.a])],t)}(),F=[{path:"",component:u,children:[{path:"financial-activities",component:w},{path:"artefacts",component:g},{path:"autres",component:x},{path:"recharge-compte",component:B},{path:"achat-bg",component:x}]}],k=function(){function t(){}return t=r.c([Object(i.M)({imports:[c.e.forChild(F)],exports:[c.e]})],t)}(),O=n("xkgV");n.d(e,"BourseFinancementsPfmModule",function(){return C});var C=function(){function t(){}return t=r.c([Object(i.M)({declarations:[u,w,g,x,B],imports:[a.b,s.N,s.m,s.g,s.A,s.W,s.l,s.j,s.h,s.u,s.y,s.T,s.n,s.K,O.a,o.l,k]})],t)}()},B1Ho:function(t,e){t.exports="form {\n  padding-top: 2rem;\n  padding-bottom: 1rem;\n  max-width: 700px;\n  margin: auto; }\n  form .field {\n    margin-bottom: 2rem; }\n  form .field label {\n      font-size: 90%;\n      display: block; }\n  form .field .control, form .field .control input {\n      width: 100%; }\n  form .field nb-select ::ng-deep [nbButton] {\n      height: 46px;\n      border-color: #dadfe6;\n      text-transform: capitalize; }\n  .modalField {\n  margin-bottom: 30px; }\n  .consult-wrapper .options .filter {\n  font-size: 90%;\n  border-radius: 5px;\n  border: 1px solid #ebeff5; }\n  .consult-wrapper .options .filter, .consult-wrapper .options .filter * {\n    display: flex;\n    align-items: center; }\n  .consult-wrapper .options .filter nb-checkbox ::ng-deep label {\n    padding: 0; }\n  .consult-wrapper .options .filter nb-checkbox ::ng-deep .customised-control-description {\n    display: none; }\n  .consult-wrapper .data {\n  font-size: 85%; }\n  .consult-wrapper .data tr:hover {\n    background-color: #f8fafd; }\n  .consult-wrapper .data thead tr:hover {\n    background-color: transparent; }\n  .consult-wrapper .data th, .consult-wrapper .data td {\n    vertical-align: middle; }\n  .consult-wrapper .data .pagination-wrapper {\n    max-width: 100%; }\n  .consult-wrapper .data .pagination-wrapper .page-item .page-link:hover {\n      background-color: #f8fafd; }\n  .consult-wrapper .data .pagination-wrapper .page-item.active .page-link {\n      border-color: #3dcc6d;\n      background-color: #3dcc6d; }\n  .consult-wrapper .options .btn-secondary, .consult-wrapper .data .actions .btn-secondary {\n  cursor: pointer; }\n  .consult-wrapper .options .btn-secondary:hover, .consult-wrapper .data .actions .btn-secondary:hover {\n    color: #ffffff;\n    background-color: #40dc7e; }\n  .bottom {\n  margin-bottom: 20px; }\n"},BHxV:function(t,e){t.exports=""},FSED:function(t,e){t.exports="<router-outlet></router-outlet> \n"},GjXy:function(t,e){t.exports='<div class="row">\n  <div class="col">\n    <nb-card>\n      <nb-card-body>        \n        <nb-tabset>\n\n          \x3c!-- Fonds --\x3e\n          <nb-tab tabTitle="Fonds" tabIcon="nb-bar-chart">\n            <div class="consult-wrapper mt-4 px-4">\n            \n              <div class="user-active-funds mb-4 mt-4" *ngIf="userHasActiveFunds()">\n                <div class="options d-flex align-center mb-4">\n\n                  <div class="title py-2 mr-2">\n                    Fonds actifs affili\xe9s\n                    <button nbButton size="xsmall" shape="round" status="success" class="font-weight-bold"\n                     (click)="openAddActiveFundWindow()">\n                      <i data-eva="plus-circle" data-eva-fill="#fff" class="mr-1" data-eva-height="15" data-eva-width="15"></i>\n                      Cr\xe9er un fonds actif\n                    </button>\n                  </div>\n\n                  <div class="ml-auto">\n                    <button nbButton class="btn-secondary" size="xsmall" shape="round"\n                      (click)="refreshActiveFunds()">\n                      Rafra\xeechir\n                    </button>\n                  </div>               \n                  \n                </div>\n\n                <div class="data table-responsive">\n                  <table class="table table-hover table-bordered">\n                    \n                    <thead>\n                      <tr>\n                        <th scope="col">#</th>\n                        <th scope="col">Nom</th>\n                        <th scope="col">Date de cr\xe9ation</th>\n                        <th scope="col">Actions</th>\n                      </tr>\n                    </thead>\n\n                    <tbody >\n                      <ng-container *ngFor="let el of userActiveFunds()">\n\n                        <tr>\n                          <th scope="row">{{ el.idFondsActif }}</th>\n                          <td>{{ el.nom }}</td>\n                          <td>{{ formatDate(el.dateCreation) }}</td>\n\n                          <td class="actions text-center">\n                            <a nbButton size="xsmall" shape="round" status="danger" class="">\n                              <i data-eva="trash" data-eva-fill="#fff" class="mr-1" data-eva-height="15" data-eva-width="15"></i>\n                              Supprimer\n                            </a>\n                          </td>\n                        </tr>\n                        \n                      </ng-container>\n                    </tbody>\n                  </table>\n\n                </div>\n              </div>\n\n              <div class="active-funds mb-4">\n                  <div class="options d-flex align-center mb-4">\n  \n                    <div class="title py-2">\n                      Fonds actifs disponibles\n                    </div>\n  \n                    <div class="ml-auto">\n                      <button nbButton class="btn-secondary" size="xsmall" shape="round"\n                        (click)="refreshActiveFunds()">\n                        Rafra\xeechir\n                      </button>\n                    </div>               \n                    \n                  </div>\n  \n                  <div class="data table-responsive">\n                    <table class="table table-hover table-bordered">\n                      \n                      <thead>\n                        <tr>\n                          <th scope="col">#</th>\n                          <th scope="col">Nom</th>\n                          <th scope="col">Cr\xe9ateur</th>\n                          <th scope="col">Date de cr\xe9ation</th>\n                          <th scope="col">Actions</th>\n                        </tr>\n                      </thead>\n  \n                      <tbody >\n                        <ng-container *ngFor="let el of nonUserActiveFunds() | paginate: { itemsPerPage: pagingNonUserActiveFunds.defaultPageSize, currentPage: pagingNonUserActiveFunds.currentPage + 1 }">\n  \n                          <tr>\n                            <th scope="row">{{ el.idFondsActif }}</th>\n                            <td>{{ el.nom }}</td>\n                            <td>{{ el.utilisateur.prenomUtilisateur }} {{ el.utilisateur.nomUtilisateur }}</td>\n                            <td>{{ formatDate(el.dateCreation) }}</td>\n  \n                            <td class="actions text-center">\n                              <a nbButton size="xsmall" shape="round" class="btn-secondary">\n                                Souscrire\n                              </a>\n                            </td>\n                          </tr>\n                          \n                        </ng-container>\n                      </tbody>\n                    </table>\n\n                    <nav class="pagination-wrapper d-flex justify-content-around py-3">\n                      <ul class="pagination mb-0 pl-0">\n                        <li class="page-item" [ngClass]="{disabled: pagingNonUserActiveFunds.currentPage <= 0}">\n                          <a class="page-link" (click)="loadNonUserActiveFundsPage(pagingNonUserActiveFunds.currentPage - 1)" aria-label="Previous">\n                            <span aria-hidden="true">&laquo;</span>\n                            <span class="sr-only">Previous</span>\n                          </a>\n                        </li>\n    \n                        <li *ngFor="let page of arrayRange(pagingNonUserActiveFunds.totalPages)"\n                          class="page-item" [ngClass]="{active: pagingNonUserActiveFunds.currentPage == page}">\n                          <a class="page-link" (click)="loadNonUserActiveFundsPage(page)">{{ page + 1 }}</a>\n                        </li>\n    \n                        <li class="page-item" [ngClass]="{disabled: pagingNonUserActiveFunds.currentPage >= pagingNonUserActiveFunds.totalPages - 1}">\n                          <a class="page-link" (click)="loadNonUserActiveFundsPage(pagingNonUserActiveFunds.currentPage + 1)" aria-label="Next">\n                            <span aria-hidden="true">&raquo;</span>\n                            <span class="sr-only">Next</span>\n                          </a>\n                        </li>\n                      </ul>\n                    </nav>\n  \n                  </div>\n                </div>\n\n            </div>\n\n            <div class="modals">\n              \x3c!-- <app-add-active-fund #addActiveFundModal></app-add-active-fund> --\x3e\n            </div>\n          </nb-tab>\n\n        </nb-tabset>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n      '},"PHg/":function(t,e){t.exports=".consult-wrapper .options .filter {\n  border-radius: 5px;\n  border: 1px solid #ebeff5; }\n  .consult-wrapper .options .filter, .consult-wrapper .options .filter * {\n    display: flex;\n    align-items: center; }\n  .consult-wrapper .options .title {\n  font-weight: 500;\n  font-size: 1.5rem; }\n  .consult-wrapper .data {\n  font-size: 85%; }\n  .consult-wrapper .data tr:hover {\n    background-color: #f8fafd; }\n  .consult-wrapper .data thead tr:hover {\n    background-color: transparent; }\n  .consult-wrapper .data th, .consult-wrapper .data td {\n    vertical-align: middle; }\n  .consult-wrapper .data .pagination-wrapper {\n    max-width: 100%; }\n  .consult-wrapper .data .pagination-wrapper .page-item .page-link:hover {\n      background-color: #f8fafd; }\n  .consult-wrapper .data .pagination-wrapper .page-item.active .page-link {\n      border-color: #3dcc6d;\n      background-color: #3dcc6d; }\n  .consult-wrapper .options .btn-secondary, .consult-wrapper .data .actions .btn-secondary {\n  cursor: pointer; }\n  .consult-wrapper .options .btn-secondary:hover, .consult-wrapper .data .actions .btn-secondary:hover {\n    color: #ffffff;\n    background-color: #40dc7e; }\n"},hcRY:function(t,e){t.exports='<div class="row">\n  <div class="col">\n    <nb-card>\n      <nb-card-body>        \n        <nb-tabset fullWidth>\n\n          \x3c!-- Cr\xe9er une communaut\xe9 --\x3e\n          <nb-tab tabTitle="Recharge de compte" tabIcon="nb-loop">\n            <form [formGroup]="depositForm" (ngSubmit)="onSubmit()">\n              \n              <div class="row">\n                <nb-alert class="bottom col-md-12" status="{{ status }}" *ngIf="isSend" fullWidth closable (close)="onClose()">\n                  {{ message }}\n                </nb-alert>\n                <div class="field col-md-12">\n                  <label>Numero de la carte </label>\n                  <div class="control">\n                    <input type="text" formControlName="cardNumber" nbInput>\n                  </div>\n                </div>\n                <div class="field col-md-12">\n                  <label>Mois d\'expiration </label>\n                  <div class="control">\n                    <input type="text" formControlName="expMonth" nbInput>\n                  </div>\n                </div>\n                <div class="field col-md-12">\n                  <label>Annee d\'expiration </label>\n                  <div class="control">\n                    <input type="text" formControlName="expYear" nbInput>\n                  </div>\n                </div>\n                <div class="field col-md-12">\n                  <label>Code de validation </label>\n                  <div class="control">\n                    <input type="text" formControlName="cvc" nbInput>\n                  </div>\n                </div>\n                <div class="field col-md-12">\n                  <label>Montant de la recharge (Euro) </label>\n                  <div class="control">\n                    <input type="text" formControlName="amount" nbInput>\n                  </div>\n                </div>\n              </div>\n              <button status="success" [disabled]="loading" type="submit" fullWidth nbButton>\n                Recharger\n                <img *ngIf="loading" src="assets/images/loader.gif" width="20px;" class="text-center" style="text-align: center;">\n              </button>\n\n            </form>\n          </nb-tab>\n\n          <nb-tab tabTitle="Achat des BGs" tabIcon="nb-lightbulb">\n            <form [formGroup]="bgForm" (ngSubmit)="onSubmitBG()">\n              \n              <div class="row">\n                <nb-alert class="bottom col-md-12" status="{{ statusBG }}" *ngIf="isSendBG" fullWidth closable (close)="onClose()">\n                  {{ messageBG }}\n                </nb-alert>\n                <div class="field col-md-12">\n                  <label>Le solde de votre compte est de: {{ compte != null ? compte.solde : \'0\' }} Euro</label>\n                </div>\n                <div class="field col-md-12">\n                  <label>Nombre de BGs \xe0 acheter </label>\n                  <div class="control">\n                    <input type="number" formControlName="numberBG" nbInput (keyup)="onChange($event)" min="1">\n                  </div>\n                </div>\n                <div class="field col-md-12">\n                  <label>Cout de l\'op\xe9ration </label>\n                  <div class="control">\n                    <input type="text" disabled formControlName="cost" nbInput>\n                  </div>\n                </div>\n              </div>\n              <button status="success" type="submit" [disabled]="loading" fullWidth nbButton>\n                Acheter\n                <img *ngIf="loading" src="assets/images/loader.gif" width="20px;" class="text-center" style="text-align: center;">\n              </button>\n\n            </form>\n          </nb-tab>\n\n        </nb-tabset>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n    '},iRsu:function(t,e){t.exports=".consult-wrapper .options .filter {\n  border-radius: 5px;\n  border: 1px solid #ebeff5; }\n  .consult-wrapper .options .filter, .consult-wrapper .options .filter * {\n    display: flex;\n    align-items: center; }\n  .consult-wrapper .options .title {\n  font-weight: 500;\n  font-size: 1.5rem; }\n  .consult-wrapper .data {\n  font-size: 85%; }\n  .consult-wrapper .data tr:hover {\n    background-color: #f8fafd; }\n  .consult-wrapper .data thead tr:hover {\n    background-color: transparent; }\n  .consult-wrapper .data th, .consult-wrapper .data td {\n    vertical-align: middle; }\n  .consult-wrapper .data .pagination-wrapper {\n    max-width: 100%; }\n  .consult-wrapper .data .pagination-wrapper .page-item .page-link:hover {\n      background-color: #f8fafd; }\n  .consult-wrapper .data .pagination-wrapper .page-item.active .page-link {\n      border-color: #3dcc6d;\n      background-color: #3dcc6d; }\n  .consult-wrapper .options .btn-secondary, .consult-wrapper .data .actions .btn-secondary {\n  cursor: pointer; }\n  .consult-wrapper .options .btn-secondary:hover, .consult-wrapper .data .actions .btn-secondary:hover {\n    color: #ffffff;\n    background-color: #40dc7e; }\n"},mbkk:function(t,e){t.exports="<p>\n Autres  (comming soon !)\n</p>\n"},pLvb:function(t,e){t.exports=""},xkgV:function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n("CcnG"),i=n("Ip0R"),a=function(){function t(){this.change=new r.x,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return t.prototype.defaultId=function(){return this.DEFAULT_ID},t.prototype.register=function(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)},t.prototype.updateInstance=function(t){var e=!1;for(var n in this.instances[t.id])t[n]!==this.instances[t.id][n]&&(this.instances[t.id][n]=t[n],e=!0);return e},t.prototype.getCurrentPage=function(t){if(this.instances[t])return this.instances[t].currentPage},t.prototype.setCurrentPage=function(t,e){if(this.instances[t]){var n=this.instances[t];e<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}},t.prototype.setTotalItems=function(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))},t.prototype.setItemsPerPage=function(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))},t.prototype.getInstance=function(t){return void 0===t&&(t=this.DEFAULT_ID),this.instances[t]?this.clone(this.instances[t]):{}},t.prototype.clone=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t}(),o=function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},s=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=Number.MAX_SAFE_INTEGER,l=function(){function t(t){this.service=t,this.state={}}return t.prototype.transform=function(t,e){if(!(t instanceof Array)){var n=e.id||this.service.defaultId();return this.state[n]?this.state[n].slice:t}var r,i,a=e.totalItems&&e.totalItems!==t.length,o=this.createInstance(t,e),s=o.id,l=o.itemsPerPage,p=this.service.register(o);if(!a&&t instanceof Array){if(l=+l||c,i=(r=(o.currentPage-1)*l)+l,this.stateIsIdentical(s,t,r,i))return this.state[s].slice;var u=t.slice(r,i);return this.saveState(s,t,u,r,i),this.service.change.emit(s),u}return p&&this.service.change.emit(s),this.saveState(s,t,t,r,i),t},t.prototype.createInstance=function(t,e){return this.checkConfig(e),{id:null!=e.id?e.id:this.service.defaultId(),itemsPerPage:+e.itemsPerPage||0,currentPage:+e.currentPage||1,totalItems:+e.totalItems||t.length}},t.prototype.checkConfig=function(t){var e=["itemsPerPage","currentPage"].filter(function(e){return!(e in t)});if(0<e.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+e.join(", "))},t.prototype.saveState=function(t,e,n,r,i){this.state[t]={collection:e,size:e.length,slice:n,start:r,end:i}},t.prototype.stateIsIdentical=function(t,e,n,r){var i=this.state[t];return!!i&&(!(i.size!==e.length||i.start!==n||i.end!==r)&&i.slice.every(function(t,r){return t===e[n+r]}))},t=o([Object(r.X)({name:"paginate",pure:!1}),s("design:paramtypes",[a])],t)}(),p=function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},u=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};function d(t){return!!t&&"false"!==t}var f=function(){function t(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new r.x,this.pageBoundsCorrection=new r.x,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(t.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(t){this._directionLinks=d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHide",{get:function(){return this._autoHide},set:function(t){this._autoHide=d(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive},set:function(t){this._responsive=d(t)},enumerable:!0,configurable:!0}),p([Object(r.G)(),u("design:type",String)],t.prototype,"id",void 0),p([Object(r.G)(),u("design:type",Number)],t.prototype,"maxSize",void 0),p([Object(r.G)(),u("design:type",Boolean),u("design:paramtypes",[Boolean])],t.prototype,"directionLinks",null),p([Object(r.G)(),u("design:type",Boolean),u("design:paramtypes",[Boolean])],t.prototype,"autoHide",null),p([Object(r.G)(),u("design:type",Boolean),u("design:paramtypes",[Boolean])],t.prototype,"responsive",null),p([Object(r.G)(),u("design:type",String)],t.prototype,"previousLabel",void 0),p([Object(r.G)(),u("design:type",String)],t.prototype,"nextLabel",void 0),p([Object(r.G)(),u("design:type",String)],t.prototype,"screenReaderPaginationLabel",void 0),p([Object(r.G)(),u("design:type",String)],t.prototype,"screenReaderPageLabel",void 0),p([Object(r.G)(),u("design:type",String)],t.prototype,"screenReaderCurrentLabel",void 0),p([Object(r.T)(),u("design:type",r.x)],t.prototype,"pageChange",void 0),p([Object(r.T)(),u("design:type",r.x)],t.prototype,"pageBoundsCorrection",void 0),t=p([Object(r.n)({selector:"pagination-controls",template:'\n    <pagination-template  #p="paginationApi"\n                         [id]="id"\n                         [maxSize]="maxSize"\n                         (pageChange)="pageChange.emit($event)"\n                         (pageBoundsCorrection)="pageBoundsCorrection.emit($event)">\n    <ul class="ngx-pagination" \n        role="navigation" \n        [attr.aria-label]="screenReaderPaginationLabel" \n        [class.responsive]="responsive"\n        *ngIf="!(autoHide && p.pages.length <= 1)">\n\n        <li class="pagination-previous" [class.disabled]="p.isFirstPage()" *ngIf="directionLinks"> \n            <a tabindex="0" *ngIf="1 < p.getCurrent()" (keyup.enter)="p.previous()" (click)="p.previous()" [attr.aria-label]="previousLabel + \' \' + screenReaderPageLabel">\n                {{ previousLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </a>\n            <span *ngIf="p.isFirstPage()">\n                {{ previousLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </span>\n        </li> \n\n        <li class="small-screen">\n            {{ p.getCurrent() }} / {{ p.getLastPage() }}\n        </li>\n\n        <li [class.current]="p.getCurrent() === page.value" \n            [class.ellipsis]="page.label === \'...\'"\n            *ngFor="let page of p.pages">\n            <a tabindex="0" (keyup.enter)="p.setCurrent(page.value)" (click)="p.setCurrent(page.value)" *ngIf="p.getCurrent() !== page.value">\n                <span class="show-for-sr">{{ screenReaderPageLabel }} </span>\n                <span>{{ (page.label === \'...\') ? page.label : (page.label | number:\'\') }}</span>\n            </a>\n            <ng-container *ngIf="p.getCurrent() === page.value">\n                <span class="show-for-sr">{{ screenReaderCurrentLabel }} </span>\n                <span>{{ (page.label === \'...\') ? page.label : (page.label | number:\'\') }}</span> \n            </ng-container>\n        </li>\n\n        <li class="pagination-next" [class.disabled]="p.isLastPage()" *ngIf="directionLinks">\n            <a tabindex="0" *ngIf="!p.isLastPage()" (keyup.enter)="p.next()" (click)="p.next()" [attr.aria-label]="nextLabel + \' \' + screenReaderPageLabel">\n                 {{ nextLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </a>\n            <span *ngIf="p.isLastPage()">\n                 {{ nextLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </span>\n        </li>\n\n    </ul>\n    </pagination-template>\n    ',styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],changeDetection:r.j.OnPush,encapsulation:r.sb.None})],t)}(),h=function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},g=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},b=function(){function t(t,e){var n=this;this.service=t,this.changeDetectorRef=e,this.maxSize=7,this.pageChange=new r.x,this.pageBoundsCorrection=new r.x,this.pages=[],this.changeSub=this.service.change.subscribe(function(t){n.id===t&&(n.updatePageLinks(),n.changeDetectorRef.markForCheck(),n.changeDetectorRef.detectChanges())})}return t.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},t.prototype.ngOnChanges=function(t){this.updatePageLinks()},t.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},t.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},t.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},t.prototype.isFirstPage=function(){return 1===this.getCurrent()},t.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},t.prototype.setCurrent=function(t){this.pageChange.emit(t)},t.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},t.prototype.getLastPage=function(){var t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)},t.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},t.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},t.prototype.updatePageLinks=function(){var t=this,e=this.service.getInstance(this.id),n=this.outOfBoundCorrection(e);n!==e.currentPage?setTimeout(function(){t.pageBoundsCorrection.emit(n),t.pages=t.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,t.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)},t.prototype.outOfBoundCorrection=function(t){var e=Math.ceil(t.totalItems/t.itemsPerPage);return e<t.currentPage&&0<e?e:t.currentPage<1?1:t.currentPage},t.prototype.createPageArray=function(t,e,n,r){r=+r;for(var i=[],a=Math.ceil(n/e),o=Math.ceil(r/2),s=t<=o,c=a-o<t,l=!s&&!c,p=r<a,u=1;u<=a&&u<=r;){var d=void 0,f=this.calculatePageNumber(u,t,r,a);d=p&&(2===u&&(l||c)||u===r-1&&(l||s))?"...":f,i.push({label:d,value:f}),u++}return i},t.prototype.calculatePageNumber=function(t,e,n,r){var i=Math.ceil(n/2);return t===n?r:1===t?t:n<r?r-i<e?r-n+t:i<e?e-i+t:t:t},h([Object(r.G)(),g("design:type",String)],t.prototype,"id",void 0),h([Object(r.G)(),g("design:type",Number)],t.prototype,"maxSize",void 0),h([Object(r.T)(),g("design:type",r.x)],t.prototype,"pageChange",void 0),h([Object(r.T)(),g("design:type",r.x)],t.prototype,"pageBoundsCorrection",void 0),t=h([Object(r.t)({selector:"pagination-template,[pagination-template]",exportAs:"paginationApi"}),g("design:paramtypes",[a,r.k])],t)}(),m=function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},v=function(){function t(){}return t=m([Object(r.M)({imports:[i.b],declarations:[l,f,b],providers:[a],exports:[l,f,b]})],t)}()},"xrp+":function(t,e){t.exports='<div class="row">\n  <div class="col">\n    <nb-card>\n      <nb-card-body>        \n        <nb-tabset>\n\n          \x3c!-- Fonds --\x3e\n          <nb-tab tabTitle="Actifs" tabIcon="nb-bar-chart">\n            <div class="consult-wrapper mt-4 px-4">\n            \n              <div class="user-active-funds mb-4 mt-4">\n                <div class="options d-flex align-center mb-4">\n\n                  <div class="title py-2">\n                    Mon solde : <em>{{ account != null ? account.solde + \' Euro\' : "en cours ..." }}</em>\n                  </div>\n\n                  <div class="ml-auto">\n                    <button *ngIf=" !showMouvementButton " nbButton class="btn-secondary" size="xsmall" shape="round" (click)="onOneList(false, false, true, true)"> \n                      Bulletin de compte\n                    </button>\n\n                    <button *ngIf=" showReturnButton " nbButton class="btn-secondary" size="xsmall" shape="round" (click)="onOneList(true, false, false, false)"> \n                      Revenir\n                    </button>\n\n                    <button nbButton class="btn-secondary" size="xsmall" shape="round" (click)="fetchUser()"> \n                      Rafra\xeechir\n                    </button>\n                  </div>               \n                  \n                </div>\n\n                <div class="data table-responsive" *ngIf=" showMouvementButton ">\n                    <table class="table table-hover table-bordered">\n                      \n                      <thead>\n                        <tr>\n                          <th scope="col">#</th>\n                          <th>Solde Avant Op\xe9ration</th>\n                          <th>Solde Apr\xe8s Op\xe9ration</th>\n                          <th>R\xe9f\xe9rence</th>\n                          <th>Date Op\xe9ration</th>\n                          <th>Montant</th>\n                          <th>type</th>\n                        </tr>\n                      </thead>\n  \n                      <tbody >\n                        <ng-container *ngFor="let mvt of mouvements">\n  \n                          <tr>\n                            <th scope="row">{{ mvt.idMouvement }}</th>\n                            <th scope="row">{{ mvt.soldeAvantOperation }}</th>\n                            <th scope="row">{{ mvt.soldeApresOperation }}</th>\n                            <th scope="row">{{ mvt.reference }}</th>\n                            <th scope="row">{{ mvt.dateOperation }}</th>\n                            <th scope="row">{{ mvt.montant }}</th>\n                            <th scope="row">{{ mvt.type }}</th>\n                          </tr>\n                          \n                        </ng-container>\n                      </tbody>\n                    </table>\n                  </div>\n\n                <div class="data table-responsive" *ngIf=" showActifTable ">\n                  <table class="table table-hover table-bordered">\n                    \n                    <thead>\n                      <tr>\n                        <th scope="col">#</th>\n                        <th scope="col">Etat</th>\n                        <th scope="col">Date de cr\xe9ation(Actif)</th>\n                        <th scope="col">Actions</th>\n                      </tr>\n                    </thead>\n\n                    <tbody >\n                      <ng-container *ngFor="let el of actifs">\n\n                        <tr>\n                          <th scope="row">{{ el.idActif }}</th>\n                          <td>{{ el.nanti ? "Bloqu\xe9" : "Libre" }}</td>\n                          <td>{{ formatDate(el.dateCreation) }}</td>\n                          <td class="actions text-center">\n                            <a nbButton size="xsmall" shape="round" status="danger" class="" (click)="fetchActifOffers(el)">\n                              <i data-eva="trash" data-eva-fill="#fff" class="mr-1" data-eva-height="15" data-eva-width="15"></i>\n                              Offres\n                            </a>\n                          </td>\n                        </tr>\n                        \n                      </ng-container>\n                    </tbody>\n                  </table>\n                </div>\n\n                \x3c!-- tables des offres de chaque actif --\x3e\n                <div class="data table-responsive" *ngIf=" showOffresTable ">\n                  <table class="table table-hover table-bordered">\n                    <thead>\n                      <tr>\n                        <th scope="col">#</th>\n                        <th scope="col">Date d\'\xe9mission</th>\n                        <th scope="col">Date de cloture</th>\n                        <th scope="col">Montant</th>\n                        <th scope="col">R\xe9mun\xe9ration</th>\n                        <th scope="col">Secable</th>\n                        <th scope="col">Extensible</th>\n                        <th scope="col">Actions</th>\n                      </tr>\n                    </thead>\n  \n                    <tbody>\n                      <ng-container *ngFor="let offer of offers">\n  \n                        <tr>\n                          <th scope="row">{{ offer.idOffreFinancement }}</th>\n                          <td>{{ formatDate(offer.dateEmission) }}</td>\n                          <td>{{ formatDate(offer.dateCloture) }}</td>\n                          <td class="text-right">{{ offer.montant.toLocaleString(\'fr\') }}</td>\n                          <td class="text-right">{{ offer.remuneration.toLocaleString(\'fr\') }}</td>\n                          <td>{{ offer.secable ? \'Oui\' : \'Non\' }}</td>\n                          <td>{{ offer.extensible ? \'Oui\' : \'Non\' }}</td>\n  \n                          <td class="actions text-center">\n                            <a nbButton class="btn-secondary" size="xsmall" shape="round" [routerLink]="[\'/pfm/funding/couverture\', offer.idOffreFinancement]">\n                              Couvertures\n                            </a>\n                          </td>\n  \n                        </tr>\n                        \n                      </ng-container>\n                    </tbody>\n                  </table>\n                </div>\n\n              </div>\n            </div>\n          </nb-tab>\n\n        </nb-tabset>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n      '}}]);