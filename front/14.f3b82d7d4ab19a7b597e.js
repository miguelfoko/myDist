(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"/Kbt":function(t,n){t.exports=""},"1xwJ":function(t,n){t.exports="<p>\n  membres works!\n</p>\n"},"3jw/":function(t,n){t.exports='<div class="row">\n  <div class="col">\n    <nb-card>\n      <nb-card-body>        \n        <nb-tabset fullWidth>\n\n          \x3c!-- Cr\xe9er une communaut\xe9 --\x3e\n          <nb-tab tabTitle="Cr\xe9er une communaut\xe9" tabIcon="nb-plus">\n            <form [formGroup]="form" (ngSubmit)="onSubmit()">\n              \n              <div class="row">\n              <nb-alert class="bottom col-md-12" status="{{ status }}" *ngIf="isSend" fullWidth closable (close)="onClose()">\n                {{ messageCreation }}\n              </nb-alert>\n                <div class="field col-md-12">\n                  <label>Nom de la communaut\xe9 </label>\n                  <div class="control">\n                    <input type="text" formControlName="nom" nbInput>\n                  </div>\n                </div>\n              </div>\n              <button status="success" type="submit" fullWidth nbButton>\n                Valider\n              </button>\n\n            </form>\n          </nb-tab>\n\n          \x3c!-- Mes communaut\xe9s --\x3e\n          <nb-tab tabTitle="Mes Communaut\xe9s" tabIcon="nb-list">\n            <div class="consult-wrapper mt-4 px-4">\n            \n              <div class="options d-flex align-center mb-4">\n\n                <div class="filter p-2">\n                  <span class="mr-2">Filtrer mes communaut\xe9s</span>\n                  <nb-checkbox status="success"\n                   (change)="filter($event)">\n                  </nb-checkbox>\n                </div>\n\n                             \n                \n              </div>\n\n              <div class="data table-responsive" >\n                <table class="table table-hover table-bordered">\n                  \n                  <thead>\n                    <tr>\n                      <th scope="col">#</th>\n                      <th scope="col">Nom de communaut\xe9</th>\n                      <th scope="col">Cr\xe9ateur</th>\n                      <th scope="col">Date de cr\xe9ation</th>\n                      <th scope="col">Type de communaut\xe9</th>\n                      <th scope="col">D\xe9tails</th>\n                    </tr>\n                  </thead>\n\n                  <tbody>\n                    <ng-container *ngFor="let community of communities">\n\n                      <tr>\n                        <th class="text-center" scope="row">{{ community.idCommunaute }}</th>\n                        <td class="text-center">{{ community.nom }}</td>\n                        <td class="text-center">{{ community.utilisateur.nomUtilisateur }} {{ community.utilisateur.prenomUtilisateur }}</td>\n                        <td class="text-center">{{ formatDate(community.dateCreation) }}</td>\n                        <td class="text-center">{{ community.type == \'NON CONVENTIONNEE\' ?  \'Non conventionn\xe9e\' : \'Conventionn\xe9e\'}}</td>\n\n                        <td class="actions text-center">\n                          <button nbButton size="xsmall" (click)="openInvite(inviteUser, community)" *ngIf="isMine(community)" status="success" style="width: 50%">\n                            <span class="text mr-1">Inviter</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                          </button>\n                          <button nbButton size="xsmall" (click)="openRequest(requestUser, community)" *ngIf="isMine(community)" status="warning" style="width: 50%">\n                            <span class="text mr-1">Requ\xeates</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                          </button>\n                          <button nbButton size="xsmall" *ngIf="!isMine(community)" status="danger" style="width: 100%">\n                            <span class="text mr-1">Quitter</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                          </button>\n                        </td>\n\n                      </tr>\n                      \n                    </ng-container>\n                  </tbody>\n                </table>\n              </div>\n  \n            </div>\n          </nb-tab>\n\n          \x3c!-- Adh\xe9rer \xe0 une communaut\xe9 --\x3e\n          <nb-tab tabTitle="Adh\xe9rer \xe0 une communaut\xe9" tabIcon="nb-search">\n            <div class="consult-wrapper mt-4 px-4">\n                   \n              <nb-alert class="bottom col-md-12" status="{{ status }}" *ngIf="isSendDemande" fullWidth closable (close)="onClose()">\n                {{ messageDemande }}\n              </nb-alert>\n\n              <div class="options d-flex align-center mb-4">  \n                <div class="ml-auto">\n                  <button nbButton class="btn-secondary" size="xsmall" shape="round"\n                   (click)="refreshNonCommunities()">\n                    Rafra\xeechir\n                  </button>\n                </div>\n              </div>\n\n              <div class="data table-responsive" >\n                <table class="table table-hover table-bordered">\n                  \n                  <thead>\n                    <tr>\n                      <th scope="col">#</th>\n                      <th scope="col">Nom de communaut\xe9</th>\n                      <th scope="col">Cr\xe9ateur</th>\n                      <th scope="col">Date de cr\xe9ation</th>\n                      <th scope="col">Type de communaut\xe9</th>\n                      <th scope="col">D\xe9tails</th>\n                    </tr>\n                  </thead>\n\n                  <tbody>\n                    <ng-container *ngFor="let community of communitiesNotMine() | paginate: { itemsPerPage: pagingNonComm.defaultPageSize, currentPage: pagingNonComm.currentPage + 1 }">\n\n                      <tr>\n                        <th class="text-center" scope="row">{{ community.idCommunaute }}</th>\n                        <td class="text-center">{{ community.nom }}</td>\n                        <td class="text-center">{{ community.utilisateur.nomUtilisateur }} {{ community.utilisateur.prenomUtilisateur }}</td>\n                        <td class="text-center">{{ formatDate(community.dateCreation) }}</td>\n                        <td class="text-center">{{ community.type == \'NON CONVENTIONNEE\' ?  \'Non conventionn\xe9e\' : \'Conventionn\xe9e\'}}</td>\n\n                        <td class="actions text-center">\n                          <button nbButton size="xsmall" status="success" (click)="adherer(community)">\n                            <span class="text mr-1">Demander adh\xe9sion</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                          </button>\n                        </td>\n                      </tr>\n                      \n                    </ng-container>\n                  </tbody>\n                </table>\n\n                <nav class="pagination-wrapper d-flex justify-content-around py-3">\n                  <ul class="pagination mb-0 pl-0">\n                    <li class="page-item" [ngClass]="{disabled: pagingNonComm.currentPage <= 0}">\n                      <a class="page-link" (click)="loadNonCommunitiesPage(pagingNonComm.currentPage - 1)" aria-label="Previous">\n                        <span aria-hidden="true">&laquo;</span>\n                        <span class="sr-only">Previous</span>\n                      </a>\n                    </li>\n\n                    <li *ngFor="let page of arrayRange(pagingNonComm.totalPages)"\n                      class="page-item" [ngClass]="{active: pagingNonComm.currentPage == page}">\n                      <a class="page-link" (click)="loadNonCommunitiesPage(page)">{{ page + 1 }}</a>\n                    </li>\n\n                    <li class="page-item" [ngClass]="{disabled: pagingNonComm.currentPage >= pagingNonComm.totalPages - 1}">\n                      <a class="page-link" (click)="loadNonCommunitiesPage(pagingNonComm.currentPage + 1)" aria-label="Next">\n                        <span aria-hidden="true">&raquo;</span>\n                        <span class="sr-only">Next</span>\n                      </a>\n                    </li>\n                  </ul>\n                </nav>\n\n              </div>\n  \n            </div>\n          </nb-tab>\n\n          \x3c!-- Mes requ\xeates en attente --\x3e\n          <nb-tab tabTitle="Mes requ\xeates en attentes" tabIcon="nb-loop">\n            <div class="consult-wrapper mt-4 px-4">\n            \n              <div class="options d-flex align-center mb-4">\n                <nb-alert class="bottom col-md-12" status="{{ status }}" *ngIf="isSendAnnuler" fullWidth closable (close)="onClose()">\n                  {{ messageSupprimerAnnuler }}\n                </nb-alert>\n              </div>\n\n              <div class="data table-responsive" >\n                <table class="table table-hover table-bordered">\n                  \n                  <thead>\n                    <tr>\n                      <th scope="col">#</th>\n                      <th scope="col">Nom de communaut\xe9</th>\n                      <th scope="col">Type de communaut\xe9</th>\n                      <th scope="col">Date</th>\n                      <th scope="col">Type</th>\n                      <th scope="col">Statut</th>\n                      <th scope="col">Actions</th>\n                    </tr>\n                  </thead>\n\n                  <tbody>\n                    <ng-container *ngFor="let demande of demandes">\n\n                      <tr>\n                        <th class="text-center" scope="row">{{ demande.idCommunauteAssocie }}</th>\n                        <td class="text-center">{{ demande.communaute.nom }}</td>\n                        <td class="text-center">{{ demande.communaute.type == \'NON CONVENTIONNEE\' ?  \'Non conventionn\xe9e\' : \'Conventionn\xe9e\'}}</td>\n                        <td class="text-center">{{ formatDate(demande.dateCreation) }}</td>\n                        <td class="text-center">{{ demande.type }}</td>\n                        <td class="text-center">{{ demande.statut }}</td>\n\n                        <td class="actions text-center">\n                          <button nbButton size="xsmall" status="success" *ngIf="demande.statut == \'EN ATTENTE\' && demande.type == \'INVITATION\'" (click)="repondreDemande(demande, \'VALIDER\')" style="width: 50%">\n                            <span class="text mr-1">Accepter</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                          </button>\n                          <button nbButton size="xsmall" status="danger" *ngIf="demande.statut == \'EN ATTENTE\' && demande.type == \'INVITATION\'" style="width: 50%" (click)="repondreDemande(demande, \'ANNULER\')">\n                            <span class="text mr-1">Refuser</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                          </button>\n                          <button nbButton size="xsmall" status="warning" *ngIf="demande.statut == \'EN ATTENTE\' && demande.type == \'DEMANDE\'" style="width: 100%" (click)="repondreDemande(demande, \'ANNULER\')">\n                            <span class="text mr-1">Annuler</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                          </button>\n                          <button nbButton size="xsmall" status="danger" *ngIf="demande.statut == \'ANNULER\'" style="width: 100%" (click)="supprimerDemande(demande)">\n                            <span class="text mr-1">Supprimer</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                          </button>\n                        </td>\n\n                      </tr>\n                      \n                    </ng-container>\n                  </tbody>\n                </table>\n              </div>\n  \n            </div>\n          </nb-tab>\n\n        </nb-tabset>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n\n<ng-template #inviteUser let-modal size="lg">\n  <div class="modal-header">\n      <h4 class="modal-title" id="modal-basic-title">{{ title }}</h4>\n      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss(\'Cross click\')">\n      <span aria-hidden="true">&times;</span>\n      </button>\n  </div>\n  <div class="modal-body" style="min-height: 300px; max-height: 600px; overflow-y: auto;">\n      <h2 class="bottom">{{ message }}</h2>\n      <div class="field modalField col-md-12">\n        <label>Nom de l\'utilisateur <i>({{ selectedUsers.length }} utilisateur(s) selectionn\xe9(s))</i></label>\n        <div class="control">\n          <input type="text" (keyup)="liveSearch($event)" fullWidth nbInput>\n        </div>\n      </div>\n\n      <div class="data table-responsive" >\n        <table class="table table-hover table-bordered" *ngIf="users != null && users.length != 0">\n          \n          <thead>\n            <tr>\n              <th scope="col">#</th>\n              <th scope="col">Nom de l\'utilisateur</th>\n              <th scope="col">Numero d\'identit\xe9</th>\n              <th scope="col">Inviter</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <ng-container *ngFor="let user of users">\n\n              <tr *ngIf="!isMe(user)">\n                <th class="text-center" scope="row">{{ user.idUtilisateur }}</th>\n                <td class="text-center">{{ user.nomUtilisateur }} {{ user.prenomUtilisateur }}</td>\n                <td class="text-center">{{ user.numeroIdentiteUtilisateur }}</td>\n\n                <td class="actions text-center">\n                  <nb-checkbox status="success" defaultChecked="true" (change)="selectUser($event, user)">\n                  </nb-checkbox>\n                </td>\n\n              </tr>\n              \n            </ng-container>\n          </tbody>\n        </table>\n        <h2 *ngIf="users != null && users.length == 0">Pas d\'utilisateurs \xe0 inviter</h2>\n        <img *ngIf="users == null" src="assets/images/loader.gif" width="40px;" class="text-center" style="text-align: center;">\n      </div>\n  </div>\n  <div class="modal-footer">\n    <button nbButton size="xsmall" status="success" (click)="sendInviteUser(); modal.close(\'Save click\')">\n      <span class="text mr-1">Inviter</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n    </button>\n    <button type="button" class="btn btn-outline-dark" (click)="modal.close(\'Save click\')">Annuler</button>\n  </div>\n  </ng-template>\n    \n<ng-template #requestUser let-modal style="width: 70%;">\n  <div class="modal-header">\n      <h4 class="modal-title" id="modal-basic-title">{{ titleRequest }}</h4>\n      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss(\'Cross click\')">\n      <span aria-hidden="true">&times;</span>\n      </button>\n  </div>\n  <div class="modal-body" style="min-height: 300px; max-height: 600px; overflow-y: auto;">\n      <h2 class="bottom">{{ messageRequest }}</h2>\n\n      <div class="data table-responsive" >\n        <table class="table table-hover table-bordered" *ngIf="demandesCommunaute != null && demandesCommunaute.length != 0">\n          \n          <thead>\n            <tr>\n              <th scope="col">Nom de l\'utilisateur</th>\n              <th scope="col">Date de la demande/invitation</th>\n              <th scope="col">Type</th>\n              <th scope="col">Statut</th>\n              <th scope="col">Actions</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            <ng-container *ngFor="let demande of demandesCommunaute">\n\n              <tr>\n                <td class="text-center">{{ demande.utilisateur.nomUtilisateur }} {{ demande.utilisateurprenomUtilisateur }}</td>\n                <td class="text-center">{{ formatDate(demande.dateCreation) }}</td>\n                <td class="text-center">{{ demande.type }}</td>\n                <td class="text-center">{{ demande.statut }}</td>\n                <td class="actions text-center">\n                  <button nbButton size="xsmall" status="success" *ngIf="demande.statut == \'EN ATTENTE\' && demande.type == \'DEMANDE\'" (click)="repondreDemande(demande, \'VALIDER\')" style="width: 50%">\n                    <span class="text mr-1">Accepter</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                  </button>\n                  <button nbButton size="xsmall" status="danger" *ngIf="demande.statut == \'EN ATTENTE\' && demande.type == \'DEMANDE\'" style="width: 50%" (click)="repondreDemande(demande, \'ANNULER\')">\n                    <span class="text mr-1">Refuser</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                  </button>\n                  <button nbButton size="xsmall" status="warning" *ngIf="demande.statut == \'EN ATTENTE\' && demande.type == \'INVITATION\'" style="width: 100%" (click)="repondreDemande(demande, \'ANNULER\')">\n                    <span class="text mr-1">Annuler</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                  </button>\n                  <button nbButton size="xsmall" status="danger" *ngIf="demande.statut == \'ANNULER\'" style="width: 100%" (click)="supprimerDemande(demande)">\n                    <span class="text mr-1">Supprimer</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                  </button>\n                </td>\n\n              </tr>\n              \n            </ng-container>\n          </tbody>\n        </table>\n        <img *ngIf="demandesCommunaute == null" src="assets/images/loader.gif" width="40px;" class="text-center" style="text-align: center;">\n      </div>\n  </div>\n  <div class="modal-footer">\n    <button type="button" class="btn btn-outline-dark" (click)="modal.close(\'Save click\')">Annuler</button>\n  </div>\n  </ng-template>\n      '},C7sM:function(t,n){t.exports="form {\n  padding-top: 2rem;\n  padding-bottom: 1rem;\n  max-width: 700px;\n  margin: auto; }\n  form .field {\n    margin-bottom: 2rem; }\n  form .field label {\n      font-size: 90%;\n      display: block; }\n  form .field .control, form .field .control input {\n      width: 100%; }\n  form .field nb-select ::ng-deep [nbButton] {\n      height: 46px;\n      border-color: #dadfe6;\n      text-transform: capitalize; }\n  .modalField {\n  margin-bottom: 30px; }\n  .consult-wrapper .options .filter {\n  font-size: 90%;\n  border-radius: 5px;\n  border: 1px solid #ebeff5; }\n  .consult-wrapper .options .filter, .consult-wrapper .options .filter * {\n    display: flex;\n    align-items: center; }\n  .consult-wrapper .options .filter nb-checkbox ::ng-deep label {\n    padding: 0; }\n  .consult-wrapper .options .filter nb-checkbox ::ng-deep .customised-control-description {\n    display: none; }\n  .consult-wrapper .data {\n  font-size: 85%; }\n  .consult-wrapper .data tr:hover {\n    background-color: #f8fafd; }\n  .consult-wrapper .data thead tr:hover {\n    background-color: transparent; }\n  .consult-wrapper .data th, .consult-wrapper .data td {\n    vertical-align: middle; }\n  .consult-wrapper .data .pagination-wrapper {\n    max-width: 100%; }\n  .consult-wrapper .data .pagination-wrapper .page-item .page-link:hover {\n      background-color: #f8fafd; }\n  .consult-wrapper .data .pagination-wrapper .page-item.active .page-link {\n      border-color: #3dcc6d;\n      background-color: #3dcc6d; }\n  .consult-wrapper .options .btn-secondary, .consult-wrapper .data .actions .btn-secondary {\n  cursor: pointer; }\n  .consult-wrapper .options .btn-secondary:hover, .consult-wrapper .data .actions .btn-secondary:hover {\n    color: #ffffff;\n    background-color: #40dc7e; }\n  .bottom {\n  margin-bottom: 20px; }\n"},CqdU:function(t,n){t.exports='<div class="row">\n    <div class="col">\n      <nb-card>\n        <nb-card-body>        \n          <nb-tabset fullWidth>\n  \n            \x3c!-- Cr\xe9er une communaut\xe9 --\x3e\n            <nb-tab tabTitle="Activation d\'un acc\xe8s nomade" tabIcon="nb-loop">\n\n              <nb-alert class="bottom col-md-12" style="margin-top: 50px" status="{{ status }}" *ngIf="isSend" fullWidth closable (close)="onClose()">\n                {{ message }}\n              </nb-alert>\n              \n                <div class="row">\n                  <div class="field col-md-12" style="margin-top: 20px">\n                    <label>Cle d\'activation access nomade </label>\n                    <div class="control">\n                        <input type="text" nbInput fullWidth placeholder="Cle d\'activation access nomade" value="{{ access.cle }}" disabled>\n                    </div>\n                  </div>\n                  <div class="field col-md-12" style="margin-top: 20px">\n                    <label>Domaine </label>\n                    <div class="control">\n                        <input type="text" nbInput fullWidth placeholder="Domaine" value="{{ access.communaute.nom }}" disabled>\n                    </div>\n                  </div>\n                  <div class="field col-md-12" style="margin-top: 20px">\n                    <label>Role </label>\n                    <div class="control">\n                        <input type="text" nbInput fullWidth placeholder="Role" value="{{ access.role }}" disabled>\n                    </div>\n                  </div>\n                  <div class="field col-md-12" style="margin-top: 20px">\n                    <label>Date d\'activation </label>\n                    <div class="control">\n                        <input type="text" nbInput fullWidth placeholder="Date d\'activation" value="{{ formatDate(access.dateCreation) }}" disabled>\n                    </div>\n                  </div>\n                  <div class="field col-md-12" style="margin-top: 20px">\n                    <label>Login </label>\n                    <div class="control">\n                        <input type="Login" (keyup)="login($event)" nbInput fullWidth placeholder="Login">\n                    </div>\n                  </div>\n                  <div class="field col-md-12" style="margin-top: 20px">\n                    <label>Mot de passe </label>\n                    <div class="control">\n                        <input type="password" (keyup)="password($event)" nbInput fullWidth placeholder="Mot de passe">\n                    </div>\n                  </div>\n                  <div class="field col-md-12" style="margin-top: 20px">\n                    <label>Confirmation du mot de passe </label>\n                    <div class="control">\n                        <input type="password" (keyup)="passwordC($event)" nbInput fullWidth placeholder="Confirmation du mot de passe">\n                    </div>\n                  </div>\n                </div>\n\n                <button status="success" (click)="validate()" fullWidth nbButton style="margin-top: 20px; margin-bottom: 20px;">\n                  Valider\n                </button>\n              \n            </nb-tab>\n  \n          </nb-tabset>\n        </nb-card-body>\n      </nb-card>\n    </div>\n  </div>\n'},T6mJ:function(t,n){t.exports=""},TOEp:function(t,n){t.exports="<router-outlet></router-outlet>\n"},"gLl/":function(t,n){t.exports="<p>\n  partenaires works!\n</p>\n"},hiE7:function(t,n){t.exports='<br><br>\n<nb-card>\n  <nb-card-body>\n\n    <nb-tabset>\n      <nb-tab tabTitle="Operations" tabIcon="nb-person" responsive>\n        <br><br>\n        <div class="row">\n\n          <div class="col-md-3">\n            <nb-card status="success">\n              <nb-card-header>Creer un pertenaire</nb-card-header>\n              <nb-card-body>\n                Ici vous effectuer la creation d\'un pertenaire.\n\n                <br><br>\n                <a nbButton size="small" status="success" outline [routerLink]="[ \'add-partenaire\' ]">creer un partenaire</a>\n              </nb-card-body>\n            </nb-card>\n          </div>\n\n          <div class="col-md-9">\n            \n          </div>\n        </div>\n      </nb-tab>\n      <nb-tab tabTitle="Tous les partenaires" tabIcon="nb-notifications" responsive>\n        <p>List of <strong>Tous les partenaires</strong>.</p>\n      </nb-tab>\n    </nb-tabset>\n\n  </nb-card-body>\n</nb-card>\n'},icSM:function(t,n){t.exports='<nb-card>\n  <nb-card-body>\n    <nb-stepper #stepper>\n      <nb-step [stepControl]="firstForm" label="Etape 1" status="success">\n        <form [formGroup]="firstForm" (ngSubmit)="onFirstSubmit()" class="step-container">\n\n          <nb-alert status="success">\n            Identification\n          </nb-alert>\n\n          <br>\n          <nb-alert status="danger" *ngIf="idReseauFound">Le plaform member n\'a pu etre touve</nb-alert>\n          <br>\n\n          <div style="vertical-align: middle;">\n            <label>Identifiant reseau</label>&nbsp;&nbsp;\n            <input type="text" nbInput placeholder="Identifiant du reseau" formControlName="identifiant_reseau"\n              [ngClass]="{\'form-control-danger\': firstForm.invalid && (firstForm.dirty || firstForm.touched)}">\n          </div>\n          <br>\n          <button nbButton size="small" status="success" nbStepperNext>next</button>\n        </form>\n      </nb-step>\n\n      <nb-step label="Etape 2">\n\n        <nb-alert status="success">\n          Verification de l\'dentification\n        </nb-alert>\n\n        <div class="row">\n          <div class="col-md-4">\n            <p> <strong>Identifiant Reseau </strong>: XXXXXXXXXXXXXXX</p>\n            <p><strong>Raison sociale:</strong> XXXXXXXXXXXXXXXX</p>\n            <p><strong>Immatriculation:</strong> XXXXXXXXXXXXX</p>\n            <p><strong>Activit\xe9 principale:</strong> XXXXXXXXXXXX</p>\n          </div>\n          <div class="col-md-4">\n            <button nbButton size="small" status="success">plus d\'info</button>\n          </div>\n        </div>\n        \x3c!-- <div class="input-group">\n            <input type="text" placeholder="Enter favorite movie" class="form-control" formControlName="secondCtrl"\n              [ngClass]="{\'form-control-danger\': secondForm.invalid && (secondForm.dirty || secondForm.touched)}">\n          </div> --\x3e\n\n        <br><br>\n        <button nbButton size="small" status="success" nbStepperPrevious>retour</button>\n        &nbsp;\n        <button nbButton size="small" status="success" nbStepperNext>continuer</button>\n      </nb-step>\n\n      <nb-step [stepControl]="secondForm" label="Etape 3">\n        <form [formGroup]="secondForm" (ngSubmit)="onSecondSubmit()" class="step-container">\n\n          <nb-alert status="success">\n            Profil du partenariat\n          </nb-alert>\n\n          <div class="row justify-content-md-center">\n            <div class="col-md-8">\n\n              <div class="row input-group">\n                <div class="col-md-3">\n                  <br>\n                  <label>N\xb0 de contrat</label>\n                </div>\n                <div class="col-md-9">\n                  <input type="text" placeholder="Entrer le numero de contrat" class="form-control" formControlName="numero_contrat"\n                    [ngClass]="{\'form-control-danger\': secondForm.invalid && (secondForm.dirty || secondForm.touched)}">\n                </div>\n              </div>\n\n              <br>\n              <div class="row input-group">\n                <div class="col-md-3">\n                  <br>\n                  <label>Date de creation</label>\n                </div>\n                <div class="col-md-9">\n                  <input readonly placeholder="Entrer la date de creation" class="form-control" formControlName="date_creation"\n                    [nbDatepicker]="formpicker" [ngClass]="{\'form-control-danger\': secondForm.invalid && (secondForm.dirty || secondForm.touched)}">\n                  <nb-datepicker #formpicker></nb-datepicker>\n                </div>\n              </div>\n\n              <br>\n              <div class="row input-group">\n                <div class="col-md-3">\n                  <br>\n                  <label>Type de profil</label>\n                </div>\n                <div class="col-md-9">\n                  <select placeholder="" class="form-control" formControlName="type_profil" [ngClass]="{\'form-control-danger\': secondForm.invalid && (secondForm.dirty || secondForm.touched)}">\n                    <option value="">profil 1</option>\n                    <option value="">profil 2</option>\n                  </select>\n                </div>\n              </div>\n\n              <br>\n              <div class="row input-group">\n                <div class="col-md-3">\n                  <br>\n                  <label>Nom commerciale</label>\n                </div>\n                <div class="col-md-9">\n                  <input type="text" placeholder="Entrer le nom commerciale" class="form-control" formControlName="nom_commerciale"\n                    [ngClass]="{\'form-control-danger\': secondForm.invalid && (secondForm.dirty || secondForm.touched)}">\n                </div>\n              </div>\n\n              <br>\n              <div class="row input-group">\n                <div class="col-md-3">\n                  <br>\n                  <label>Partenaire parent</label>\n                </div>\n                <div class="col-md-9">\n                  <input type="text" placeholder="Entrer le partenaire parent" class="form-control" formControlName="partenaire_parent"\n                    [ngClass]="{\'form-control-danger\': secondForm.invalid && (secondForm.dirty || secondForm.touched)}">\n                </div>\n              </div>\n\n              <br>\n              <div class="row input-group">\n                <div class="col-md-3">\n                  <br>\n                  <label>Identifiant admin</label>\n                </div>\n                <div class="col-md-9">\n                  <input type="text" placeholder="identifiant admin" class="form-control" formControlName="identifiant_admin">\n                </div>\n              </div>\n\n            </div>\n          </div>\n\n          <br><br>\n          <button nbButton size="small" status="success" nbStepperPrevious>prev</button>\n          &nbsp;\n          <button nbButton size="small" status="success" nbStepperNext>next</button>\n        </form>\n      </nb-step>\n\n      <nb-step label="Etape 4" status="success">\n        <form [formGroup]="thirdForm" (ngSubmit)="onThirdSubmit()" class="step-container">\n\n          <nb-alert status="success">\n            Details du profil du partenariat\n          </nb-alert>\n\n          <br><br>\n          <button nbButton size="small" status="success" nbStepperPrevious>retour</button>\n          &nbsp;\n          <button nbButton size="small" status="success" nbStepperNext>confimer</button>\n        </form>\n      </nb-step>\n\n      <nb-step [hidden]="true" label="Final">\n        <br>\n        <div class="step-container">\n          <h3>Creation du partenaire effectu\xe9 avec succes.</h3>\n          <br>\n          <a nbButton [routerLink]="[ \'..\' ]" (click)="showToast(\'info\')">Ok</a> \x3c!-- (click)="stepper.reset()" --\x3e\n        </div>\n      </nb-step>\n\n    </nb-stepper>\n  </nb-card-body>\n</nb-card>\n'},j2Zw:function(t,n,e){"use strict";e.r(n);var s=e("mrSG"),o=e("CcnG"),a=e("Ip0R"),i=e("4GxJ"),r=e("xkgV"),c=e("ZYCi"),l=e("NT7v"),u=e("HBUA"),d=function(){function t(t,n){this.route=t,this.pfmComp=n}return t.prototype.ngOnInit=function(){var t=this;this.route.data.subscribe(function(n){return t.data=n}),this.data.activateMenu&&(this.pfmComp.menu=u.a)},t.ctorParameters=function(){return[{type:c.a},{type:l.a}]},t=s.c([Object(o.n)({selector:"app-social-network",template:e("TOEp"),styles:[e("pjrG")]}),s.f("design:paramtypes",[c.a,l.a])],t)}(),m=function(){function t(){}return t.prototype.ngOnInit=function(){},t=s.c([Object(o.n)({selector:"app-partenairesPfm",template:e("hiE7"),styles:[e("l1a4")]}),s.f("design:paramtypes",[])],t)}(),p=e("gIcY"),b=e("Xk95"),h=e("E49E"),f=function(){function t(t,n,e){this.formBuilder=t,this.toastrService=n,this.groupeManagementService=e,this.index=0,this.idReseauFound=!1}return t.prototype.ngOnInit=function(){this.firstForm=this.formBuilder.group({identifiant_reseau:["",[p.i.required]]}),this.secondForm=this.formBuilder.group({numero_contrat:["",[]],date_creation:["",[]],type_profil:["",[]],nom_commerciale:["",[]],partenaire_parent:["",[]],identifiant_admin:["",[]]}),this.thirdForm=this.formBuilder.group({thirdCtrl:["",p.i.required]})},t.prototype.onFirstSubmit=function(){this.firstForm.markAsDirty()},t.prototype.onSecondSubmit=function(){this.secondForm.markAsDirty()},t.prototype.onThirdSubmit=function(){this.thirdForm.markAsDirty(),this.showToast("info")},t.prototype.showToast=function(t){this.toastrService.show(t,"Un partenaire a \xe9t\xe9 cr\xe9e.",{status:t})},t.prototype.getPlatFormMember=function(){var t=this,n=this.firstForm.value.identifiant_reseau;this.groupeManagementService.getPlatFormMember(n).subscribe(function(n){console.log(n),t.idReseauFound=!0},function(n){console.log(n),t.idReseauFound=!1})},t.ctorParameters=function(){return[{type:p.b},{type:b.Q},{type:h.a}]},t=s.c([Object(o.n)({selector:"app-add-partenaire",template:e("icSM"),styles:[e("myGl")]}),s.f("design:paramtypes",[p.b,b.Q,h.a])],t)}(),g=e("sSZT"),v=e("uIXG"),y=e("qfBg"),w=e("nEDP"),C=e("Tj/N"),x=function(){function t(t){return Object.assign(this,t)}return t.ctorParameters=function(){return[{type:void 0}]},t}(),N=function(){function t(t,n,e,s){this.formBuilder=t,this.communauteService=n,this.userService=e,this.modalService=s,this.isSend=!1,this.isSendRequete=!1,this.isSendDemande=!1,this.isFilter=!1,this.status="success",this.statusDemande="success",this.statusRequete="success",this.message="",this.messageCreation="",this.messageRequete="",this.messageDemande="",this.title="",this.titleRequest="",this.selectedUsers=[],this.nonCommunities=[],this.pagingNonComm={currentPage:0,totalPages:0,defaultPageSize:10},this.modalOptions={backdrop:"static",backdropClass:"customBackdrop",size:"lg"}}return t.prototype.ngOnInit=function(){this.initForm(),this.getUser(),null==w.a.getAdminToken()&&w.a.logout()},t.prototype.openInvite=function(t,n){var e=this;this.users=null,this.community=n,this.allUsers=null,this.communauteService.nonCommunityMember(n.idCommunaute).then(function(t){return console.log(t),e.users=t,e.allUsers=t,!0}).catch(function(t){return console.log(t),!1}),this.title="Inviter des utilisateurs: "+n.nom,this.modalService.open(t,this.modalOptions).result.then(function(t){e.closeResult="Closed with: "+t},function(t){e.closeResult="Dismissed "+e.getDismissReason(t)})},t.prototype.openRequest=function(t,n){return s.b(this,void 0,void 0,function(){var e=this;return s.e(this,function(s){switch(s.label){case 0:return this.users=null,this.allUsers=null,[4,this.getCommRequests(n)];case 1:return s.sent(),this.titleRequest="Requ\xeates de la communaut\xe9 '"+n.nom+"'",this.modalService.open(t,this.modalOptions).result.then(function(t){e.closeResult="Closed with: "+t},function(t){e.closeResult="Dismissed "+e.getDismissReason(t)}),[2]}})})},t.prototype.getDismissReason=function(t){return t===i.a.ESC?"by pressing ESC":t===i.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+t},t.prototype.initForm=function(){this.form=this.formBuilder.group({nom:""})},t.prototype.getUser=function(){return s.b(this,void 0,void 0,function(){var t=this;return s.e(this,function(n){switch(n.label){case 0:return[4,this.userService.getCurrentUser().then(function(n){return t.user=n,t.getMyCommunities(),t.getMyNonCommunities(),t.getMyRequests(),!0}).catch(function(t){return!1})];case 1:return n.sent(),[2]}})})},t.prototype.liveSearch=function(t){var n=t.target.value;this.users=n?this.allUsers.filter(function(t){return(t.nomUtilisateur+" "+t.prenomUtilisateur).trim().toLowerCase().includes(n.trim().toLowerCase())}):this.allUsers},t.prototype.filter=function(t){var n=this;t.target.checked?this.communities=this.allCommunities.filter(function(t){return t.utilisateur.idUtilisateur==n.user.idUtilisateur}):this.communities=this.allCommunities},t.prototype.isMine=function(t){return t.utilisateur.idUtilisateur==this.user.idUtilisateur},t.prototype.communitiesNotMine=function(){var t=this;return this.user?this.nonCommunities.filter(function(n){return n.utilisateur.idUtilisateur!=t.user.idUtilisateur}):[]},t.prototype.selectUser=function(t,n){t.target.checked?this.selectedUsers.push(n):this.selectedUsers=this.selectedUsers.filter(function(t){return t.idUtilisateur!=n.idUtilisateur}),console.log(this.selectedUsers)},t.prototype.isMe=function(t){return t.idUtilisateur==this.user.idUtilisateur},t.prototype.getMyCommunities=function(){return s.b(this,void 0,void 0,function(){var t=this;return s.e(this,function(n){switch(n.label){case 0:return[4,this.communauteService.myCommunities(this.user.idUtilisateur).then(function(n){return t.communities=n,t.allCommunities=n,!0}).catch(function(t){return console.log(t),!1})];case 1:return n.sent(),[2]}})})},t.prototype.getMyNonCommunities=function(){return s.b(this,void 0,void 0,function(){var t=this;return s.e(this,function(n){switch(n.label){case 0:return[4,this.communauteService.myNonCommunities(this.user.idUtilisateur).then(function(n){return t.nonCommunities=n,t.pagingNonComm.totalPages=Math.ceil(t.communitiesNotMine().length/t.pagingNonComm.defaultPageSize),!0}).catch(function(t){return console.log(t),!1})];case 1:return n.sent(),[2]}})})},t.prototype.getMyRequests=function(){return s.b(this,void 0,void 0,function(){var t=this;return s.e(this,function(n){switch(n.label){case 0:return console.log(this.user.idUtilisateur),[4,this.communauteService.myRequest(this.user.idUtilisateur).then(function(n){return t.demandes=n,console.log(n),!0}).catch(function(t){return console.log(t),!1})];case 1:return n.sent(),[2]}})})},t.prototype.getCommRequests=function(t){return s.b(this,void 0,void 0,function(){var n=this;return s.e(this,function(e){switch(e.label){case 0:return[4,this.communauteService.requestForCommunity(t.idCommunaute).then(function(t){return console.log(t),n.demandesCommunaute=t,!0}).catch(function(t){return console.log(t),!1})];case 1:return e.sent(),[2]}})})},t.prototype.onClose=function(){this.isSend=!1,this.isSendRequete=!1,this.isSendDemande=!1},t.prototype.onSubmit=function(){return s.b(this,void 0,void 0,function(){var t,n,e=this;return s.e(this,function(s){return t=new g.a({idCommunaute:null,nom:this.form.value.nom,type:"NON CONVENTIONNEE",dateCreation:this.dateToTimestamp(new Date),dateModification:this.dateToTimestamp(new Date),utilisateur:this.user,kId:null}),n=this.form.value.nom.replace(/[^a-zA-Z0-9]/g,"_").toLowerCase(),this.userService.createKeycloackGroup(n+"-group",w.a.getAdminToken()).then(function(s){e.userService.createKeycloackRole(n+"-role",w.a.getAdminToken()).then(function(s){e.userService.getKeycloackGroup(n+"-group",w.a.getAdminToken()).then(function(n){t.kId=n[0].id,e.communauteService.newCommunaute(t).then(function(n){return e.isSend=!0,e.status="success",e.messageCreation='La communaut\xe9 "'+e.form.value.nom+'" a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s !',e.userService.addUserGroup(e.user.kId,t.kId).then(function(t){console.log(t)}).catch(function(t){console.log(t)}),e.initForm(),e.getMyCommunities(),!0}).catch(function(t){return e.isSend=!0,e.status="danger",e.messageCreation=t.error.message,!1})}).catch(function(t){console.log(t)})}).catch(function(t){return e.isSend=!0,e.status="danger",e.messageCreation=t.error.message,!1})}).catch(function(t){return console.log(t),e.isSend=!0,e.status="danger",e.messageCreation=t.error.message,!1}),[2]})})},t.prototype.sendInviteUser=function(){return s.b(this,void 0,void 0,function(){var t=this;return s.e(this,function(n){return 0==this.selectedUsers.length?[2]:(this.selectedUsers.forEach(function(n){var e=new x({idCommunauteAssocie:null,utilisateur:new C.a({idUtilisateur:n.idUtilisateur}),communaute:new g.a({idCommunaute:t.community.idCommunaute}),dateCreation:t.dateToTimestamp(new Date),type:"INVITATION",statut:"EN ATTENTE"});console.log(e),t.communauteService.newInvitation(e).then(function(t){return console.log(t),!0}).catch(function(n){return t.isSend=!0,t.status="danger",console.log(n),!1})}),this.selectedUsers=[],[2])})})},t.prototype.adherer=function(t){return s.b(this,void 0,void 0,function(){var n,e=this;return s.e(this,function(s){return n=new x({idCommunauteAssocie:null,utilisateur:new C.a({idUtilisateur:this.user.idUtilisateur}),communaute:new g.a(t),dateCreation:this.dateToTimestamp(new Date),type:"DEMANDE",statut:"EN ATTENTE"}),console.log(n),this.communauteService.newInvitation(n).then(function(t){return e.isSendDemande=!0,e.statusDemande="success",e.messageDemande="La demande d'adhesion a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s !",e.getMyNonCommunities(),e.getMyRequests(),!0}).catch(function(t){return e.isSendDemande=!0,e.statusDemande="danger",e.messageDemande=t.error.message,console.log(t),!1}),[2]})})},t.prototype.supprimerDemande=function(t){return s.b(this,void 0,void 0,function(){var n,e=this;return s.e(this,function(s){return n=new x({idCommunauteAssocie:t.idCommunauteAssocie,utilisateur:new C.a({idUtilisateur:t.utilisateur.idUtilisateur}),communaute:new g.a({idCommunaute:t.communaute.idCommunaute})}),this.communauteService.supprimerDemande(n).then(function(n){return e.isSendRequete=!0,e.statusRequete="success",e.messageRequete="L'op\xe9ration s'est d\xe9roul\xe9e avec succ\xe8s",e.getMyRequests(),e.getMyNonCommunities(),e.getCommRequests(t.communaute),!0}).catch(function(t){return e.isSend=!0,console.log(t),e.isSendRequete=!0,e.statusRequete="danger",e.messageRequete=t.error.message,!1}),[2]})})},t.prototype.repondreDemande=function(t,n){return s.b(this,void 0,void 0,function(){var e,o=this;return s.e(this,function(s){return e=new x({idCommunauteAssocie:t.idCommunauteAssocie,utilisateur:new C.a({idUtilisateur:t.utilisateur.idUtilisateur}),communaute:new g.a({idCommunaute:t.communaute.idCommunaute}),type:t.type,statut:n}),"VALIDER"==n&&(this.userService.addUserGroup(t.utilisateur.kId,t.communaute.kId).then(function(t){console.log(t)}).catch(function(t){console.log(t)}),"CONVENTIONNEE"!=t.communaute.type||t.utilisateur.communaute||(t.utilisateur.communaute=t.communaute.idCommunaute,t.utilisateur.codeClient=t.communaute.idCommunaute+""+t.utilisateur.idUtilisateur,this.userService.updateUser(t.utilisateur).then(function(t){console.log("Utilisateur modifi\xe9 avec succ\xe8s")}).catch(function(t){console.log(t)}))),this.communauteService.annulerDemande(e).then(function(n){return o.getMyRequests(),o.getMyNonCommunities(),o.statusRequete="success",o.isSendRequete=!0,o.messageRequete="L'op\xe9ration s'est d\xe9roul\xe9e avec succ\xe8s",o.getCommRequests(t.communaute),!0}).catch(function(t){return o.isSendRequete=!0,o.statusRequete="danger",o.messageRequete=t.error.message,!1}),[2]})})},t.prototype.loadNonCommunitiesPage=function(t){this.pagingNonComm.currentPage=t},t.prototype.refreshNonCommunities=function(){this.pagingNonComm.currentPage=0,this.getMyNonCommunities()},t.prototype.dateToTimestamp=function(t){return t.getTime()},t.prototype.formatDate=function(t){return new Date(t).toLocaleString()},t.prototype.arrayRange=function(t){return Array.from(Array(t).keys())},t.ctorParameters=function(){return[{type:p.b},{type:v.a},{type:y.a},{type:i.b}]},t=s.c([Object(o.n)({selector:"app-groupes-pfm",template:e("3jw/"),styles:[e("C7sM")]}),s.f("design:paramtypes",[p.b,v.a,y.a,i.b])],t)}(),S=function(){function t(){}return t.prototype.ngOnInit=function(){},t=s.c([Object(o.n)({selector:"app-partenaires",template:e("gLl/"),styles:[e("/Kbt")]}),s.f("design:paramtypes",[])],t)}(),k=function(){function t(){}return t.prototype.ngOnInit=function(){},t=s.c([Object(o.n)({selector:"app-membres",template:e("1xwJ"),styles:[e("wfV3")]}),s.f("design:paramtypes",[])],t)}(),T=e("XZLI"),I=function(){function t(t,n,e,s){this.clientAccessService=t,this.userService=n,this.route=e,this.router=s,this.isSend=!1,this.message="",this.status="success",this.loading=!1,this.loginT="",this.passwordT="",this.passwordCT=""}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(n){t.idAccess=n.id,t.getAccess(t.idAccess)}),this.getUser()},t.prototype.getAccess=function(t){var n=this;this.clientAccessService.getAccess(t).then(function(t){console.log(t),n.access=t}).catch(function(t){})},t.prototype.getUser=function(){return s.b(this,void 0,void 0,function(){var t=this;return s.e(this,function(n){switch(n.label){case 0:return[4,this.userService.getCurrentUser().then(function(n){t.user=n}).catch(function(t){console.log(t)})];case 1:return n.sent(),[2]}})})},t.prototype.validate=function(){var t=this;return this.isSend=!0,0==this.loginT.length||0==this.passwordT.length||0==this.passwordCT.length?(this.status="danger",void(this.message="Tout les champs sont requis")):this.passwordT!=this.passwordCT?(this.status="danger",void(this.message="Les mots de passes doivent etre identique")):(this.access.dateActivation=new Date,void this.clientAccessService.updateClientAccess(this.access).then(function(n){t.userService.createKeycloackUser(t.loginT,t.user.emailUtilisateur,t.passwordT,t.user.prenomUtilisateur,t.user.nomUtilisateur,w.a.getAdminToken(),!1).then(function(n){t.userService.getKeycloackUser(t.loginT,w.a.getAdminToken()).then(function(n){t.localRegistering(n[0].id)}).catch(function(t){console.log(t)})}).catch(function(n){t.isSend=!0,t.status="danger",console.log(n),t.message=n.error.error_description,t.loading=!1})}).catch(function(t){console.log(t)}))},t.prototype.login=function(t){this.loginT=t.target.value},t.prototype.password=function(t){this.passwordT=t.target.value},t.prototype.passwordC=function(t){this.passwordCT=t.target.value},t.prototype.formatDate=function(t){return new Date(t).toLocaleString()},t.prototype.localRegistering=function(t){var n=this,e=this.user;e.loginUtilisateur=this.loginT,e.idUtilisateur=null,e.kId=t,this.userService.addUser(e,w.a.getAdminToken()).subscribe(function(t){n.isSend=!0,n.status="success",n.message="Enregistrement effectu\xe9 avec succ\xe8s !",n.loading=!1},function(t){n.status="danger",n.message="Une erreur est survenue lors de la l'activation",console.log(t)})},t.ctorParameters=function(){return[{type:T.a},{type:y.a},{type:c.a},{type:c.c}]},t=s.c([Object(o.n)({selector:"app-access",template:e("CqdU"),styles:[e("xQip")]}),s.f("design:paramtypes",[T.a,y.a,c.a,c.c])],t)}(),U=function(){function t(){}return t.prototype.ngOnInit=function(){},t=s.c([Object(o.n)({selector:"app-realisations",template:e("vrdf"),styles:[e("T6mJ")]}),s.f("design:paramtypes",[])],t)}(),E=[{path:"",component:d,children:[{path:"partenairesPfm",component:m},{path:"partenairesPfm/add-partenaire",component:f},{path:"client-access/:id",component:I},{path:"all-groupes",component:N},{path:"communautes",component:N},{path:"partenaires",component:S},{path:"membres",component:k},{path:"realisations",component:U}]}],D=function(){function t(){}return t=s.c([Object(o.M)({imports:[c.e.forChild(E)],exports:[c.e]})],t)}();e.d(n,"SocialNetworkPfmModule",function(){return R});var R=function(){function t(){}return t=s.c([Object(o.M)({declarations:[d,I,m,f,N,S,k,U],imports:[a.b,p.h,r.a,b.M,b.k,b.j,b.K,b.h,b.t,b.x,b.l,i.c.forRoot(),b.J,b.o.forRoot(),b.n.forRoot(),b.P.forRoot(),D]})],t)}()},l1a4:function(t,n){t.exports=""},myGl:function(t,n){t.exports=""},pjrG:function(t,n){t.exports=""},vrdf:function(t,n){t.exports="<p>\n  realisations works!\n</p>\n"},wfV3:function(t,n){t.exports=""},xQip:function(t,n){t.exports=""}}]);