(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"0JFd":function(e,n,t){"use strict";t.r(n);var i=t("mrSG"),o=t("CcnG"),s=t("Ip0R"),r=t("ZYCi"),a=t("gIcY"),l=[{title:"Gestion commerciale",icon:"nb-shuffle",children:[{title:"Outils marketing",link:"/admin/gestion-commerciale/outils-marketing",children:[{title:"Enqu\xeates",link:"/admin/gestion-commerciale/outils-marketing"},{title:"Campagne promotionnelle",link:"/admin/gestion-commerciale/outils-marketing"},{title:"Campagne de parainage",link:"/admin/gestion-commerciale/outils-marketing"},{title:"Campagne de sensibilisation",link:"/admin/gestion-commerciale/outils-marketing"}]}]},{title:"Market place",icon:"nb-location",children:[{title:"Ventes",link:"/admin/market-place/ventes",children:[{title:"Cr\xe9er",link:"/admin/market-place/ventes"},{title:"D\xe9clarer les dotations projets",link:"/admin/market-place/ventes"},{title:"Payer les prestataires",link:"/admin/market-place/ventes"}]},{title:"Achats",link:"/admin/market-place/ventes",children:[{title:"Historique",link:"/admin/market-place/ventes"},{title:"Mes paiements",link:"/admin/market-place/ventes"},{title:"Moyens de paiement",link:"/admin/market-place/ventes"}]},{title:"Autres",link:"/admin/market-place/autres",children:[{title:"Cr\xe9er",link:"/admin/market-place/ventes"},{title:"D\xe9clarer les dotations projets",link:"/admin/market-place/ventes"},{title:"Payer les prestataires",link:"/admin/market-place/ventes"}]}]},{title:"Bourse des financements",icon:"nb-lightbulb",children:[{title:"Art\xe9facts",link:"/admin/bourse-financement/artefacts",children:[{title:"BG",link:"/admin/market-place/ventes"},{title:"Comptes",link:"/admin/market-place/ventes"},{title:"Contrats",link:"/admin/market-place/ventes"},{title:"Fonds",link:"/admin/market-place/ventes"}]},{title:"Financements",link:"/admin/bourse-financement/financements",children:[{title:"Demandes",link:"/admin/market-place/ventes"},{title:"Offres",link:"/admin/market-place/ventes"}]},{title:"Autres",link:"/admin/bourse-financement/autres",children:[]}]},{title:"R\xe9seau microcap",icon:"nb-person",children:[{title:"Communaut\xe9s",link:"/admin/social-network/communautes"},{title:"Partenaires",link:"/admin/social-network/partenaires",children:[{title:"Arborescence",link:"/admin/social-network/partenaires"},{title:"Rechercher",link:"/admin/social-network/partenaires"},{title:"Nouveau",link:"/admin/social-network/partenaires"}]},{title:"Membres",link:"/admin/social-network/membres",children:[{title:"Arborescence",link:"/admin/social-network/membres"},{title:"Rechercher",link:"/admin/social-network/membres"},{title:"Nouveau",link:"/admin/social-network/membres"}]},{title:"R\xe9alisations",link:"/admin/social-network/realisations",children:[{title:"Toutes",link:"/admin/social-network/realisations"},{title:"Entreprise",link:"/admin/social-network/realisations"},{title:"Projets",link:"/admin/social-network/realisations"},{title:"Id\xe9es",link:"/admin/social-network/realisations"}]}]},{title:"Gestionnaire des composants externes",icon:"nb-grid-a",children:[{title:"Ateliers",link:"/admin/gestion-composants-externes/ateliers",children:[{title:"Formation",link:"/admin/gestion-composants-externes/ateliers"},{title:"Qualification",link:"/admin/gestion-composants-externes/ateliers"},{title:"Testing produits",link:"/admin/gestion-composants-externes/ateliers"},{title:"R\xe9seautage",link:"/admin/gestion-composants-externes/ateliers"}]},{title:"Ressources mutualis\xe9es",link:"/admin/gestion-composants-externes/ressources-mutualisees",children:[{title:"Co-working",link:"/admin/gestion-composants-externes/ateliers"},{title:"Appart h\xf4tel",link:"/admin/gestion-composants-externes/ateliers"},{title:"V\xe9hicule",link:"/admin/gestion-composants-externes/ateliers"}]},{title:"Ev\xeanements",link:"/admin/gestion-composants-externes/evenements",children:[{title:"Forum",link:"/admin/gestion-composants-externes/ateliers"},{title:"Conf\xe9rence",link:"/admin/gestion-composants-externes/ateliers"},{title:"S\xe9minaire",link:"/admin/gestion-composants-externes/ateliers"},{title:"Start up week-end",link:"/admin/gestion-composants-externes/ateliers"}]},{title:"Autres",link:"/admin/gestion-composants-externes/autres",children:[{title:"Cr\xe9er",link:"/admin/gestion-composants-externes/ateliers"},{title:"D\xe9clarer les dotations projet",link:"/admin/gestion-composants-externes/ateliers"},{title:"Payer les prestataires",link:"/admin/gestion-composants-externes/ateliers"}]}]},{title:"Exploitation",icon:"nb-checkmark-circle",children:[{title:"Actifs",link:"/admin/exploitation/actifs",children:[]},{title:"Bourse de financement",link:"/admin/exploitation/bourse-financement",children:[]},{title:"Bourse d'opportunit\xe9s",link:"/admin/exploitation/bourse-opportunite",children:[]},{title:"Profil",link:"/admin/exploitation/profil",children:[]},{title:"Ressources",link:"/admin/exploitation/ressources",children:[]}]},{title:"Syst\xe8me",icon:"nb-gear",children:[{title:"Syst\xe8me",link:"/admin/systeme/maintenance",children:[{title:"R\xe9initialiser",link:"/admin/systeme/maintenance"},{title:"Autorisation",link:"/admin/systeme/maintenance"}]},{title:"Maintenance",link:"/admin/systeme/maintenance"},{title:"Configuration",link:"/admin/systeme/configuration",children:[{title:"R\xe9seau social",link:"/admin/systeme/configuration"},{title:"Projets",link:"/admin/systeme/configuration"},{title:"Mod\xe8le profil professionnel",link:"/admin/systeme/configuration"},{title:"Syst\xe8me de qualification",link:"/admin/systeme/configuration"}]}]}],m=function(){return function(e){return Object.assign(this,e)}}(),c=t("TtU4"),d=t("E49E"),u=t("t/Na"),p=t("AytR"),h={headers:new u.d({"Content-Type":"application/json"})},g=function(){function e(e){this.http=e,this.role_url=p.a.serverEndpoint+"/sn/role",this.group_group_type_url=p.a.serverEndpoint+"auth/sn/user/group_types",this.group_detail_url=p.a.serverEndpoint+"auth/sn/user/groupdetail",this.group_type_detail_url=p.a.serverEndpoint+"auth/sn/user/group_type_details",this.group_state_url=p.a.serverEndpoint+"auth/sn/user/groups/status/",this.group_person_url=p.a.serverEndpoint+"auth/sn/user/groups/validator",this.get_plateform_code_url=p.a.serverEndpoint+"auth/sn/user/platform_members/membership_code/type/",this.join_group_url=p.a.serverEndpoint+"auth/sn/user/platform_members/becomeMember"}return e.prototype.addRole=function(e){return console.log("The new role is:",e),this.http.post(this.role_url,e,h).toPromise()},e=i.c([Object(o.C)({providedIn:"root"}),i.f("design:paramtypes",[u.b])],e)}(),k=function(){function e(){this.roles=[]}return e.prototype.signOut=function(){window.sessionStorage.clear()},e.prototype.saveToken=function(e){window.sessionStorage.removeItem("AuthToken"),window.sessionStorage.setItem("AuthToken",e)},e.prototype.getToken=function(){return sessionStorage.getItem("AuthToken")},e.prototype.saveUsername=function(e){window.sessionStorage.removeItem("AuthUsername"),window.sessionStorage.setItem("AuthUsername",e)},e.prototype.getUsername=function(){return sessionStorage.getItem("AuthUsername")},e.prototype.saveAuthorities=function(e){window.sessionStorage.removeItem("AuthAuthorities"),window.sessionStorage.setItem("AuthAuthorities",JSON.stringify(e))},e.prototype.getAuthorities=function(){var e=this;return this.roles=[],window.sessionStorage.getItem("AuthToken")&&JSON.parse(window.sessionStorage.getItem("AuthAuthorities")).forEach(function(n){e.roles.push(n.authority)}),this.roles},e=i.c([Object(o.C)({providedIn:"root"}),i.f("design:paramtypes",[])],e)}(),f=t("qfBg"),b=t("nEDP"),v=function(){function e(e,n,t,i,o,s,r){this.sidebarService=e,this.userService=n,this.token=t,this.router=i,this.formBuilder=o,this.roleManagementService=s,this.groupService=r,this.items=[{title:"Mon profil"},{title:"D\xe9connexion"}],this.menu=l}return e.prototype.toggle=function(){return this.sidebarService.toggle(!0),!1},e.prototype.ngOnInit=function(){var e=this;this.profile=b.a.getUser(),this.userService.getAdminBoard().subscribe(function(n){e.board=n},function(n){e.errorMessage=n.status+": "+JSON.parse(n.error).message}),this.profile=b.a.getUser(),this.info={username:"..."},this.info.username=this.profile.loginUtilisateur,this.initForm()},e.prototype.initForm=function(){this.roleForm=this.formBuilder.group({id:"",realm:"microcap",description:"Un test",name:"tetu"})},e.prototype.logout=function(){b.a.logout()},e.prototype.addRole=function(){return i.b(this,void 0,void 0,function(){var e;return i.e(this,function(n){switch(n.label){case 0:return e=new m(this.roleForm.value),[4,this.roleManagementService.addRole(e).then(function(e){return console.log("cr\xe9ation r\xe9ussie dans le controleur"),!0}).catch(function(e){return console.log("Problem to create new Role "+JSON.stringify(e)),alert("Problem to create new Role "+JSON.stringify(e)),!1})];case 1:return n.sent(),[2]}})})},e=i.c([Object(o.n)({selector:"app-administration",template:t("VCdI"),styles:[t("TXEh")]}),i.f("design:paramtypes",[c.v,f.a,k,r.c,a.b,g,d.a])],e)}(),w=[{path:"",component:v,children:[{path:"social-network",loadChildren:"./social-network/social-network.module#SocialNetworkModule"},{path:"systeme",loadChildren:"./systeme/systeme.module#SystemeModule"},{path:"bourse-financement",loadChildren:"./bourse-financements/bourse-financements.module#BourseFinancementsModule"},{path:"exploitation",loadChildren:"./exploitation/exploitation.module#ExploitationModule"},{path:"gestion-commerciale",loadChildren:"./gestion-commerciale/gestion-commerciale.module#GestionCommercialeModule"},{path:"gestion-composants-externes",loadChildren:"./gestion-composants-externes/gestion-composants-externes.module#GestionComposantsExternesModule"},{path:"market-place",loadChildren:"./market-place/market-place.module#MarketPlaceModule"}]}],y=function(){function e(){}return e=i.c([Object(o.K)({imports:[r.d.forChild(w)],exports:[r.d]})],e)}(),x=t("wUrw");t.d(n,"AdministrationModule",function(){return C});var C=function(){function e(){}return e=i.c([Object(o.K)({declarations:[v],imports:[s.b,a.c,y,s.b,r.d,c.n,c.u,s.b,c.f,c.x,c.a,c.o,c.p,c.y,c.b,c.m,c.g,c.r,c.t,c.i.forRoot(),c.q,c.h,c.j.forRoot(),c.E.forChild(),c.s,c.D,c.e,c.c,c.w],providers:[c.v,c.F,x.a]})],e)}()},TXEh:function(e,n){e.exports=".right-menu {\n  float: left; }\n\na {\n  text-decoration: none;\n  cursor: pointer; }\n\n.logo {\n  margin-right: 3em; }\n\n.menu-item {\n  padding-right: 2em;\n  color: #333; }\n\n.menu-item:hover {\n  color: #000;\n  font-weight: bold; }\n\n/**\n * Header\n *---------------*/\n\n.admin-header {\n  width: 100%; }\n\n.admin-header, .admin-header .logo-container, .admin-header .expansion {\n    display: -webkit-box;\n    display: flex;\n    -webkit-box-align: center;\n            align-items: center; }\n\n.admin-header ::ng-deep nb-user .user-name {\n    text-transform: capitalize; }\n\n.admin-header .flex-grow {\n    -webkit-box-flex: 1;\n            flex-grow: 1; }\n\n/**\n * Main viewport\n */\n\nnb-layout-column ::ng-deep .tabset {\n  font-size: 1.1rem; }\n\nnb-layout-column ::ng-deep .tabset .tab.active a {\n    font-weight: 400; }\n\n/**\n * Fixes\n *---------------*/\n\nnb-layout-header.fixed {\n  top: 0; }\n\nnb-sidebar ::ng-deep .main-container-fixed {\n  top: 4.75rem; }\n\nnb-sidebar ::ng-deep .menu-icon {\n  margin-right: 0.25rem !important; }\n"},VCdI:function(e,n){e.exports='<nb-layout>\n  <nb-layout-header fixed>\n  \n   <div class="admin-header">\n\n      <div class="logo-container mr-2">\n        <nb-actions size="medium" class="sidebar-toggle mr-2">\n          <nb-action icon="nb-menu" class="px-0"\n           (click)="toggle()">\n          </nb-action>\n        </nb-actions>\n\n        <a [routerLink]="[\'/pfm\']">\n          <img src="../../assets/images/logomicrocap_1.png" \n            width="100" height="50" alt="" class="logo">\n        </a>\n      </div>\n\n      <div class="flex-grow"></div>\n      \n    <div class="expansion">\n    <nb-actions size="medium" class="d-flex align-center mx-4">\n    \n    \t  <a [routerLink]="[\'/home\']">\n          <img src="../../assets/images/logomicrocap_1.png" \n            width="100" height="50" alt="" class="logo">\n        </a>\n        \n    \t  <nb-action icon="nb-person"\n           nbTooltip="Ajouter un r\xf4le" nbTooltipPlacement="bottom"\n           (click)="addRole()">\n          </nb-action>\n    \t  <nb-action icon="nb-power"\n           nbTooltip="Log out" nbTooltipPlacement="bottom"\n           (click)="logout()">\n          </nb-action>\n    </nb-actions>\n      <nb-user size="large" [name]="info.username" \n      [title]="info.authorities" [nbContextMenu]="items" picture="../../assets/images/alan.png">\n      </nb-user>\n    </div>\n    </div>\n  </nb-layout-header>\n\n  <nb-sidebar>\n    <nb-menu [items]="menu" autoCollapse=true></nb-menu>\n  </nb-sidebar>\n\n  <nb-layout-column>\n    <router-outlet></router-outlet>\n  </nb-layout-column>\n  <nb-layout-footer>&copy; Microcap</nb-layout-footer>\n</nb-layout>\n'}}]);