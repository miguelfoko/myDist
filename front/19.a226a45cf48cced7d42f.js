(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"1UJ+":function(t,n,e){"use strict";e.r(n);var r=e("mrSG"),o=e("CcnG"),a=e("Ip0R"),s=e("gIcY"),i=e("Xk95"),c=e("ZYCi"),l=e("NT7v"),d=e("HBUA"),u=function(){function t(t,n){this.route=t,this.pfmComp=n}return t.prototype.ngOnInit=function(){var t=this;this.route.data.subscribe(function(n){return t.data=n}),this.data.activateMenu&&(this.pfmComp.menu=d.a)},t.ctorParameters=function(){return[{type:c.a},{type:l.a}]},t=r.c([Object(o.n)({selector:"app-bourse-financements-pfm",template:e("FSED"),styles:[e("pLvb")]}),r.f("design:paramtypes",[c.a,l.a])],t)}(),p=e("ZtdT"),f=e("7NUU"),h=e("qfBg"),b=function(){function t(t,n,e){this.userService=t,this.windowService=n,this.activeFundsService=e,this.activeFunds=[],this.pagingNonUserActiveFunds={currentPage:0,totalPages:0,defaultPageSize:10}}return t.prototype.ngOnInit=function(){var t=this;this.fetchUser();var n=setInterval(function(){t.user&&(t.fetchActiveFunds(),clearInterval(n))},300);this.bootEvaIcons()},t.prototype.bootEvaIcons=function(){var t=!1,n=0,e=setInterval(function(){document.querySelector("[data-eva]")?(p.replace(),t=!0):(t||n>7)&&clearInterval(e),n++},700);document.querySelector(".tabset").addEventListener("click",this.bootEvaIcons)},t.prototype.fetchUser=function(){return r.b(this,void 0,void 0,function(){var t=this;return r.e(this,function(n){switch(n.label){case 0:return[4,this.userService.getCurrentUser().then(function(n){t.user=n}).catch(function(t){console.error(t)})];case 1:return n.sent(),[2]}})})},t.prototype.fetchActiveFunds=function(){return r.b(this,void 0,void 0,function(){var t=this;return r.e(this,function(n){switch(n.label){case 0:return[4,this.activeFundsService.fetchAllActiveFunds().then(function(n){t.activeFunds=n.content,t.pagingNonUserActiveFunds.totalPages=Math.ceil(t.nonUserActiveFunds().length/t.pagingNonUserActiveFunds.defaultPageSize)}).catch(function(t){console.error(t)})];case 1:return n.sent(),[2]}})})},t.prototype.userHasActiveFunds=function(){if(this.activeFunds)for(var t=0,n=this.activeFunds;t<n.length;t++){if(n[t].utilisateur.idUtilisateur===this.user.idUtilisateur)return!0}return!1},t.prototype.userActiveFunds=function(){var t=this;return this.activeFunds.filter(function(n){return n.utilisateur.idUtilisateur===t.user.idUtilisateur})},t.prototype.nonUserActiveFunds=function(){var t=this;return this.activeFunds.filter(function(n){return n.utilisateur.idUtilisateur!==t.user.idUtilisateur})},t.prototype.loadNonUserActiveFundsPage=function(t){this.pagingNonUserActiveFunds.currentPage=t},t.prototype.refreshActiveFunds=function(){this.loadNonUserActiveFundsPage(0),this.fetchActiveFunds()},t.prototype.openAddActiveFundWindow=function(){},t.prototype.formatDate=function(t){return new Date(t).toLocaleString()},t.prototype.arrayRange=function(t){return Array.from(Array(t).keys())},t.prototype.currentUserId=function(){return this.user.idUtilisateur},t.ctorParameters=function(){return[{type:h.a},{type:i.W},{type:f.a}]},t=r.c([Object(o.n)({selector:"app-artefacts",template:e("GjXy"),styles:[e("iRsu")]}),r.f("design:paramtypes",[h.a,i.W,f.a])],t)}(),v=e("AytR"),m=e("t/Na"),g={headers:new m.e({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})},y=function(){function t(t){this.http=t,this.urlActifFA=v.a.serverEndpoint+"/funding/actifs",this.urlUserFA=v.a.serverEndpoint+"/funding/utilisateurs"}return t.prototype.fetchUserActifs=function(t){return this.http.get(this.urlUserFA+"/"+t.idUtilisateur+"/actifs",g).toPromise()},t.prototype.fetchOffersOfActif=function(t){return this.http.get(this.urlActifFA+"/"+t.id+"/offres",g).toPromise()},t.prototype.fetchUserAccount=function(t){return this.http.get(this.urlUserFA+"/"+t.idUtilisateur+"/compte",g).toPromise()},t.ctorParameters=function(){return[{type:m.b}]},t=r.c([Object(o.D)({providedIn:"root"}),r.f("design:paramtypes",[m.b])],t)}(),w=function(){function t(t,n){this.userService=t,this.financialActivity=n,this.showActifTable=!0,this.showOffresTable=!1,this.showReturnButton=!1,this.showMouvementButton=!1}return t.prototype.ngOnInit=function(){this.fetchUser()},t.prototype.fetchUser=function(){return r.b(this,void 0,void 0,function(){var t=this;return r.e(this,function(n){switch(n.label){case 0:return[4,this.userService.getCurrentUser().then(function(n){t.user=n,t.fetchUserActifs(t.user),t.fetchUserAccount(t.user)}).catch(function(t){console.error(t)})];case 1:return n.sent(),[2]}})})},t.prototype.fetchUserActifs=function(t){return r.b(this,void 0,void 0,function(){var n=this;return r.e(this,function(e){switch(e.label){case 0:return[4,this.financialActivity.fetchUserActifs(t).then(function(t){n.actifs=t}).catch(function(t){console.log("Une erreur estr survenu")})];case 1:return e.sent(),[2]}})})},t.prototype.fetchActifOffers=function(t){return r.b(this,void 0,void 0,function(){var n=this;return r.e(this,function(e){switch(e.label){case 0:return[4,this.financialActivity.fetchOffersOfActif(t).then(function(t){n.offers=t,n.onOneList(!1,!0,!0,!1)}).catch(function(t){console.log("Une erreur est survenu")})];case 1:return e.sent(),[2]}})})},t.prototype.fetchUserAccount=function(t){return r.b(this,void 0,void 0,function(){var n=this;return r.e(this,function(e){switch(e.label){case 0:return[4,this.financialActivity.fetchUserAccount(t).then(function(t){n.account=t,n.mouvements=t.mouvements}).catch(function(t){console.log("Une erreur est survenue")})];case 1:return e.sent(),[2]}})})},t.prototype.onOneList=function(t,n,e,r){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===e&&(e=!0),void 0===r&&(r=!1),this.showActifTable=t,this.showOffresTable=n,this.showReturnButton=e,this.showMouvementButton=r},t.prototype.formatDate=function(t){return new Date(t).toLocaleString()},t.prototype.arrayRange=function(t){return Array.from(Array(t).keys())},t.prototype.currentUserId=function(){return this.user.idUtilisateur},t.ctorParameters=function(){return[{type:h.a},{type:y}]},t=r.c([Object(o.n)({selector:"app-financial-activities",template:e("xrp+"),styles:[e("PHg/")]}),r.f("design:paramtypes",[h.a,y])],t)}(),x=function(){function t(){}return t.prototype.ngOnInit=function(){},t=r.c([Object(o.n)({selector:"app-autres",template:e("mbkk"),styles:[e("BHxV")]}),r.f("design:paramtypes",[])],t)}(),A=e("Tj/N"),F=function(){function t(t){return Object.assign(this,t)}return t.ctorParameters=function(){return[{type:void 0}]},t}(),B=function(){function t(t,n,e,r,o,a,s){void 0===o&&(o=null),this.idTransaction=o,this.amount=t,this.currency=n,this.date=e,this.token=r,this.utilisateur=a,this.compte=s}return t.ctorParameters=function(){return[{type:Number},{type:String},{type:Number},{type:String},null,{type:A.a},{type:F}]},t}(),U=function(){function t(t,n){this.formBuilder=t,this.userService=n,this.isSend=!1,this.message="",this.status="success",this.isSendBG=!1,this.messageBG="",this.statusBG="success",this.loading=!1}return t.prototype.ngOnInit=function(){this.initForm(),this.initFormBG(),this.getUser(),this.loadStripe()},t.prototype.initForm=function(){this.depositForm=this.formBuilder.group({cardNumber:["",s.i.required],expMonth:["",s.i.required],expYear:["",s.i.required],cvc:["",s.i.required],amount:["",s.i.required]})},t.prototype.initFormBG=function(){this.bgForm=this.formBuilder.group({numberBG:["",s.i.required],cost:[""]})},Object.defineProperty(t.prototype,"form",{get:function(){return this.depositForm.controls},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formBG",{get:function(){return this.bgForm.controls},enumerable:!0,configurable:!0}),t.prototype.onClose=function(){this.isSend=!1,this.isSendBG=!1},t.prototype.getUser=function(){return r.b(this,void 0,void 0,function(){var t=this;return r.e(this,function(n){switch(n.label){case 0:return[4,this.userService.getCurrentUser().then(function(n){return t.user=n,t.getAccount(),!0}).catch(function(t){return alert("Problem to get User from database "),!1})];case 1:return n.sent(),[2]}})})},t.prototype.getAccount=function(){return r.b(this,void 0,void 0,function(){var t=this;return r.e(this,function(n){switch(n.label){case 0:return[4,this.userService.getCurrentAccount(this.user.idUtilisateur).then(function(n){return t.compte=n,!0}).catch(function(t){return alert("Problem to get compte from database "),!1})];case 1:return n.sent(),[2]}})})},t.prototype.onChange=function(t){this.formBG.cost.setValue(2e3*parseInt(this.formBG.numberBG.value+0)+" Euro")},t.prototype.onSubmitBG=function(){var t=this,n=parseInt(this.formBG.numberBG.value+0);if(this.loading=!0,n<1)return this.isSendBG=!0,this.statusBG="danger",this.messageBG="Le nombre de BG doit etre superieure a 0",void(this.loading=!1);if(2e3*parseInt(this.formBG.numberBG.value+0)>this.compte.solde)return this.isSendBG=!0,this.statusBG="danger",this.messageBG="Le solde de votre compte est insuffisant pour cette operation",void(this.loading=!1);var e=new B(2e3*parseInt(this.formBG.numberBG.value+0),"XAF",this.dateToTimestamp(new Date),n+"",null,this.user,this.compte);this.userService.achatBG(e).subscribe(function(e){t.isSendBG=!0,t.statusBG="success",t.messageBG="L'achat de "+n+" BG s'est deroule avec succes",t.compte=e,t.loading=!1},function(n){t.isSendBG=!0,t.statusBG="danger",t.messageBG="Une erreur s'est produite, veuillez reesayer",t.loading=!1})},t.prototype.onSubmit=function(){var t=this;return this.loading=!0,window.Stripe?this.depositForm.invalid?(this.isSend=!0,this.status="danger",this.message="Veuillez bien remplir le formulaire",void(this.loading=!1)):window.Stripe?void window.Stripe.card.createToken({number:this.form.cardNumber.value,exp_month:this.form.expMonth.value,exp_year:this.form.expYear.value,cvc:this.form.cvc.value},function(n,e){if(200===n){var r=new B(t.form.amount.value,"EUR",t.dateToTimestamp(new Date),e.id,null,t.user,t.compte);t.userService.rechargeCompte(r).subscribe(function(n){t.isSend=!0,t.status="success",t.message="La recharge s'est deroulee avec succes",t.compte=n,t.loading=!1},function(n){t.isSend=!0,t.status="danger",t.message="Une erreur s'est produite, veuillez reesayer",t.loading=!1})}else t.isSend=!0,t.status="danger",t.message=e.error.message,t.loading=!1}):(alert("Oops! Stripe did not initialize properly."),void(this.loading=!1)):(alert("Oops! Stripe did not initialize properly."),void(this.loading=!1))},t.prototype.loadStripe=function(){if(!window.document.getElementById("stripe-custom-form-script")){var t=window.document.createElement("script");t.id="stripe-custom-form-script",t.type="text/javascript",t.src="https://js.stripe.com/v2/",t.onload=function(){window.Stripe.setPublishableKey("pk_test_zdiMBJWM4BEHKUooRvv0Hsb100Py1VniNT")},window.document.body.appendChild(t)}},t.prototype.dateToTimestamp=function(t){return t.getTime()},t.prototype.formatDate=function(t){return new Date(t).toLocaleString()},t.ctorParameters=function(){return[{type:s.b},{type:h.a}]},t=r.c([Object(o.n)({selector:"app-recharge",template:e("hcRY"),styles:[e("B1Ho")]}),r.f("design:paramtypes",[s.b,h.a])],t)}(),S=[{path:"",component:u,children:[{path:"financial-activities",component:w},{path:"artefacts",component:b},{path:"autres",component:x},{path:"recharge-compte",component:U},{path:"achat-bg",component:x}]}],k=function(){function t(){}return t=r.c([Object(o.M)({imports:[c.e.forChild(S)],exports:[c.e]})],t)}(),G=e("xkgV");e.d(n,"BourseFinancementsPfmModule",function(){return P});var P=function(){function t(){}return t=r.c([Object(o.M)({declarations:[u,w,b,x,U],imports:[a.b,i.M,i.l,i.g,i.z,i.U,i.k,i.j,i.h,i.t,i.x,i.R,i.m,i.J,G.a,s.h,k]})],t)}()},B1Ho:function(t,n){t.exports="form {\n  padding-top: 2rem;\n  padding-bottom: 1rem;\n  max-width: 700px;\n  margin: auto; }\n  form .field {\n    margin-bottom: 2rem; }\n  form .field label {\n      font-size: 90%;\n      display: block; }\n  form .field .control, form .field .control input {\n      width: 100%; }\n  form .field nb-select ::ng-deep [nbButton] {\n      height: 46px;\n      border-color: #dadfe6;\n      text-transform: capitalize; }\n  .modalField {\n  margin-bottom: 30px; }\n  .consult-wrapper .options .filter {\n  font-size: 90%;\n  border-radius: 5px;\n  border: 1px solid #ebeff5; }\n  .consult-wrapper .options .filter, .consult-wrapper .options .filter * {\n    display: flex;\n    align-items: center; }\n  .consult-wrapper .options .filter nb-checkbox ::ng-deep label {\n    padding: 0; }\n  .consult-wrapper .options .filter nb-checkbox ::ng-deep .customised-control-description {\n    display: none; }\n  .consult-wrapper .data {\n  font-size: 85%; }\n  .consult-wrapper .data tr:hover {\n    background-color: #f8fafd; }\n  .consult-wrapper .data thead tr:hover {\n    background-color: transparent; }\n  .consult-wrapper .data th, .consult-wrapper .data td {\n    vertical-align: middle; }\n  .consult-wrapper .data .pagination-wrapper {\n    max-width: 100%; }\n  .consult-wrapper .data .pagination-wrapper .page-item .page-link:hover {\n      background-color: #f8fafd; }\n  .consult-wrapper .data .pagination-wrapper .page-item.active .page-link {\n      border-color: #3dcc6d;\n      background-color: #3dcc6d; }\n  .consult-wrapper .options .btn-secondary, .consult-wrapper .data .actions .btn-secondary {\n  cursor: pointer; }\n  .consult-wrapper .options .btn-secondary:hover, .consult-wrapper .data .actions .btn-secondary:hover {\n    color: #ffffff;\n    background-color: #40dc7e; }\n  .bottom {\n  margin-bottom: 20px; }\n"},BHxV:function(t,n){t.exports=""},FSED:function(t,n){t.exports="<router-outlet></router-outlet> \n"},GjXy:function(t,n){t.exports='<div class="row">\n  <div class="col">\n    <nb-card>\n      <nb-card-body>        \n        <nb-tabset>\n\n          \x3c!-- Fonds --\x3e\n          <nb-tab tabTitle="Fonds" tabIcon="nb-bar-chart">\n            <div class="consult-wrapper mt-4 px-4">\n            \n              <div class="user-active-funds mb-4 mt-4" *ngIf="userHasActiveFunds()">\n                <div class="options d-flex align-center mb-4">\n\n                  <div class="title py-2 mr-2">\n                    Fonds actifs affili\xe9s\n                    <button nbButton size="xsmall" shape="round" status="success" class="font-weight-bold"\n                     (click)="openAddActiveFundWindow()">\n                      <i data-eva="plus-circle" data-eva-fill="#fff" class="mr-1" data-eva-height="15" data-eva-width="15"></i>\n                      Cr\xe9er un fonds actif\n                    </button>\n                  </div>\n\n                  <div class="ml-auto">\n                    <button nbButton class="btn-secondary" size="xsmall" shape="round"\n                      (click)="refreshActiveFunds()">\n                      Rafra\xeechir\n                    </button>\n                  </div>               \n                  \n                </div>\n\n                <div class="data table-responsive">\n                  <table class="table table-hover table-bordered">\n                    \n                    <thead>\n                      <tr>\n                        <th scope="col">#</th>\n                        <th scope="col">Nom</th>\n                        <th scope="col">Date de cr\xe9ation</th>\n                        <th scope="col">Actions</th>\n                      </tr>\n                    </thead>\n\n                    <tbody >\n                      <ng-container *ngFor="let el of userActiveFunds()">\n\n                        <tr>\n                          <th scope="row">{{ el.idFondsActif }}</th>\n                          <td>{{ el.nom }}</td>\n                          <td>{{ formatDate(el.dateCreation) }}</td>\n\n                          <td class="actions text-center">\n                            <a nbButton size="xsmall" shape="round" status="danger" class="">\n                              <i data-eva="trash" data-eva-fill="#fff" class="mr-1" data-eva-height="15" data-eva-width="15"></i>\n                              Supprimer\n                            </a>\n                          </td>\n                        </tr>\n                        \n                      </ng-container>\n                    </tbody>\n                  </table>\n\n                </div>\n              </div>\n\n              <div class="active-funds mb-4">\n                  <div class="options d-flex align-center mb-4">\n  \n                    <div class="title py-2">\n                      Fonds actifs disponibles\n                    </div>\n  \n                    <div class="ml-auto">\n                      <button nbButton class="btn-secondary" size="xsmall" shape="round"\n                        (click)="refreshActiveFunds()">\n                        Rafra\xeechir\n                      </button>\n                    </div>               \n                    \n                  </div>\n  \n                  <div class="data table-responsive">\n                    <table class="table table-hover table-bordered">\n                      \n                      <thead>\n                        <tr>\n                          <th scope="col">#</th>\n                          <th scope="col">Nom</th>\n                          <th scope="col">Cr\xe9ateur</th>\n                          <th scope="col">Date de cr\xe9ation</th>\n                          <th scope="col">Actions</th>\n                        </tr>\n                      </thead>\n  \n                      <tbody >\n                        <ng-container *ngFor="let el of nonUserActiveFunds() | paginate: { itemsPerPage: pagingNonUserActiveFunds.defaultPageSize, currentPage: pagingNonUserActiveFunds.currentPage + 1 }">\n  \n                          <tr>\n                            <th scope="row">{{ el.idFondsActif }}</th>\n                            <td>{{ el.nom }}</td>\n                            <td>{{ el.utilisateur.prenomUtilisateur }} {{ el.utilisateur.nomUtilisateur }}</td>\n                            <td>{{ formatDate(el.dateCreation) }}</td>\n  \n                            <td class="actions text-center">\n                              <a nbButton size="xsmall" shape="round" class="btn-secondary">\n                                Souscrire\n                              </a>\n                            </td>\n                          </tr>\n                          \n                        </ng-container>\n                      </tbody>\n                    </table>\n\n                    <nav class="pagination-wrapper d-flex justify-content-around py-3">\n                      <ul class="pagination mb-0 pl-0">\n                        <li class="page-item" [ngClass]="{disabled: pagingNonUserActiveFunds.currentPage <= 0}">\n                          <a class="page-link" (click)="loadNonUserActiveFundsPage(pagingNonUserActiveFunds.currentPage - 1)" aria-label="Previous">\n                            <span aria-hidden="true">&laquo;</span>\n                            <span class="sr-only">Previous</span>\n                          </a>\n                        </li>\n    \n                        <li *ngFor="let page of arrayRange(pagingNonUserActiveFunds.totalPages)"\n                          class="page-item" [ngClass]="{active: pagingNonUserActiveFunds.currentPage == page}">\n                          <a class="page-link" (click)="loadNonUserActiveFundsPage(page)">{{ page + 1 }}</a>\n                        </li>\n    \n                        <li class="page-item" [ngClass]="{disabled: pagingNonUserActiveFunds.currentPage >= pagingNonUserActiveFunds.totalPages - 1}">\n                          <a class="page-link" (click)="loadNonUserActiveFundsPage(pagingNonUserActiveFunds.currentPage + 1)" aria-label="Next">\n                            <span aria-hidden="true">&raquo;</span>\n                            <span class="sr-only">Next</span>\n                          </a>\n                        </li>\n                      </ul>\n                    </nav>\n  \n                  </div>\n                </div>\n\n            </div>\n\n            <div class="modals">\n              \x3c!-- <app-add-active-fund #addActiveFundModal></app-add-active-fund> --\x3e\n            </div>\n          </nb-tab>\n\n        </nb-tabset>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n      '},"PHg/":function(t,n){t.exports=".consult-wrapper .options .filter {\n  border-radius: 5px;\n  border: 1px solid #ebeff5; }\n  .consult-wrapper .options .filter, .consult-wrapper .options .filter * {\n    display: flex;\n    align-items: center; }\n  .consult-wrapper .options .title {\n  font-weight: 500;\n  font-size: 1.5rem; }\n  .consult-wrapper .data {\n  font-size: 85%; }\n  .consult-wrapper .data tr:hover {\n    background-color: #f8fafd; }\n  .consult-wrapper .data thead tr:hover {\n    background-color: transparent; }\n  .consult-wrapper .data th, .consult-wrapper .data td {\n    vertical-align: middle; }\n  .consult-wrapper .data .pagination-wrapper {\n    max-width: 100%; }\n  .consult-wrapper .data .pagination-wrapper .page-item .page-link:hover {\n      background-color: #f8fafd; }\n  .consult-wrapper .data .pagination-wrapper .page-item.active .page-link {\n      border-color: #3dcc6d;\n      background-color: #3dcc6d; }\n  .consult-wrapper .options .btn-secondary, .consult-wrapper .data .actions .btn-secondary {\n  cursor: pointer; }\n  .consult-wrapper .options .btn-secondary:hover, .consult-wrapper .data .actions .btn-secondary:hover {\n    color: #ffffff;\n    background-color: #40dc7e; }\n"},hcRY:function(t,n){t.exports='<div class="row">\n  <div class="col">\n    <nb-card>\n      <nb-card-body>        \n        <nb-tabset fullWidth>\n\n          \x3c!-- Cr\xe9er une communaut\xe9 --\x3e\n          <nb-tab tabTitle="Recharge de compte" tabIcon="nb-loop">\n            <form [formGroup]="depositForm" (ngSubmit)="onSubmit()">\n              \n              <div class="row">\n                <nb-alert class="bottom col-md-12" status="{{ status }}" *ngIf="isSend" fullWidth closable (close)="onClose()">\n                  {{ message }}\n                </nb-alert>\n                <div class="field col-md-12">\n                  <label>Numero de la carte </label>\n                  <div class="control">\n                    <input type="text" formControlName="cardNumber" nbInput>\n                  </div>\n                </div>\n                <div class="field col-md-12">\n                  <label>Mois d\'expiration </label>\n                  <div class="control">\n                    <input type="text" formControlName="expMonth" nbInput>\n                  </div>\n                </div>\n                <div class="field col-md-12">\n                  <label>Annee d\'expiration </label>\n                  <div class="control">\n                    <input type="text" formControlName="expYear" nbInput>\n                  </div>\n                </div>\n                <div class="field col-md-12">\n                  <label>Code de validation </label>\n                  <div class="control">\n                    <input type="text" formControlName="cvc" nbInput>\n                  </div>\n                </div>\n                <div class="field col-md-12">\n                  <label>Montant de la recharge (Euro) </label>\n                  <div class="control">\n                    <input type="text" formControlName="amount" nbInput>\n                  </div>\n                </div>\n              </div>\n              <button status="success" [disabled]="loading" type="submit" fullWidth nbButton>\n                Recharger\n                <img *ngIf="loading" src="assets/images/loader.gif" width="20px;" class="text-center" style="text-align: center;">\n              </button>\n\n            </form>\n          </nb-tab>\n\n          <nb-tab tabTitle="Achat des BGs" tabIcon="nb-lightbulb">\n            <form [formGroup]="bgForm" (ngSubmit)="onSubmitBG()">\n              \n              <div class="row">\n                <nb-alert class="bottom col-md-12" status="{{ statusBG }}" *ngIf="isSendBG" fullWidth closable (close)="onClose()">\n                  {{ messageBG }}\n                </nb-alert>\n                <div class="field col-md-12">\n                  <label>Le solde de votre compte est de: {{ compte != null ? compte.solde : \'0\' }} Euro</label>\n                </div>\n                <div class="field col-md-12">\n                  <label>Nombre de BGs \xe0 acheter </label>\n                  <div class="control">\n                    <input type="number" formControlName="numberBG" nbInput (keyup)="onChange($event)" min="1">\n                  </div>\n                </div>\n                <div class="field col-md-12">\n                  <label>Cout de l\'op\xe9ration </label>\n                  <div class="control">\n                    <input type="text" disabled formControlName="cost" nbInput>\n                  </div>\n                </div>\n              </div>\n              <button status="success" type="submit" [disabled]="loading" fullWidth nbButton>\n                Acheter\n                <img *ngIf="loading" src="assets/images/loader.gif" width="20px;" class="text-center" style="text-align: center;">\n              </button>\n\n            </form>\n          </nb-tab>\n\n        </nb-tabset>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n    '},iRsu:function(t,n){t.exports=".consult-wrapper .options .filter {\n  border-radius: 5px;\n  border: 1px solid #ebeff5; }\n  .consult-wrapper .options .filter, .consult-wrapper .options .filter * {\n    display: flex;\n    align-items: center; }\n  .consult-wrapper .options .title {\n  font-weight: 500;\n  font-size: 1.5rem; }\n  .consult-wrapper .data {\n  font-size: 85%; }\n  .consult-wrapper .data tr:hover {\n    background-color: #f8fafd; }\n  .consult-wrapper .data thead tr:hover {\n    background-color: transparent; }\n  .consult-wrapper .data th, .consult-wrapper .data td {\n    vertical-align: middle; }\n  .consult-wrapper .data .pagination-wrapper {\n    max-width: 100%; }\n  .consult-wrapper .data .pagination-wrapper .page-item .page-link:hover {\n      background-color: #f8fafd; }\n  .consult-wrapper .data .pagination-wrapper .page-item.active .page-link {\n      border-color: #3dcc6d;\n      background-color: #3dcc6d; }\n  .consult-wrapper .options .btn-secondary, .consult-wrapper .data .actions .btn-secondary {\n  cursor: pointer; }\n  .consult-wrapper .options .btn-secondary:hover, .consult-wrapper .data .actions .btn-secondary:hover {\n    color: #ffffff;\n    background-color: #40dc7e; }\n"},mbkk:function(t,n){t.exports="<p>\n Autres  (comming soon !)\n</p>\n"},pLvb:function(t,n){t.exports=""},"xrp+":function(t,n){t.exports='<div class="row">\n  <div class="col">\n    <nb-card>\n      <nb-card-body>        \n        <nb-tabset>\n\n          \x3c!-- Fonds --\x3e\n          <nb-tab tabTitle="Actifs" tabIcon="nb-bar-chart">\n            <div class="consult-wrapper mt-4 px-4">\n            \n              <div class="user-active-funds mb-4 mt-4">\n                <div class="options d-flex align-center mb-4">\n\n                  <div class="title py-2">\n                    Mon solde : <em>{{ account != null ? account.solde + \' Euro\' : "en cours ..." }}</em>\n                  </div>\n\n                  <div class="ml-auto">\n                    <button *ngIf=" !showMouvementButton " nbButton class="btn-secondary" size="xsmall" shape="round" (click)="onOneList(false, false, true, true)"> \n                      Bulletin de compte\n                    </button>\n\n                    <button *ngIf=" showReturnButton " nbButton class="btn-secondary" size="xsmall" shape="round" (click)="onOneList(true, false, false, false)"> \n                      Revenir\n                    </button>\n\n                    <button nbButton class="btn-secondary" size="xsmall" shape="round" (click)="fetchUser()"> \n                      Rafra\xeechir\n                    </button>\n                  </div>               \n                  \n                </div>\n\n                <div class="data table-responsive" *ngIf=" showMouvementButton ">\n                    <table class="table table-hover table-bordered">\n                      \n                      <thead>\n                        <tr>\n                          <th scope="col">#</th>\n                          <th>Solde Avant Op\xe9ration</th>\n                          <th>Solde Apr\xe8s Op\xe9ration</th>\n                          <th>R\xe9f\xe9rence</th>\n                          <th>Date Op\xe9ration</th>\n                          <th>Montant</th>\n                          <th>type</th>\n                        </tr>\n                      </thead>\n  \n                      <tbody >\n                        <ng-container *ngFor="let mvt of mouvements">\n  \n                          <tr>\n                            <th scope="row">{{ mvt.idMouvement }}</th>\n                            <th scope="row">{{ mvt.soldeAvantOperation }}</th>\n                            <th scope="row">{{ mvt.soldeApresOperation }}</th>\n                            <th scope="row">{{ mvt.reference }}</th>\n                            <th scope="row">{{ mvt.dateOperation }}</th>\n                            <th scope="row">{{ mvt.montant }}</th>\n                            <th scope="row">{{ mvt.type }}</th>\n                          </tr>\n                          \n                        </ng-container>\n                      </tbody>\n                    </table>\n                  </div>\n\n                <div class="data table-responsive" *ngIf=" showActifTable ">\n                  <table class="table table-hover table-bordered">\n                    \n                    <thead>\n                      <tr>\n                        <th scope="col">#</th>\n                        <th scope="col">Etat</th>\n                        <th scope="col">Date de cr\xe9ation(Actif)</th>\n                        <th scope="col">Actions</th>\n                      </tr>\n                    </thead>\n\n                    <tbody >\n                      <ng-container *ngFor="let el of actifs">\n\n                        <tr>\n                          <th scope="row">{{ el.idActif }}</th>\n                          <td>{{ el.nanti ? "Bloqu\xe9" : "Libre" }}</td>\n                          <td>{{ formatDate(el.dateCreation) }}</td>\n                          <td class="actions text-center">\n                            <a nbButton size="xsmall" shape="round" status="danger" class="" (click)="fetchActifOffers(el)">\n                              <i data-eva="trash" data-eva-fill="#fff" class="mr-1" data-eva-height="15" data-eva-width="15"></i>\n                              Offres\n                            </a>\n                          </td>\n                        </tr>\n                        \n                      </ng-container>\n                    </tbody>\n                  </table>\n                </div>\n\n                \x3c!-- tables des offres de chaque actif --\x3e\n                <div class="data table-responsive" *ngIf=" showOffresTable ">\n                  <table class="table table-hover table-bordered">\n                    <thead>\n                      <tr>\n                        <th scope="col">#</th>\n                        <th scope="col">Date d\'\xe9mission</th>\n                        <th scope="col">Date de cloture</th>\n                        <th scope="col">Montant</th>\n                        <th scope="col">R\xe9mun\xe9ration</th>\n                        <th scope="col">Secable</th>\n                        <th scope="col">Extensible</th>\n                        <th scope="col">Actions</th>\n                      </tr>\n                    </thead>\n  \n                    <tbody>\n                      <ng-container *ngFor="let offer of offers">\n  \n                        <tr>\n                          <th scope="row">{{ offer.idOffreFinancement }}</th>\n                          <td>{{ formatDate(offer.dateEmission) }}</td>\n                          <td>{{ formatDate(offer.dateCloture) }}</td>\n                          <td class="text-right">{{ offer.montant.toLocaleString(\'fr\') }}</td>\n                          <td class="text-right">{{ offer.remuneration.toLocaleString(\'fr\') }}</td>\n                          <td>{{ offer.secable ? \'Oui\' : \'Non\' }}</td>\n                          <td>{{ offer.extensible ? \'Oui\' : \'Non\' }}</td>\n  \n                          <td class="actions text-center">\n                            <a nbButton class="btn-secondary" size="xsmall" shape="round" [routerLink]="[\'/pfm/funding/couverture\', offer.idOffreFinancement]">\n                              Couvertures\n                            </a>\n                          </td>\n  \n                        </tr>\n                        \n                      </ng-container>\n                    </tbody>\n                  </table>\n                </div>\n\n              </div>\n            </div>\n          </nb-tab>\n\n        </nb-tabset>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n      '}}]);