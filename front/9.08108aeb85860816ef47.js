(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"+9p+":function(n,t){n.exports='<nb-card status="success" class="dialog-box">\n    <nb-card-header>Ajout d\'un d\xe9tail de partenariat</nb-card-header>\n    <nb-card-body>\n      <div class="row">\n          <div class="col-md-12">\n            <div class="input-group">\n              <label>Propri\xe9t\xe9 *</label>\n              <input #label nbInput fullWidth placeholder="Propri\xe9t\xe9">\n            </div>\n            <div class="input-group">\n                <label>Code </label>\n              <input #name nbInput fullWidth placeholder="Code (facultatif)">\n            </div>\n            <div class="input-group">\n              <label>Valeur *</label>\n              <input #valeur nbInput fullWidth placeholder="Valeur de la propri\xe9t\xe9">\n            </div>    \n          </div>\n      </div>\n    </nb-card-body>\n    <nb-card-footer class="card-footer">\n      <button (click)="submit(label.value, name.value, valeur.value)" nbButton size="xsmall" status="success"> Valider</button>\n      <button (click)="cancel()" nbButton size="xsmall" outline status="success"> Annuler</button>\n    </nb-card-footer>\n  </nb-card>'},"4GRg":function(n,t){n.exports=""},"5rOX":function(n,t){n.exports='<div class="row admin-communaute">\n  <div class="col">\n    <nb-card>\n      <nb-card-body>        \n        <nb-tabset fullWidth>\n\n          \x3c!-- Cr\xe9er une communaut\xe9 --\x3e\n          <nb-tab tabTitle="Cr\xe9er une communaut\xe9" tabIcon="nb-plus">\n            <form [formGroup]="form" (ngSubmit)="onSubmit()">\n              \n              <div class="row mt-1 create-communaute-container">\n                <nb-alert class="bottom col-md-12" status="{{ status }}" *ngIf="isSend" fullWidth closable (close)="onClose()">\n                  {{ messageCreation }}\n                </nb-alert>\n\n                <div class="field col-md-7">\n                  <label>Nom de la communaut\xe9</label>\n                  <div class="control">\n                    <input type="text" formControlName="nom" fullWidth placeholder="Saisir le nom de la communaut\xe9 conventionn\xe9e" nbInput>\n                  </div>\n                </div>\n\n                <div class="field col-md-5" >\n                  <label>Op\xe9rateur Microcap</label>\n                  <div class="control">\n                    <nb-select formControlName="operateurMicrocap" outline status="success">\n                      <nb-option *ngFor="let user of microcapOperators" [value]="user" class="text-capitalize">\n                        {{ user.prenomUtilisateur }} {{ user.nomUtilisateur }}\n                      </nb-option>\n                    </nb-select>\n                  </div>\n                </div>\n\n              </div>\n              <button status="success" type="submit" fullWidth nbButton>\n                Valider\n              </button>\n\n            </form>\n          </nb-tab>\n\n          <nb-tab tabTitle="Communaut\xe9s" tabIcon="nb-list">\n            <div class="consult-wrapper mt-4 px-4">\n            \n              <div class="options d-flex align-center mb-4">\n\n                <div class="filter p-2">\n                  <span class="mr-2">Filtrer mes communaut\xe9s</span>\n                  <nb-checkbox status="success"\n                   (change)="filter($event)">\n                  </nb-checkbox>\n                </div>\n\n                <div class="filter p-2" *ngIf=" !showMyCommunities " title="Revenir">\n                  <nb-actions size="medium" class="sidebar-toggle mr-2">\n                    <nb-action icon="nb-angle-double-left" class="px-0"\n                    (click)="goBackToCommunaute()">\n                    </nb-action>\n                  </nb-actions>\n                </div>\n                             \n                \n              </div>\n              \x3c!-- affiche les communautes d\'un utilisateur --\x3e\n              <div class="data table-responsive" *ngIf=" showMyCommunities ">\n                <table class="table table-hover table-bordered">\n                  \n                  <thead>\n                    <tr>\n                      <th scope="col" class="text-center">#</th>\n                      <th scope="col">Nom de communaut\xe9</th>\n                      <th scope="col">Cr\xe9ateur</th>\n                      <th scope="col">Date de cr\xe9ation</th>\n                      <th scope="col">Type de communaut\xe9</th>\n                      <th scope="col">Actions</th>\n                    </tr>\n                  </thead>\n\n                  <tbody>\n                      <ng-container *ngFor="let community of allCommunities">\n                        <tr *ngIf="!showCommunities && isMine(community)">\n                          <th class="text-center" scope="row">{{ community.idCommunaute }}</th>\n                          <td class="">{{ community.nom }}</td>\n                          <td class="">{{ community.utilisateur.nomUtilisateur }} {{ community.utilisateur.prenomUtilisateur }}</td>\n                          <td class="">{{ formatDate(community.dateCreation) }}</td>\n                          <td class="">{{ community.type == \'NON CONVENTIONNEE\' ?  \'Non conventionn\xe9e\' : \'Conventionn\xe9e\'}}</td>\n                          <td class="actions text-center">\n                            <button nbButton size="xsmall" (click)="openContrats(community)"\n                             *ngIf="isMine(community)" status="success" class="px-3">\n                             Contrats\n                            </button>\n                            <button nbButton size="xsmall" (click)="openNetworks(community)"\n                             *ngIf="isMine(community)" status="warning" class="px-3">\n                             R\xe9seaux\n                            </button>\n                            <button nbButton size="xsmall" (click)="deleteCommunity(community)"\n                             *ngIf="isMine(community)" status="danger" class="px-3">\n                             Supprimer\n                            </button>\n                        </td>\n                     </tr>\n                    </ng-container>\n\n                    <ng-container *ngFor="let community of allCommunities">\n\n                      <tr  *ngIf=" showCommunities ">\n                        <th class="text-center" scope="row">{{ community.idCommunaute }}</th>\n                        <td class="">{{ community.nom }}</td>\n                        <td class="">{{ community.utilisateur.nomUtilisateur }} {{ community.utilisateur.prenomUtilisateur }}</td>\n                        <td class="">{{ formatDate(community.dateCreation) }}</td>\n                        <td class="">{{ community.type == \'NON CONVENTIONNEE\' ?  \'Non conventionn\xe9e\' : \'Conventionn\xe9e\'}}</td>\n\n                        <td class="actions text-center d-flex justify-content-around">\n                          <button nbButton size="xsmall" (click)="openContrats(community)"\n                           *ngIf="isMine(community)" status="success" class="px-3">\n                            <span class="text">Contrats</span>\n                          </button>\n                          <button nbButton size="xsmall" (click)="openNetworks(community)" \n                           *ngIf="isMine(community)" status="warning" class="px-3">\n                            <span class="text">R\xe9seaux</span>\n                          </button>\n                          <button nbButton size="xsmall" *ngIf="!isMine(community)" status="success" class="px-3">\n                            <span class="text">Connecter</span>\n                          </button>\n                          <button nbButton size="xsmall" *ngIf="!isMine(community)" status="danger" class="px-3">\n                            <span class="text">Quitter</span>\n                          </button>\n                        </td>\n\n                      </tr>\n                      \n                    </ng-container>\n                  </tbody>\n                </table>\n              </div>\n              \x3c!-- fin de l\'affiche les communautes d\'un utilisateur --\x3e\n\n\n              \x3c!-- affiche les contrats d\'un utilisateur avec les autres --\x3e\n              <div class="data table-responsive" *ngIf=" showMyContrats ">\n                <span>Membres de la communaut\xe9</span>\n                <table class="table table-hover table-bordered">\n                  \n                  <thead>\n                    <tr>\n                      <th scope="col">#</th>\n                      <th scope="col">Nom complet</th>\n                      <th scope="col">Date de cr\xe9ation du contrat</th>\n                      <th scope="col">Actions</th>\n                    </tr>\n                  </thead>\n\n                  <tbody>\n                    <ng-container *ngFor="let contrat of contratsSigners">\n\n                      <tr>\n                        <th class="text-center" scope="row">{{ contrat.idContratSigner }}</th>\n                        <td class="text-center">{{ contrat.utilisateur.nomUtilisateur }} {{ contrat.utilisateur.prenomUtilisateur }}</td>\n                        <td class="text-center">{{ formatDate(contrat.dateCreation) }}</td>\n\n                        <td class="actions text-center">\n                          <button nbButton size="xsmall" (click)="openContratDetails(contrat)" status="warning" style="width: 50%">\n                            <span class="text mr-1">D\xe9tails</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                          </button>\n                          <button nbButton size="xsmall" (click)="breakContratSigner(contrat)" status="danger" style="width: 100%">\n                            <span class="text mr-1">Rompre</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                          </button>\n                        </td>\n                      </tr>\n                    </ng-container>\n                  </tbody>\n                </table>\n              </div>\n              \x3c!-- find de l\'affiche les contrats d\'un utilisateur avec les autres --\x3e\n\n\n\n              \x3c!-- affiche les r\xe9seaux d\'une communaut\xe9 d\'un utilisateur avec les autres --\x3e\n              <div class="data table-responsive" *ngIf=" showMyNetworks ">\n                  <span>Mon R\xe9seaux avec les communaut\xe9s</span>\n                  <table class="table table-hover table-bordered">\n                    <thead>\n                      <tr>\n                        <th scope="col">#</th>\n                        <th scope="col">Nom de la communaut\xe9</th>\n                        <th scope="col">Type</th>\n                        <th scope="col">Cr\xe9ateur</th>\n                        <th scope="col">Date de cr\xe9ation</th>\n                        <th scope="col">Actions</th>\n                      </tr>\n                    </thead>\n  \n                    <tbody>\n                      <ng-container *ngFor="let community of networkCommunities">\n  \n                        <tr>\n                          <th class="text-center" scope="row">{{ community.idCommunaute }}</th>\n                          <td class="text-center">{{ community.nom }}</td>\n                          <td class="text-center">{{ community.type }}</td>\n                          <td class="text-center">{{ community.utilisateur.nomUtilisateur }} {{ community.utilisateur.prenomUtilisateur }}</td>\n                          <td class="text-center">{{ formatDate(community.dateCreation) }}</td>\n  \n                          <td class="actions text-center">\n                            <button nbButton size="xsmall" (click)="openContratDetails(community)" status="warning" style="width: 50%">\n                              <span class="text mr-1">D\xe9tails</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                            </button>\n                            <button nbButton size="xsmall" (click)="breakContratSigner(community)" status="danger" style="width: 100%">\n                              <span class="text mr-1">Rompre</span> <i data-eva="arrow-ios-downward" data-eva-fill="#fff"></i>\n                            </button>\n                          </td>\n                        </tr>\n                      </ng-container>\n                    </tbody>\n                  </table>\n                </div>\n              \x3c!-- find de l\'affiche les r\xe9seaux d\'une communaut\xe9 d\'un utilisateur avec les autres --\x3e\n\n  \n            </div>\n          </nb-tab>\n\n          <nb-tab tabTitle="Signer un contrat" tabIcon="nb-shuffle">\n            <div class="consult-wrapper mt-4 px-4">\n            \n              <div class="options d-flex align-center mb-4">       \n                <nb-alert class="bottom col-md-12" status="{{ status }}" *ngIf="hasSendSignerContrat" fullWidth closable (close)="onClose()">\n                  {{ messageCreation }}\n                </nb-alert>\n              </div>\n\n              <div class="data table-responsive" >\n                <table class="table table-hover table-bordered">\n                  \n                  <thead>\n                    <tr>\n                      <th scope="col">#</th>\n                      <th scope="col">Nom de communaut\xe9</th>\n                      <th scope="col">Cr\xe9ateur</th>\n                      <th scope="col">Date de cr\xe9ation</th>\n                      <th scope="col">Type de communaut\xe9</th>\n                      <th scope="col">D\xe9tails</th>\n                    </tr>\n                  </thead>\n\n                  <tbody>\n                    <ng-container *ngFor="let community of allCommunities">\n\n                      <tr *ngIf=" showWithContratSigner(community) ">\n                        <th class="text-center" scope="row">{{ community.idCommunaute }}</th>\n                        <td class="text-center">{{ community.nom }}</td>\n                        <td class="text-center">{{ community.utilisateur.nomUtilisateur }} {{ community.utilisateur.prenomUtilisateur }}</td>\n                        <td class="text-center">{{ formatDate(community.dateCreation) }}</td>\n                        <td class="text-center">{{ community.type == \'NON CONVENTIONNEE\' ?  \'Non conventionn\xe9e\' : \'Conventionn\xe9e\'}}</td>\n\n                        <td class="actions text-center">\n                          <button nbButton size="xsmall" status="success" (click)="signerContrat(community)">\n                            <span class="text mr-1">Signer un contrat</span>\n                          </button>\n                        </td>\n\n                      </tr>\n                      \n                    </ng-container>\n                  </tbody>\n                </table>\n              </div>\n  \n            </div>\n          </nb-tab>\n\n        </nb-tabset>\n      </nb-card-body>\n    </nb-card>\n  </div>\n</div>\n    \n\n      '},Epq5:function(n,t){n.exports="nb-select,\ninput {\n  margin-right: 0.75rem;\n  margin-bottom: 1rem; }\n\nnb-select {\n  width: 50%; }\n\nbutton {\n  margin-right: 1em;\n  margin-top: 0.5em; }\n\n.detail-info {\n  color: #40dc7e;\n  font-weight: bold;\n  font-size: 1.2em;\n  padding-left: 20px;\n  padding-right: 10px; }\n\n/* Select */\n\nselect {\n  width: 100%;\n  border: 2px #66e398 solid;\n  border-radius: 5px;\n  height: 45px;\n  background-color: transparent;\n  margin-bottom: 1em; }\n\nselect:invalid {\n  color: gray; }\n\nselect:hover {\n  background-color: #40dc7e;\n  color: floralwhite; }\n"},S4eW:function(n,t){n.exports="button {\n  margin-right: 10px; }\n\ninput {\n  margin-bottom: 10px; }\n\n.dialog-box {\n  width: 500px !important; }\n"},VAJn:function(n,t){n.exports="nb-list-item:hover {\n  background-color: #f7f7f7;\n  font-weight: bold;\n  color: #333;\n  cursor: pointer; }\n\n.selected-item {\n  background-color: #fece00;\n  font-weight: bold;\n  color: #333; }\n"},VdeR:function(n,t){n.exports='<nb-card>\n  <nb-card-body>\n    R\xe9seau social <i class="nb-arrow-right"></i> <a [routerLink]="[\'/admin/social-network/partenaires\']">Partenaires</a>\n    <i class="nb-arrow-right"></i> <strong>Gestion des partenaires</strong>\n  </nb-card-body>\n</nb-card>\n\n<div class="row">\n  <div class="col-md-8">\n    <nb-card size="medium">\n      <nb-card-header>\n        Les partenaires de Microcap\n      </nb-card-header>\n      <nb-list>\n        <nb-list-item *ngFor="let partenaire of partenaires" (click)="selectPartenaire(partenaire)" [ngClass]="{\'selected-item\': partenaire.selected}">\n          <i class="fa fa-chevron-right"></i> {{ partenaire.appGroup.designation }}\n        </nb-list-item>\n      </nb-list>\n    </nb-card>\n  </div>\n  <div class="col-md-2">\n    <a [routerLink]="[\'/admin/social-network/partenaires/add-partenaire\']" nbButton fullWidth size="xsmall" status="success">Ajouter</a>\n    <br><br>\n    <button nbButton fullWidth size="xsmall" outline status="success" [disabled]="disableEdit">Modifier</button> <br><br>\n    <button nbButton fullWidth size="xsmall" outline status="success" [disabled]="disableShow">Visualiser</button> <br><br>\n    <button nbButton fullWidth size="xsmall" outline status="success" [disabled]="disableDelete">Supprimer</button> <br>\n  </div>\n</div>\n'},WhYj:function(n,t){n.exports="<p>\n  R\xe9alisations  (comming soon !)\n</p>\n"},ZGd5:function(n,t){n.exports=""},avBf:function(n,t){n.exports="input, select {\n  margin-bottom: 1em; }\n\n.bottom-1 {\n  margin-bottom: 1em; }\n\nbutton {\n  margin-right: 10px; }\n\na {\n  text-decoration: none; }\n\n:host nb-tab {\n  padding: 1.25rem; }\n\n.error {\n  color: red; }\n\n.form-control-danger {\n  border: 2px #ff0000 solid;\n  border-radius: 3px; }\n\n/* Select */\n\nselect {\n  width: 100%;\n  border: 2px #dadfe6 solid;\n  border-radius: 5px;\n  height: 45px;\n  background-color: transparent; }\n\nselect:invalid {\n  color: gray; }\n"},bC2o:function(n,t){n.exports=":host nb-tab {\n  padding: 1.25rem; }\n\na {\n  text-decoration: none; }\n"},cIgn:function(n,t){n.exports='<nb-alert status="success">\n    <h5 style="color: white"> Inserer de nouveaux membres!</h5>\n  </nb-alert>\n\n<div class="row justify-content-md-center">\n    <div class="col-md-7">\n  \n      <nb-card>\n        <nb-card-body>\n          <nb-tabset fullWidth>\n            <nb-tab tabTitle="Personne physique">\n              <div class="row justify-content-md-center">\n                <div class="col-md-10">\n                  <form #formPageOne="ngForm">\n                    <nb-alert status="success" class="text-center">\n                      <h1 style="color: #fff; font-weight: bold;"><i class="nb-person"></i></h1>\n                      <strong>Inscrivez-vous en tant que personne physique en deux petites \xe9tapes !</strong>\n                    </nb-alert>\n                    <nb-card>\n                      <nb-card-body>\n                        <nb-stepper #stepper>\n                          <nb-step [stepControl]="personFirstForm" label="">\n                            <form [formGroup]="personFirstForm" (ngSubmit)="onPersonFirstSubmit()" class="step-container">\n                              <p class="lorem">\n                                <i>Les champs marqu\xe9s <span class="text-danger">*</span> sont obligatoires.</i>\n                              </p>\n                              <div class="input-group">\n                                <label>Nom <span class="text-danger"> *</span></label>\n                                <input type="text" name="personFirstname" nbInput fullWidth placeholder="Nom"\n                                  formControlName="personFirstname">\n                              </div>\n                              <div class="input-group">\n                                <label>Pr\xe9nom </label>\n                                <input type="text" name="personLastname" nbInput fullWidth placeholder="Pr\xe9nom"\n                                  formControlName="personLastname">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Email <span class="text-danger"> *</span></label>\n                                <input type="email" name="personEmail" nbInput fullWidth placeholder="Adresse mail"\n                                  formControlName="personEmail">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Nom d\'utilisateur <span class="text-danger"> *</span></label>\n                                <input type="text" name="personUsername" nbInput fullWidth placeholder="Login"\n                                  formControlName="personUsername">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Mot de passe <span class="text-danger"> *</span></label>\n                                <input type="password" name="personPassword" nbInput fullWidth placeholder="Mot de passe"\n                                  formControlName="personPassword">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Confirmer le mot de passe <span class="text-danger"> *</span></label>\n                                <input type="password" name="personPasswordConfirmation" nbInput fullWidth placeholder="Confirmer le mot de passe"\n                                  formControlName="personPasswordConfirmation">\n                              </div>\n  \n                              <button nbButton status="success" nbStepperNext [disabled]="personFirstForm.invalid">suivant</button>\n                            </form>\n                          </nb-step>\n                          <nb-step [stepControl]="personSecondForm" label="">\n                            <form [formGroup]="personSecondForm" (ngSubmit)="onPersonSecondSubmit()" class="step-container">\n  \n                              <div class="input-group">\n                                <label>Pays de r\xe9sidence </label>\n                                <input type="text" name="personResidence" nbInput fullWidth placeholder="R\xe9sidence"\n                                  formControlName="personResidence">\n                              </div>\n                              <div class="input-group">\n                                <label>Nationalit\xe9 </label>\n                                <input type="text" name="personNationalite" nbInput fullWidth placeholder="Nationalit\xe9"\n                                  formControlName="personNationalite">\n                              </div>\n  \n                              <div class="input-group">\n                                <select name="personPieceIdentite" outline status="success" formControlName="personPieceIdentite">\n                                  <option value="" disabled selected hidden>Type de la pi\xe8ce d\'identit\xe9</option>\n                                  <option *ngFor="let typePiece of typePieceIdentites" [value]="typePiece.description">{{typePiece.description}}</option>\n                                </select>\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Num\xe9ro d\'identit\xe9 </label>\n                                <input type="text" name="personNumeroIdentite" nbInput fullWidth placeholder="Num\xe9ro d\'identit\xe9"\n                                  formControlName="personNumeroIdentite">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>D\xe9but de validit\xe9</label>\n                                <input type="date" name="personDebutValidite" nbInput fullWidth placeholder="D\xe9but de la validit\xe9"\n                                  formControlName="personDebutValidite">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Fin de validit\xe9</label>\n                                <input type="date" name="personFinValidite" nbInput fullWidth placeholder="Fin de validit\xe9 de la pi\xe8ce d\'identit\xe9"\n                                  formControlName="personFinValidite">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Date de naissance</label>\n                                <input type="date" name="personDateNaissance" nbInput fullWidth placeholder="Date de naissance"\n                                  formControlName="personDateNaissance">\n                              </div>\n  \n                              <nb-checkbox id="personAcceptContract" name="personAcceptContract" formControlName="personAcceptContract"\n                                required> J\'accepte le contrat d\'adh\xe9sion \xe0 la plateforme Microcap\n                              </nb-checkbox><br><br>\n  \n                              <button nbButton outline status="success" nbStepperPrevious>pr\xe9d\xe9dent</button>\n                              <button nbButton status="success" type="submit" (click)="enrollPersonPhysique()" [disabled]="personSecondForm.invalid"\n                                [nbSpinner]="loadinPersongFlag" nbSpinnerStatus="success" nbSpinnerSize="large"\n                                nbSpinnerMessage="">Valider</button>\n                            </form>\n                          </nb-step>\n                        </nb-stepper>\n                      </nb-card-body>\n                    </nb-card>\n                    <hr>\n                    <p style="clear: both;" class="text-center">\n                      Vous avez d\xe9j\xe0 un compte ? <br><a [routerLink]="[\'/auth/login\']">Connectez-vous</a>\n                    </p>\n                  </form>\n                </div>\n              </div>\n            </nb-tab>\n  \n            <nb-tab tabTitle="Personne morale">\n              <div class="row justify-content-md-center">\n                <div class="col-md-10">\n                  <form #formPageTwo="ngForm">\n                    <nb-alert status="success" class="text-center">\n                      <h1 style="color: #fff; font-weight: bold;"><i class="nb-home"></i></h1>\n                      <strong>Inscrivez-vous en tant que personne morale en trois petites \xe9tapes !</strong>\n                    </nb-alert>\n                    <nb-card>\n                      <nb-card-body>\n                        <nb-stepper #stepper>\n                          <nb-step [stepControl]="organisationFirstForm" label="">\n                            <form [formGroup]="organisationFirstForm" (ngSubmit)="onOrganisationFirstSubmit()" class="step-container">\n                              <h6>Etape 1: Information g\xe9n\xe9rale de la personne morale</h6>\n                              <hr>\n                              <p class="lorem">\n                                <i>Les champs marqu\xe9s <span class="text-danger">*</span> sont obligatoires.</i>\n                              </p>\n                              <div class="input-group">\n                                <label>Raison sociale <span class="text-danger"> *</span></label>\n                                <input type="text" name="raisonSociale" nbInput fullWidth placeholder="Raison sociale"\n                                  formControlName="raisonSociale">\n                              </div>\n                              <div class="input-group">\n                                <label>Nom commercial <span class="text-danger"> *</span></label>\n                                <input type="text" name="nomCommercial" nbInput fullWidth placeholder="Nom commercial"\n                                  formControlName="nomCommercial">\n                              </div>\n                              <div class="input-group">\n                                <select name="typeOrganisation" outline status="success" formControlName="typeOrganisation">\n                                  <option value="" disabled selected hidden>Type de l\'organisation *</option>\n                                  <option *ngFor="let typeOrganisation of typeOrganisations" [value]="typeOrganisation.codeValue">{{typeOrganisation.codeValue}}</option>\n                                </select>\n                              </div>\n                              <button nbButton status="success" nbStepperNext [disabled]="organisationFirstForm.invalid">suivant</button>\n                            </form>\n                          </nb-step>\n                          <nb-step [stepControl]="personExistForm.value[\'personExist\']? personExistInputForm: organisationSecondForm"\n                            label="">\n                            <form [formGroup]="personExistForm" class="step-container">\n                              <h6>Etape 2: Configuration du compte administrateur</h6>\n                              <hr>\n                              <nb-alert *ngIf="personNotFoundInBd && personExistForm.value[\'personExist\']" status="warning">Ce num\xe9ro d\'adh\xe9sion ne correspond \xe0 aucun utilisateur sur Microcap. Veuillez sp\xe9cifier un autre ou cr\xe9ez un administrateur.</nb-alert>\n                              \n                                <nb-checkbox status="success" formControlName="personExist">L\'administrateur est-il d\xe9j\xe0 inscrit sur Microcap ? </nb-checkbox> \n                            </form>\n                            <br>\n                            <form [formGroup]="personExistInputForm" class="step-container" *ngIf="personExistForm.value[\'personExist\']">\n                              <label>Si oui entrez son num\xe9ro d\'adh\xe9sion <span class="text-danger"> *</span></label>\n                              <br>\n                              <input type="text" nbInput fullWidth placeholder="Num\xe9ro d\'adh\xe9sion" formControlName="numero_adhesion">\n                              <br>\n                              <nb-alert *ngIf="personFoundInBd" outline="success">\n                                  Membre retrouv\xe9 sur Microcap avec succ\xe8s ! <br>\n                                <table>\n                                  <tr>\n                                    <td>Nom</td>\n                                    <td><strong>: {{person.firstName}}</strong></td>\n                                  </tr>\n                                  <tr>\n                                    <td>Pr\xe9nom</td>\n                                    <td><strong>: {{person.lastName}}</strong></td>\n                                  </tr>\n                                  <tr>\n                                      <td>Adresse mail</td>\n                                      <td><strong>: {{person.email}}</strong></td>\n                                    </tr>\n                                </table>\n                              </nb-alert>\n                              <button nbButton outline status="success" nbStepperPrevious>pr\xe9d\xe9dent</button>\n                              <button nbButton *ngIf="!personFoundInBd" status="success" [disabled]="personExistInputForm.invalid" (click)="getDataOfExistingPfm()" [nbSpinner]="loadingCheckExistingPersonFlag"\n                              nbSpinnerStatus="success" nbSpinnerSize="large" nbSpinnerMessage="" >Verifier</button>\n                              <button nbButton *ngIf="personFoundInBd" status="success" nbStepperNext [disabled]="personExistInputForm.invalid">suivant</button>\n                            </form>\n  \n                            <form [formGroup]="organisationSecondForm" (ngSubmit)="onOrganisationSecondSubmit()" class="step-container"\n                              *ngIf="!personExistForm.value[\'personExist\']">\n                              <h6>Etape 2: Entrez les informations de l\'administrateur</h6>\n                              <p class="lorem">\n                                <i>Les champs marqu\xe9s <span class="text-danger">*</span> sont obligatoires.</i>\n                              </p>\n                              <div class="input-group">\n                                <label>Email <span class="text-danger"> *</span></label>\n                                <input type="email" name="organisationEmail" nbInput fullWidth placeholder="Adresse mail"\n                                  formControlName="organisationEmail">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Nom d\'utilisateur <span class="text-danger"> *</span></label>\n                                <input type="text" name="organisationUsername" nbInput fullWidth placeholder="Login"\n                                  formControlName="organisationUsername">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Mot de passe <span class="text-danger"> *</span></label>\n                                <input type="password" name="organisationPassword" nbInput fullWidth placeholder="Mot de passe"\n                                  formControlName="organisationPassword">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Confirmer le mot de passe <span class="text-danger"> *</span></label>\n                                <input type="password" name="organisationPasswordConfirmation" nbInput fullWidth\n                                  placeholder="Confirmer le mot de passe" formControlName="organisationPasswordConfirmation">\n                              </div>\n                              <button nbButton status="success" nbStepperNext [disabled]="organisationSecondForm.invalid">suivant</button>\n                            </form>\n                          </nb-step>\n  \n                          <nb-step [stepControl]="organisationThirdForm" label="">\n                            <form [formGroup]="organisationThirdForm" (ngSubmit)="onOrganisationThirdSubmit()" class="step-container">\n                                <h6>Etape 3: Informations compl\xe9mentaires de la personne morale</h6>\n                                <hr>\n                              <div class="input-group">\n                                <label>Implantation </label>\n                                <input type="text" name="implantation" nbInput fullWidth placeholder="Implantation"\n                                  formControlName="implantation">\n                              </div>\n                              <div class="input-group">\n                                <label>Pays d\'immatriculation </label>\n                                <input type="text" name="paysImmatriculation" nbInput fullWidth placeholder="Pays d\'immatriculation"\n                                  formControlName="paysImmatriculation">\n                              </div>\n  \n                              <div class="input-group">\n                                <select name="immatriculation" outline status="success" formControlName="immatriculation">\n                                  <option value="" disabled selected hidden>Type d\'immatriculation</option>\n                                  <option *ngFor="let immatriculation of typeImmatriculations" [value]="immatriculation.codeValue">{{immatriculation.codeValue}}</option>\n                                </select>\n                              </div>\n  \n                              <div class="input-group">\n                                <label>Num\xe9ro d\'immatriculation <span class="text-danger"> *</span></label>\n                                <input type="text" name="numeroImmatriculation" nbInput fullWidth placeholder="Num\xe9ro d\'immatriculation"\n                                  formControlName="numeroImmatriculation">\n                              </div>\n  \n                              <div class="input-group">\n                                <label>D\xe9but d\'immatriculation</label>\n                                <input type="date" name="dateImmatriculation" nbInput fullWidth placeholder="Date d\'immatriculation"\n                                  formControlName="dateImmatriculation">\n                              </div>\n  \n                              <nb-checkbox id="organisationAcceptContract" name="organisationAcceptContract"\n                                formControlName="organisationAcceptContract" required> J\'accepte le contrat d\'adh\xe9sion \xe0\n                                la plateforme Microcap\n                              </nb-checkbox> <br><br>\n  \n                              <button nbButton outline status="success" nbStepperPrevious>pr\xe9d\xe9dent</button>\n                              <button nbButton status="success" nbStepperNext (click)="personFoundInBd? enrollOrganisationWithExistantPfm() : enrollOrganisation()" [disabled]="organisationThirdForm.invalid"\n                                [nbSpinner]="loadinOrganisationgFlag" nbSpinnerStatus="success" nbSpinnerSize="large"\n                                nbSpinnerMessage="">Valider</button>\n                            </form>\n                          </nb-step>\n                        </nb-stepper>\n                      </nb-card-body>\n                    </nb-card>\n                    <hr>\n                    <p style="clear: both;" class="text-center">\n                      Vous avez d\xe9j\xe0 un compte ? <br><a [routerLink]="[\'/auth/login\']">Connectez-vous</a>\n                    </p>\n                  </form>\n                </div>\n              </div>\n            </nb-tab>\n          </nb-tabset>\n        </nb-card-body>\n      </nb-card>\n  \n    </div>\n  </div>\n  \n'},jEij:function(n,t){n.exports='<nb-card>\n  <nb-card-body>\n    R\xe9seau social <i class="nb-arrow-right"></i> <a [routerLink]="[\'/admin/social-network/partenaires\']">Partenaires</a>\n    <i class="nb-arrow-right"></i> <a [routerLink]="[\'/admin/social-network/partenaires/list-partenaires\']">Liste des\n      partenaires</a>\n    <i class="nb-arrow-right"></i> <strong>Nouveau</strong>\n  </nb-card-body>\n</nb-card>\n<nb-card>\n  <nb-card-body>\n    <nb-stepper #stepper>\n      <nb-step [stepControl]="firstForm">\n        <form [formGroup]="firstForm" (ngSubmit)="onFirstSubmit()" class="step-container">\n\n          <nb-alert status="success">\n            <h6>Etape 1: Identification</h6>\n          </nb-alert>\n\n          <div style="vertical-align: middle;">\n            <label>Identifiant r\xe9seau du partenaire</label><br>\n            <input type="text" style="width:50%;" nbInput placeholder="Identifiant du r\xe9seau" formControlName="identifiant_reseau"\n              [ngClass]="{\'form-control-danger\': firstForm.invalid && (firstForm.dirty || firstForm.touched)}">\n          </div>\n          <hr>\n          <button nbButton size="small" status="success" nbStepperNext (click)="getOrganisationById()" [nbSpinner]="loadingCheckExistingOrganisationFlag"\n            nbSpinnerStatus="success" nbSpinnerSize="large" nbSpinnerMessage="">Suivant <i class="fa fa-angle-right"></i></button>\n        </form>\n      </nb-step>\n\n      <nb-step>\n        <nb-alert status="success">\n          <h6>Etape 2: V\xe9rification de l\'identification</h6>\n        </nb-alert>\n        <nb-card>\n          <div class="row" style="margin-left: 1em;">\n            <div class="col-md-8">\n\n              <nb-card-body>\n                <table *ngIf="organisationFoundInBd">\n                  <tr>\n                    <td>Identifiant r\xe9seau : </td>\n                    <td class="detail-info">{{organisation.id}}</td>\n                  </tr>\n                  <tr>\n                    <td>Raison sociale : </td>\n                    <td class="detail-info">{{organisation.corporateName}}</td>\n                  </tr>\n                  <tr>\n                    <td>Immatriculation : </td>\n                    <td class="detail-info">{{organisation.immatriculationValue}}</td>\n                  </tr>\n                  <tr>\n                    <td>Activit\xe9 princiaple : </td>\n                    <td class="detail-info"></td>\n                  </tr>\n                </table>\n                <nb-alert *ngIf="!organisationFoundInBd" status="danger"> <strong>Il n\'existe aucune personne morale\n                    avec cet identifiant r\xe9seau !</strong> </nb-alert>\n              </nb-card-body>\n\n            </div>\n            <div class="col-md-4" style="text-align: right">\n              <button nbButton size="small" status="success"> <i class="fa fa-plus"></i> Infos</button>\n            </div>\n          </div>\n        </nb-card>\n        <hr>\n        <button nbButton size="small" outline status="success" nbStepperPrevious> Annuler</button>\n        <button nbButton size="small" outline status="success" nbStepperPrevious> <i class="fa fa-angle-left"></i>\n          Retrour</button>\n        <button nbButton size="small" status="success" nbStepperNext>COntinuer <i class="fa fa-angle-right"></i></button>\n      </nb-step>\n\n      <nb-step [stepControl]="secondForm">\n        <form [formGroup]="secondForm" (ngSubmit)="onSecondSubmit()" class="step-container">\n          <nb-alert status="success">\n            <h6>Etape 3: Profil du partenariat</h6>\n          </nb-alert>\n\n          <div class="row">\n            <div class="col-md-12">\n              <nb-card>\n                <nb-card-body>\n                  <label>Type de profil *</label><br>\n                  <div class="input-group">\n                    <select outline status="success" formControlName="type_profil">\n                      <option value="" disabled selected hidden>Type de profil du contrat</option>\n                      <option *ngFor="let groupType of groupTypes ; let i = index" [value]="i">{{groupType.description}}</option>\n                    </select>\n                  </div>\n                  <div class="input-group">\n                    <label>Nom commercial *</label>\n                    <input type="text" formControlName="nom_commercial" nbInput fullWidth placeholder="Nom commercial du partenariat">\n                  </div>\n                  <label>Partenaire parent *</label><br>\n                  <div class="input-group">\n                    <select outline fullWidth status="success" formControlName="partenaire_parent">\n                      <option value="" disabled selected hidden>Slectionner un partenaire parent</option>\n                      <option *ngFor="let parent of parent_groups ; let j = index" [value]="j">{{parent.designation}}</option>\n                    </select>\n                  </div>\n\n                  <div class="input-group">\n                    <nb-checkbox status="success" formControlName="identifiant_externe" style="margin-bottom: 1em;">Identifiant externe</nb-checkbox>\n                  </div>\n                  <label>Identifiant de l\'administrateur *</label><br>\n\n                  <div class="input-group">\n                    <select outline fullWidth status="success" formControlName="identifiant_admin">\n                      <option value="" disabled selected hidden>Slectionner le partenaire parent</option>\n                      <option *ngFor="let platformMember of platformMembers ; let k = index" [value]="k">\n                        {{platformMember.person.firstName + \' \' + platformMember.person.lastName}}\n                      </option>\n                    </select>\n                  </div>\n                </nb-card-body>\n              </nb-card>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-md-5">\n              <nb-card>\n                <nb-card-header>Propri\xe9t\xe9s du profil du partenariat</nb-card-header>\n                <nb-card-body>\n                  <br>\n                  <nb-list>\n                    <nb-list-item *ngFor="let detail of groupDetails">\n                      {{ detail.label }}\n                    </nb-list-item>\n                  </nb-list>\n                </nb-card-body>\n              </nb-card>\n            </div>\n            <div class="col-md-1">\n              <button (click)="openPropertyModal()" nbButton size="xsmall" outline status="success" style="margin-bottom: 5px;"\n                title="Ajouter une propri\xe9t\xe9"> <i class="fa fa-plus"></i> </button>\n              <button nbButton size="xsmall" outline status="success" style="margin-bottom: 5px;" title="Modifier la propri\xe9t\xe9 s\xe9lectionn\xe9e">\n                <i class="fa fa-pencil"></i> </button>\n              <button nbButton size="xsmall" outline status="success" title="Supprimer la propri\xe9t\xe9 s\xe9lectionn\xe9e"> <i\n                  class="fa fa-trash"></i> </button>\n            </div>\n            <div class="col-md-6">\n              <nb-card>\n                <nb-card-header>Description de la propri\xe9t\xe9</nb-card-header>\n                <nb-card-body>\n                  ........\n                </nb-card-body>\n              </nb-card>\n            </div>\n          </div>\n          <hr>\n          <button nbButton size="small" outline status="success">Annuler</button>\n          <button nbButton size="small" outline status="success" nbStepperPrevious> <i class="fa fa-angle-left"></i>\n            Retour</button>\n          <button nbButton size="small" status="success" (click)="addGroupe()">Terminer</button>\n        </form>\n      </nb-step>\n\n    </nb-stepper>\n  </nb-card-body>\n</nb-card>\n'},k0YA:function(n,t){n.exports="<router-outlet></router-outlet> \n"},qBg7:function(n,t){n.exports='<nb-card>\n  <nb-card-body>\n    R\xe9seau social <i class="nb-arrow-right"></i> <strong>Partenaires</strong>\n  </nb-card-body>\n</nb-card>\n\n<nb-tabset>\n  <nb-tab tabTitle="Gestion" responsive>\n    <div class="row">\n\n      <div class="col-md-4">\n        <nb-card status="success">\n          <nb-card-header>Partenaires</nb-card-header>\n          <nb-card-body>\n            Ce module permet de cr\xe9er et manager les partenaires Microcap.\n          </nb-card-body>\n          <nb-card-footer>\n            <a [routerLink]="[\'list-partenaires\']" nbButton outline size="xsmall" status="warning">G\xe9rer<i\n                class="nb-arrow-right"></i></a>\n          </nb-card-footer>\n        </nb-card>\n      </div>\n      \n    </div>\n  </nb-tab>\n</nb-tabset>\n'},xyFQ:function(n,t,e){"use strict";e.r(t);var o=e("mrSG"),i=e("CcnG"),r=e("Ip0R"),s=e("ZYCi"),a=function(){function n(){}return n.prototype.ngOnInit=function(){},n=o.c([Object(i.n)({selector:"app-social-network",template:e("k0YA"),styles:[e("ZGd5")]}),o.f("design:paramtypes",[])],n)}(),l=e("gIcY"),c=e("i9ZP"),u=e("TtU4"),p=function(){function n(n,t,e,o,i,r,s){this.raisonSociale=n,this.nomCommercial=t,this.typeOrganisation=e,this.username=o,this.password=i,this.email=r,this.numImmatriculation=s}return n.prototype.setDetails=function(n){this.details=n},n}(),d=function(){function n(n,t,e,o,i){this.firstname=n,this.lastname=t,this.email=e,this.username=o,this.password=i}return n.prototype.getRoles=function(){return this.roles},n.prototype.getDetails=function(){return this.details},n.prototype.setDetails=function(n){this.details=n},n}(),m=function(){function n(n,t,e,o){this.label=n,this.code=t,this.value=e,this.description=o,this.label=n,this.code=t,this.value=e,this.description=o}return n.prototype.getDescription=function(){return this.description},n.prototype.setDescription=function(n){this.description=n},n}();function b(n,t){return function(e){var o=e.controls[n],i=e.controls[t];i.errors&&!i.errors.mustMatch||(o.value!==i.value?i.setErrors({mustMatch:!0}):i.setErrors(null))}}var h=e("wUrw"),g=function(){function n(n,t,e,o,i){this.router=n,this.authService=t,this.formBuilder=e,this.codeValueService=o,this.dialogService=i,this.person={},this.existingAdmin={},this.isSignedUp=!1,this.isSignUpFailed=!1,this.errorMessage="",this.organisation={},this.loadinPersongFlag=!1,this.loadingCheckExistingPersonFlag=!1,this.loadinOrganisationgFlag=!1,this.errorFlag=!1,this.personFoundInBd=!1,this.personNotFoundInBd=!1}return n.prototype.ngOnInit=function(){var n=this;this.codeValueService.getIdentityType().subscribe(function(t){n.typePieceIdentites=t}),this.codeValueService.getImmatriculationType().subscribe(function(t){n.typeImmatriculations=t}),this.codeValueService.getOrganisationType().subscribe(function(t){n.typeOrganisations=t}),this.initFormulairePersonPhysique(),this.iniFormulairetPersonMorale()},n.prototype.initFormulairePersonPhysique=function(){this.personFirstForm=this.formBuilder.group({personFirstname:["",[l.g.required]],personLastname:["",[l.g.required]],personEmail:["",[l.g.required,l.g.email]],personUsername:["",[l.g.required]],personPassword:["",[l.g.required]],personPasswordConfirmation:["",[l.g.required]]},{validator:b("personPassword","personPasswordConfirmation")}),this.personSecondForm=this.formBuilder.group({personResidence:[""],personNationalite:[""],personPieceIdentite:[""],personNumeroIdentite:[""],personDebutValidite:[""],personFinValidite:[""],personDateNaissance:[""],personAcceptContract:["",[l.g.required]]})},n.prototype.iniFormulairetPersonMorale=function(){this.organisationFirstForm=this.formBuilder.group({raisonSociale:["",[l.g.required]],nomCommercial:["",[l.g.required]],typeOrganisation:["",[l.g.required]]}),this.personExistForm=this.formBuilder.group({personExist:[!0,[]]}),this.personExistInputForm=this.formBuilder.group({numero_adhesion:["",[l.g.required]]}),this.organisationSecondForm=this.formBuilder.group({organisationEmail:["",[l.g.required,l.g.email]],organisationUsername:["",[l.g.required]],organisationPassword:["",[l.g.required]],organisationPasswordConfirmation:["",[l.g.required]]},{validator:b("organisationPassword","organisationPasswordConfirmation")}),this.organisationThirdForm=this.formBuilder.group({implantation:[""],paysImmatriculation:[""],immatriculation:[""],numeroImmatriculation:["",[l.g.required]],dateImmatriculation:[""],organisationAcceptContract:["",[l.g.required]]})},n.prototype.enrollPersonPhysique=function(){var n=this;this.loadinPersongFlag=!0,this.errorFlag=!1,this.person.firstname=this.personFirstForm.value.personFirstname,this.person.lastname=this.personFirstForm.value.personLastname,this.person.email=this.personFirstForm.value.personEmail,this.person.username=this.personFirstForm.value.personUsername,this.person.password=this.personFirstForm.value.personPassword,this.personDetails=[new m("Pays de r\xe9sidence","ox",this.personSecondForm.value.personResidence,""),new m("Nationalit\xe9","ox",this.personSecondForm.value.personNationalite,""),new m("Num\xe9ro d'identit\xe9","ox",this.personSecondForm.value.personNumeroIdentite,""),new m("D\xe9but de validit\xe9","ox",this.personSecondForm.value.personDebutValidite,""),new m("Fin de validit\xe9","ox",this.personSecondForm.value.personFinValidite,""),new m("Date de naissance","ox",this.personSecondForm.value.personDateNaissance,"")],this.signupInfo=new d(this.person.firstname,this.person.lastname,this.person.email,this.person.username,this.person.password),this.signupInfo.setDetails(this.personDetails.slice()),this.authService.signUpPerson(this.signupInfo).subscribe(function(t){n.isSignedUp=!0,n.isSignUpFailed=!1,n.loadinPersongFlag=!1,n.router.navigate(["/auth/login"])},function(t){console.log(t),n.errorFlag=!0,n.loadinPersongFlag=!1,n.errorMessage=t.error.message,n.isSignUpFailed=!0})},n.prototype.enrollOrganisation=function(){var n=this;this.loadinOrganisationgFlag=!0,this.personMoralDetails=[new m("Implantation","ox",this.organisationThirdForm.value.implantation,""),new m("Pays d'immatriculation","ox",this.organisationThirdForm.value.paysImmatriculation,""),new m("type d'imatriculation","ox",this.organisationThirdForm.value.immatriculation,""),new m("Num\xe9ro d'immatriculation","ox",this.organisationThirdForm.value.numeroImmatriculation,""),new m("D\xe9but d'immatriculation","ox",this.organisationThirdForm.value.dateImmatriculation,"")],this.signupInfoMoral=new p(this.organisationFirstForm.value.raisonSociale,this.organisationFirstForm.value.nomCommercial,this.organisationFirstForm.value.typeOrganisation,this.organisationSecondForm.value.organisationUsername,this.organisationSecondForm.value.organisationPassword,this.organisationSecondForm.value.organisationEmail,this.organisationThirdForm.value.numeroImmatriculation),this.signupInfoMoral.setDetails(this.personMoralDetails.slice()),console.log(this.signupInfoMoral),this.authService.signUpMoral(this.signupInfoMoral).subscribe(function(t){n.loadinOrganisationgFlag=!1,n.router.navigate(["/auth/login"]),console.log(t)},function(t){n.loadinOrganisationgFlag=!1,console.log(t)})},n.prototype.enrollOrganisationWithExistantPfm=function(){var n=this;this.loadinOrganisationgFlag=!0,this.personMoralDetails=[new m("Implantation","ox",this.organisationThirdForm.value.implantation,""),new m("Pays d'immatriculation","ox",this.organisationThirdForm.value.paysImmatriculation,""),new m("type d'imatriculation","ox",this.organisationThirdForm.value.immatriculation,""),new m("Num\xe9ro d'immatriculation","ox",this.organisationThirdForm.value.numeroImmatriculation,""),new m("D\xe9but d'immatriculation","ox",this.organisationThirdForm.value.dateImmatriculation,"")],this.signupInfoMoral=new p(this.organisationFirstForm.value.raisonSociale,this.organisationFirstForm.value.nomCommercial,this.organisationFirstForm.value.typeOrganisation,this.person.username,this.person.password,this.person.email,this.organisationThirdForm.value.numeroImmatriculation),this.signupInfoMoral.setDetails(this.personMoralDetails.slice()),console.log("*********************************************"),console.log(this.signupInfoMoral),console.log("*********************************************"),this.authService.signUpMoral(this.signupInfoMoral).subscribe(function(t){n.loadinOrganisationgFlag=!1,n.router.navigate(["/auth/login"]),console.log(t)},function(t){n.loadinOrganisationgFlag=!1,console.log(t)})},n.prototype.getDataOfExistingPfm=function(){var n=this;this.loadingCheckExistingPersonFlag=!0,this.authService.getDataOfExistingPersonByNumeroAdhesion(this.personExistInputForm.value.numero_adhesion).subscribe(function(t){n.person=t.person,console.log(n.person),n.personFoundInBd=!0,n.personNotFoundInBd=!1,n.loadingCheckExistingPersonFlag=!1},function(t){n.loadingCheckExistingPersonFlag=!1,n.personFoundInBd=!1,n.personNotFoundInBd=!0,console.log(t)})},n.prototype.onPersonFirstSubmit=function(){console.log("----- Soumission onPersonFirstSubmit ------")},n.prototype.onPersonSecondSubmit=function(){console.log("----- Soumission onPersonSecondSubmit ------")},n.prototype.onOrganisationFirstSubmit=function(){console.log("----- Soumission onOrganisationFirstSubmit ------")},n.prototype.onOrganisationSecondSubmit=function(){console.log("----- Soumission onOrganisationSecondSubmit ------")},n.prototype.onOrganisationThirdSubmit=function(){console.log("----- Soumission onOrganisationThirdSubmit ------")},n=o.c([Object(i.n)({selector:"app-membres",template:e("cIgn"),styles:[e("avBf")]}),o.f("design:paramtypes",[s.c,h.a,l.b,c.a,u.l])],n)}(),f=function(){function n(){}return n.prototype.ngOnInit=function(){},n=o.c([Object(i.n)({selector:"app-partenaires",template:e("qBg7"),styles:[e("bC2o")]}),o.f("design:paramtypes",[])],n)}(),v=function(){function n(){}return n.prototype.ngOnInit=function(){},n=o.c([Object(i.n)({selector:"app-realisations",template:e("WhYj"),styles:[e("4GRg")]}),o.f("design:paramtypes",[])],n)}(),y=e("qfBg"),x=e("sSZT"),C=e("uIXG"),S=e("t/Na"),w=e("AytR"),F={headers:new S.d({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})},I=function(){function n(n){this.http=n,this.url=w.a.serverEndpoint+"/social-network/contrat-signes/",this.urlCommunaute=w.a.serverEndpoint+"/social-network/communautes/"}return n.prototype.fetchUserContratSigner=function(n){return this.http.get(this.url+n.idUtilisateur+"/utilisateurs",F).toPromise()},n.prototype.newContratSigner=function(n){return this.http.post(this.url,n,F).toPromise()},n.prototype.fetchCommunityContratSigner=function(n){return this.http.get(this.url+n.idCommunaute+"/communautes",F).toPromise()},n.prototype.fetchCommunityWithNoContratSigner=function(n){return this.http.get(this.url+n.idUtilisateur+"/utilisateurs/non-contrat-signer",F).toPromise()},n.prototype.deleteContratSigner=function(n){return this.http.delete(this.url+"/"+n.idContratSigner,F).toPromise()},n=o.c([Object(i.C)({providedIn:"root"}),o.f("design:paramtypes",[S.b])],n)}(),N={headers:new S.d({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})},P=function(){function n(n){this.http=n,this.url=w.a.serverEndpoint+"/social-network/connexion-communautes/"}return n.prototype.fetchConnexionCommunautes=function(n){return this.http.get(this.url+n.idCommunaute+"/communautes",N).toPromise()},n.prototype.newConnexionCommunaute=function(n){return this.http.post(this.url,n,N).toPromise()},n.prototype.deleteConnexion=function(n){return this.http.delete(this.url+"/"+n.idConnexionCommunaute,N).toPromise()},n=o.c([Object(i.C)({providedIn:"root"}),o.f("design:paramtypes",[S.b])],n)}(),O=function(){return function(n){return Object.assign(this,n)}}(),k={headers:new S.d({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})},B=function(){function n(n){this.http=n,this.url=w.a.serverEndpoint+"/social-network/communaute-associes"}return n.prototype.communitiesWithoutMe=function(n){return this.http.get(this.url+"/"+n.idUtilisateur+"/utilisateurs/abscent",k).toPromise()},n=o.c([Object(i.C)({providedIn:"root"}),o.f("design:paramtypes",[S.b])],n)}(),E=function(){function n(n,t,e,o,i,r){this.formBuilder=n,this.userService=t,this.communauteService=e,this.communauteAssocieService=o,this.contratSignerService=i,this.connexionCommunauteService=r,this.user=null,this.showCommunities=!0,this.showMyCommunities=!0,this.showMyContrats=!1,this.showMyNetworks=!1,this.isSend=!1,this.hasSendSignerContrat=!1,this.status="success",this.messageCreation=""}return n.prototype.ngOnInit=function(){this.initForm(),this.getUser(),this.fetchMicrocapOperators(),this.getAllCommunities()},n.prototype.initForm=function(){this.form=this.formBuilder.group({nom:"",operateurMicrocap:""})},n.prototype.onSubmit=function(){return o.b(this,void 0,void 0,function(){var n,t=this;return o.e(this,function(e){return null===this.user?[2]:(n=new x.a({idCommunaute:null,nom:this.form.value.nom,type:"CONVENTIONNEE",dateCreation:this.dateToTimestamp(new Date),dateModification:this.dateToTimestamp(new Date),utilisateur:this.form.value.operateurMicrocap}),this.communauteService.newCommunaute(n).then(function(n){return t.isSend=!0,t.status="success",t.messageCreation='La communaut\xe9 "'+t.form.value.nom+'" a \xe9t\xe9 cr\xe9\xe9e avec succ\xe8s !',t.initForm(),t.getCommunauteWithContratSigner(t.user),t.getAllCommunities(),!0}).catch(function(n){return t.isSend=!0,t.status="danger",t.messageCreation=n.error.message,alert("Probl\xe8me pour soumettre une communaut\xe9"+JSON.stringify(n)),!1}),[2])})})},n.prototype.onClose=function(){this.isSend=!1,this.hasSendSignerContrat=!1},n.prototype.getAllCommunities=function(){return o.b(this,void 0,void 0,function(){var n=this;return o.e(this,function(t){switch(t.label){case 0:return[4,this.communauteService.allCommunities().then(function(t){return n.allCommunities=t.content,console.log("All communities",t),!0}).catch(function(n){return alert("Problem to get communities from database "+JSON.stringify(n)),!1})];case 1:return t.sent(),[2]}})})},n.prototype.getMyCommunities=function(){return o.b(this,void 0,void 0,function(){var n=this;return o.e(this,function(t){switch(t.label){case 0:return[4,this.communauteService.myCommunities(this.user.idUtilisateur).then(function(t){return n.communities=t,console.log("The data are happend",t),!0}).catch(function(n){return alert("Problem to get communities from database "+JSON.stringify(n)),!1})];case 1:return t.sent(),[2]}})})},n.prototype.openContrats=function(n){return o.b(this,void 0,void 0,function(){var t=this;return o.e(this,function(e){switch(e.label){case 0:return this.onOneList(!1,!0,!1),console.log("Recherche des contrats pour ",n),[4,this.contratSignerService.fetchCommunityContratSigner(n).then(function(n){return t.contratsSigners=n,console.log("All contrats signers",n),!0}).catch(function(n){return alert("Problem to get communities from database "+JSON.stringify(n)),!1})];case 1:return e.sent(),[2]}})})},n.prototype.openNetworks=function(n){return o.b(this,void 0,void 0,function(){var t=this;return o.e(this,function(e){switch(e.label){case 0:return this.onOneList(!1,!1,!0),console.log("Recherche des connexions pour ",n),[4,this.connexionCommunauteService.fetchConnexionCommunautes(n).then(function(n){return t.networkCommunities=n,console.log("All network communities",n),!0}).catch(function(n){return alert("Problem to get connexion communities "+JSON.stringify(n)),!1})];case 1:return e.sent(),[2]}})})},n.prototype.signerContrat=function(n){return o.b(this,void 0,void 0,function(){var t,e=this;return o.e(this,function(o){switch(o.label){case 0:return this.hasSendSignerContrat=!1,console.log("nouveau contrat signer avec la communaut\xe9 ",n),t=new O({idContratSigner:null,dateCreation:this.dateToTimestamp(new Date),utilisateur:this.user,communaute:n}),console.log("Objet \xe0 envoyer ",t),[4,this.contratSignerService.newContratSigner(t).then(function(t){return e.hasSendSignerContrat=!0,e.messageCreation="Signature avec la communaut\xe9 '"+n.nom+"' prise en compte",console.log("Nouveau contrat signer",t),e.getAllCommunities(),e.getCommunauteWithContratSigner(e.user),!0}).catch(function(n){return alert("Problem with SignerContrat from database "+JSON.stringify(n)),!1})];case 1:return o.sent(),[2]}})})},n.prototype.getCommunauteWithContratSigner=function(n){return o.b(this,void 0,void 0,function(){var t=this;return o.e(this,function(e){switch(e.label){case 0:return console.log("Recherche des communautes avec qui use n'a pas de Contrats",n),[4,this.contratSignerService.fetchCommunityWithNoContratSigner(n).then(function(n){return t.communauteWithContratSigner=n,console.log("All communaute sans contrat",n),!0}).catch(function(n){return alert("Problem to get communities from database "+JSON.stringify(n)),!1})];case 1:return e.sent(),[2]}})})},n.prototype.showWithContratSigner=function(n){for(var t=0,e=this.communauteWithContratSigner;t<e.length;t++){if(e[t].idCommunaute===n.idCommunaute)return!1}return!this.isMine(n)},n.prototype.breakContratSigner=function(n){return o.b(this,void 0,void 0,function(){var t=this;return o.e(this,function(e){switch(e.label){case 0:return console.log("Rupture en cours ",n),[4,this.contratSignerService.deleteContratSigner(n).then(function(n){return t.hasSendSignerContrat=!0,console.log("Rupture  d'un contrat signer",n),!0}).catch(function(n){return alert("Problem to delete a ContratSigner from database "+JSON.stringify(n)),!1})];case 1:return e.sent(),[2]}})})},n.prototype.openContratDetails=function(n){console.log("Contrat en cours d'\xe9dition",n)},n.prototype.deleteCommunity=function(n){return o.b(this,void 0,void 0,function(){var t=this;return o.e(this,function(e){switch(e.label){case 0:return[4,this.communauteService.deleteCommunaute(n).then(function(n){return console.log("Delete communaute",n),t.getAllCommunities(),!0}).catch(function(n){return alert("Problem to delete communities from database "+JSON.stringify(n)),!1})];case 1:return e.sent(),[2]}})})},n.prototype.goBackToCommunaute=function(){this.onOneList(!0,!1,!1)},n.prototype.onOneList=function(n,t,e){void 0===n&&(n=!1),void 0===t&&(t=!1),void 0===e&&(e=!1),this.showMyCommunities=n,this.showMyContrats=t,this.showMyNetworks=e},n.prototype.isMine=function(n){return n.utilisateur.idUtilisateur===this.user.idUtilisateur},n.prototype.filter=function(n){this.showCommunities=!this.showCommunities},n.prototype.getUser=function(){return o.b(this,void 0,void 0,function(){var n=this;return o.e(this,function(t){switch(t.label){case 0:return[4,this.userService.getCurrentUser().then(function(t){return n.user=t,n.getMyCommunities(),n.getCommunauteWithContratSigner(n.user),!0}).catch(function(n){return alert("Problem to get User from database "+JSON.stringify(n)),!1})];case 1:return t.sent(),[2]}})})},n.prototype.fetchMicrocapOperators=function(){return o.b(this,void 0,void 0,function(){var n=this;return o.e(this,function(t){switch(t.label){case 0:return[4,this.userService.getUsers().then(function(t){n.microcapOperators=t.content,console.log("Operateurs Microcap",n.microcapOperators)}).catch(function(n){console.error(n)})];case 1:return t.sent(),[2]}})})},n.prototype.dateToTimestamp=function(n){return n.getTime()},n.prototype.formatDate=function(n){return new Date(n).toLocaleString()},n=o.c([Object(i.n)({selector:"app-communautes",template:e("5rOX"),styles:[e("zwH2")]}),o.f("design:paramtypes",[l.b,y.a,C.a,B,I,P])],n)}(),M=e("q4qu"),D=e("E49E"),T=e("Yqwa"),W=e("VcDs"),A=function(){function n(n){this.ref=n}return n.prototype.ngOnInit=function(){},n.prototype.cancel=function(){this.ref.close()},n.prototype.submit=function(n,t,e){this.detail=new W.a(n,t,e),this.ref.close(this.detail)},n=o.c([Object(i.n)({selector:"app-add-detail-partenaire",template:e("+9p+"),styles:[e("S4eW")]}),o.f("design:paramtypes",[u.k])],n)}(),z=function(){function n(n,t,e,o,i,r){this.formBuilder=n,this.toastrService=t,this.pfmService=e,this.groupService=o,this.dialogService=i,this.router=r,this.index=0,this.organisationFoundInBd=!1,this.loadingCheckExistingOrganisationFlag=!1,this.loadingFlag=!1,this.isGroupAdded=!1,this.errorFlag=!1,this.groupDetail={}}return n.prototype.ngOnInit=function(){var n=this;this.firstForm=this.formBuilder.group({identifiant_reseau:["",[l.g.required]]}),this.groupService.getGroupTypes().subscribe(function(t){n.groupTypes=t}),this.pfmService.getPlatformMembers().subscribe(function(t){n.platformMembers=t}),this.groupDetails=[],this.secondForm=this.formBuilder.group({numero_contrat:["",[]],date_creation:["",[]],type_profil:["",[]],nom_commercial:["",[]],partenaire_parent:["",[]],identifiant_admin:["",[]],identifiant_externe:["",[]]}),this.thirdForm=this.formBuilder.group({thirdCtrl:["",l.g.required]})},n.prototype.onFirstSubmit=function(){this.firstForm.markAsDirty()},n.prototype.onSecondSubmit=function(){this.secondForm.markAsDirty()},n.prototype.onThirdSubmit=function(){this.thirdForm.markAsDirty(),this.showToast("info")},n.prototype.showToast=function(n){this.toastrService.show(n,"Un partenaire a \xe9t\xe9 cr\xe9e.",{status:n})},n.prototype.getOrganisationById=function(){var n=this,t=this.firstForm.value.identifiant_reseau;this.loadingCheckExistingOrganisationFlag=!0,this.pfmService.getOrganisationById(t).subscribe(function(t){n.organisation=t,n.getInitiatorOfGroupBYId(),n.organisationFoundInBd=!0,n.loadingCheckExistingOrganisationFlag=!1},function(t){n.loadingCheckExistingOrganisationFlag=!1,n.organisationFoundInBd=!1,console.log(t)})},n.prototype.getInitiatorOfGroupBYId=function(){var n=this;console.log(this.organisation),this.groupService.getGroupsInitiator(this.organisation).subscribe(function(t){n.parent_groups=t,console.log(t)},function(n){console.log(n)})},n.prototype.addGroupe=function(){var n=this;this.loadingFlag=!0,this.errorFlag=!1;var t=this.groupTypes[+this.secondForm.value.type_profil],e=this.platformMembers[+this.secondForm.value.identifiant_admin],o=this.parent_groups[+this.secondForm.value.partenaire_parent];console.log(this.secondForm.value),console.log(this.secondForm.value.type_profil),this.group=new T.a(this.secondForm.value.nom_commercial,this.secondForm.value.identifiant_externe,t,e),this.group.setParent(o);var i=e.person;this.group.setvalidator(i),this.group.setInitiator(i),this.group.setAsPrivate(!0),this.group.setAsVisible(!0),console.log(this.group),this.groupService.addGroupAdmin(this.group).subscribe(function(t){console.log(t),n.createdGroup=t,0!=n.groupDetails.length&&n.groupDetails.forEach(function(t){t.appGroup=n.createdGroup,n.addGroupDetail(t)}),n.loadingFlag=!1,n.isGroupAdded=!0,n.groupDetail={},n.groupDetails=[],n.router.navigate(["/admin/social-network/partenaires/list-partenaires"])},function(t){n.errorFlag=!0,n.loadingFlag=!1})},n.prototype.addGroupDetail=function(n){this.groupService.addGroupDetail(n).subscribe()},n.prototype.openPropertyModal=function(){var n=this;this.dialogService.open(A).onClose.subscribe(function(t){return t&&n.groupDetails.push(t)})},n.prototype.onCreatePetenariat=function(){this.addGroupe()},n=o.c([Object(i.n)({selector:"app-add-partenaire",template:e("jEij"),styles:[e("Epq5")]}),o.f("design:paramtypes",[l.b,u.B,M.a,D.a,u.l,s.c])],n)}(),U={headers:new S.d({"Content-Type":"application/json","Access-Control-Allow-Origin":"*"})},q=function(){function n(n){this.http=n,this.contracts_url=w.a.serverEndpoint+"auth/sn/user/contracts",this.contracts_type_url=w.a.serverEndpoint+"auth/sn/user/contracts/pfm-contracts/"}return n.prototype.getContracts=function(){return this.http.get(this.contracts_url,U)},n.prototype.addContrat=function(n){return this.http.post(this.contracts_url+"/create",n,U)},n.prototype.getPlatformMemberContracts=function(n){return this.http.get(this.contracts_type_url+n,U)},n.prototype.getContractsByType=function(n){return this.http.get(this.contracts_url+"/"+n,U)},n=o.c([Object(i.C)({providedIn:"root"}),o.f("design:paramtypes",[S.b])],n)}(),j=function(){function n(n){this.contractService=n,this.disableEdit=!0,this.disableShow=!0,this.disableDelete=!0}return n.prototype.ngOnInit=function(){var n=this;this.contractService.getContractsByType("partnership_contract").subscribe(function(t){n.partenaires=t,console.log(t)})},n.prototype.selectPartenaire=function(n){this.partenaires.forEach(function(n){n.selected=!1}),n.selected=!0,this.disableEdit=!1,this.disableShow=!1,this.disableDelete=!1},n=o.c([Object(i.n)({selector:"app-list-partenaires",template:e("VdeR"),styles:[e("VAJn")]}),o.f("design:paramtypes",[q])],n)}(),V=[{path:"",component:a,children:[{path:"communautes",component:E},{path:"membres",component:g},{path:"partenaires",component:f},{path:"partenaires/add-partenaire",component:z},{path:"realisations",component:v},{path:"partenaires/list-partenaires",component:j},{path:"partenaires/add-partenaire/add-detail-partenaire",component:A}]}],G=function(){function n(){}return n=o.c([Object(i.K)({imports:[s.d.forChild(V)],exports:[s.d]})],n)}();e.d(t,"SocialNetworkModule",function(){return _});var _=function(){function n(){}return n=o.c([Object(i.K)({declarations:[a,f,E,g,v,z,j,A],imports:[G,r.b,l.f,u.y,u.e,u.x,u.c,u.o,u.m,l.c,s.d,u.n,u.u,u.f,u.a,u.p,u.b,u.g,u.r,u.t,u.q,u.h,u.s,u.D,u.w,u.d,u.A.forRoot(),u.i.forRoot(),u.j.forRoot(),u.E.forChild()],providers:[u.v]})],n)}()},zwH2:function(n,t){n.exports="form {\n  padding-top: 2rem;\n  padding-bottom: 1rem;\n  max-width: 700px;\n  margin: auto; }\n  form .field {\n    margin-bottom: 2rem; }\n  form .field label {\n      display: block; }\n  form .field .control, form .field .control input {\n      width: 100%; }\n  form .field nb-select ::ng-deep [nbButton] {\n      height: 46px;\n      border-color: #dadfe6;\n      text-transform: capitalize; }\n  .consult-wrapper .options .filter {\n  font-size: 90%;\n  border-radius: 5px;\n  border: 1px solid #ebeff5; }\n  .consult-wrapper .options .filter, .consult-wrapper .options .filter * {\n    display: -webkit-box;\n    display: flex;\n    -webkit-box-align: center;\n            align-items: center; }\n  .consult-wrapper .options .filter nb-checkbox ::ng-deep label {\n    padding: 0; }\n  .consult-wrapper .options .filter nb-checkbox ::ng-deep .customised-control-description {\n    display: none; }\n  .consult-wrapper .data {\n  font-size: 85%; }\n  .consult-wrapper .data tr:hover {\n    background-color: #f8fafd; }\n  .consult-wrapper .data thead tr:hover {\n    background-color: transparent; }\n  .consult-wrapper .data th, .consult-wrapper .data td {\n    vertical-align: middle; }\n  .consult-wrapper .data .pagination-wrapper .page-item .page-link:hover {\n    background-color: #f8fafd; }\n  .consult-wrapper .data .pagination-wrapper .page-item.active .page-link {\n    border-color: #3dcc6d;\n    background-color: #3dcc6d; }\n  .consult-wrapper .options .btn-secondary, .consult-wrapper .data .actions .btn-secondary {\n  cursor: pointer; }\n  .consult-wrapper .options .btn-secondary:hover, .consult-wrapper .data .actions .btn-secondary:hover {\n    color: #ffffff;\n    background-color: #40dc7e; }\n"}}]);